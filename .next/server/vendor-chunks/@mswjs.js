"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@mswjs";
exports.ids = ["vendor-chunks/@mswjs"];
exports.modules = {

/***/ "(rsc)/./node_modules/@mswjs/interceptors/lib/browser/chunk-QED3Q6Z2.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@mswjs/interceptors/lib/browser/chunk-QED3Q6Z2.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   INTERNAL_REQUEST_ID_HEADER_NAME: () => (/* binding */ INTERNAL_REQUEST_ID_HEADER_NAME),\n/* harmony export */   Interceptor: () => (/* binding */ Interceptor),\n/* harmony export */   InterceptorReadyState: () => (/* binding */ InterceptorReadyState),\n/* harmony export */   createRequestId: () => (/* binding */ createRequestId),\n/* harmony export */   deleteGlobalSymbol: () => (/* binding */ deleteGlobalSymbol),\n/* harmony export */   getGlobalSymbol: () => (/* binding */ getGlobalSymbol)\n/* harmony export */ });\n/* harmony import */ var _open_draft_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @open-draft/logger */ \"(rsc)/./node_modules/@open-draft/logger/lib/index.mjs\");\n/* harmony import */ var strict_event_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! strict-event-emitter */ \"(rsc)/./node_modules/strict-event-emitter/lib/index.mjs\");\n// src/Interceptor.ts\n\n\nvar INTERNAL_REQUEST_ID_HEADER_NAME = \"x-interceptors-internal-request-id\";\nfunction getGlobalSymbol(symbol) {\n  return (\n    // @ts-ignore https://github.com/Microsoft/TypeScript/issues/24587\n    globalThis[symbol] || void 0\n  );\n}\nfunction setGlobalSymbol(symbol, value) {\n  globalThis[symbol] = value;\n}\nfunction deleteGlobalSymbol(symbol) {\n  delete globalThis[symbol];\n}\nvar InterceptorReadyState = /* @__PURE__ */ ((InterceptorReadyState2) => {\n  InterceptorReadyState2[\"INACTIVE\"] = \"INACTIVE\";\n  InterceptorReadyState2[\"APPLYING\"] = \"APPLYING\";\n  InterceptorReadyState2[\"APPLIED\"] = \"APPLIED\";\n  InterceptorReadyState2[\"DISPOSING\"] = \"DISPOSING\";\n  InterceptorReadyState2[\"DISPOSED\"] = \"DISPOSED\";\n  return InterceptorReadyState2;\n})(InterceptorReadyState || {});\nvar Interceptor = class {\n  constructor(symbol) {\n    this.symbol = symbol;\n    this.readyState = \"INACTIVE\" /* INACTIVE */;\n    this.emitter = new strict_event_emitter__WEBPACK_IMPORTED_MODULE_1__.Emitter();\n    this.subscriptions = [];\n    this.logger = new _open_draft_logger__WEBPACK_IMPORTED_MODULE_0__.Logger(symbol.description);\n    this.emitter.setMaxListeners(0);\n    this.logger.info(\"constructing the interceptor...\");\n  }\n  /**\n   * Determine if this interceptor can be applied\n   * in the current environment.\n   */\n  checkEnvironment() {\n    return true;\n  }\n  /**\n   * Apply this interceptor to the current process.\n   * Returns an already running interceptor instance if it's present.\n   */\n  apply() {\n    const logger = this.logger.extend(\"apply\");\n    logger.info(\"applying the interceptor...\");\n    if (this.readyState === \"APPLIED\" /* APPLIED */) {\n      logger.info(\"intercepted already applied!\");\n      return;\n    }\n    const shouldApply = this.checkEnvironment();\n    if (!shouldApply) {\n      logger.info(\"the interceptor cannot be applied in this environment!\");\n      return;\n    }\n    this.readyState = \"APPLYING\" /* APPLYING */;\n    const runningInstance = this.getInstance();\n    if (runningInstance) {\n      logger.info(\"found a running instance, reusing...\");\n      this.on = (event, listener) => {\n        logger.info('proxying the \"%s\" listener', event);\n        runningInstance.emitter.addListener(event, listener);\n        this.subscriptions.push(() => {\n          runningInstance.emitter.removeListener(event, listener);\n          logger.info('removed proxied \"%s\" listener!', event);\n        });\n        return this;\n      };\n      this.readyState = \"APPLIED\" /* APPLIED */;\n      return;\n    }\n    logger.info(\"no running instance found, setting up a new instance...\");\n    this.setup();\n    this.setInstance();\n    this.readyState = \"APPLIED\" /* APPLIED */;\n  }\n  /**\n   * Setup the module augments and stubs necessary for this interceptor.\n   * This method is not run if there's a running interceptor instance\n   * to prevent instantiating an interceptor multiple times.\n   */\n  setup() {\n  }\n  /**\n   * Listen to the interceptor's public events.\n   */\n  on(event, listener) {\n    const logger = this.logger.extend(\"on\");\n    if (this.readyState === \"DISPOSING\" /* DISPOSING */ || this.readyState === \"DISPOSED\" /* DISPOSED */) {\n      logger.info(\"cannot listen to events, already disposed!\");\n      return this;\n    }\n    logger.info('adding \"%s\" event listener:', event, listener);\n    this.emitter.on(event, listener);\n    return this;\n  }\n  once(event, listener) {\n    this.emitter.once(event, listener);\n    return this;\n  }\n  off(event, listener) {\n    this.emitter.off(event, listener);\n    return this;\n  }\n  removeAllListeners(event) {\n    this.emitter.removeAllListeners(event);\n    return this;\n  }\n  /**\n   * Disposes of any side-effects this interceptor has introduced.\n   */\n  dispose() {\n    const logger = this.logger.extend(\"dispose\");\n    if (this.readyState === \"DISPOSED\" /* DISPOSED */) {\n      logger.info(\"cannot dispose, already disposed!\");\n      return;\n    }\n    logger.info(\"disposing the interceptor...\");\n    this.readyState = \"DISPOSING\" /* DISPOSING */;\n    if (!this.getInstance()) {\n      logger.info(\"no interceptors running, skipping dispose...\");\n      return;\n    }\n    this.clearInstance();\n    logger.info(\"global symbol deleted:\", getGlobalSymbol(this.symbol));\n    if (this.subscriptions.length > 0) {\n      logger.info(\"disposing of %d subscriptions...\", this.subscriptions.length);\n      for (const dispose of this.subscriptions) {\n        dispose();\n      }\n      this.subscriptions = [];\n      logger.info(\"disposed of all subscriptions!\", this.subscriptions.length);\n    }\n    this.emitter.removeAllListeners();\n    logger.info(\"destroyed the listener!\");\n    this.readyState = \"DISPOSED\" /* DISPOSED */;\n  }\n  getInstance() {\n    var _a;\n    const instance = getGlobalSymbol(this.symbol);\n    this.logger.info(\"retrieved global instance:\", (_a = instance == null ? void 0 : instance.constructor) == null ? void 0 : _a.name);\n    return instance;\n  }\n  setInstance() {\n    setGlobalSymbol(this.symbol, this);\n    this.logger.info(\"set global instance!\", this.symbol.description);\n  }\n  clearInstance() {\n    deleteGlobalSymbol(this.symbol);\n    this.logger.info(\"cleared global instance!\", this.symbol.description);\n  }\n};\n\n// src/createRequestId.ts\nfunction createRequestId() {\n  return Math.random().toString(16).slice(2);\n}\n\n\n//# sourceMappingURL=chunk-QED3Q6Z2.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvYnJvd3Nlci9jaHVuay1RRUQzUTZaMi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUM0QztBQUNHO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDZCQUE2QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix5REFBTztBQUM5QjtBQUNBLHNCQUFzQixzREFBTTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFTRTtBQUNGIiwic291cmNlcyI6WyIvaG9tZS9yaWt1c2VuL3dvcmtzcGFjZS9uZXh0anMtbXN3LXJlcHJvZHVjdGlvbi9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvYnJvd3Nlci9jaHVuay1RRUQzUTZaMi5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL0ludGVyY2VwdG9yLnRzXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQG9wZW4tZHJhZnQvbG9nZ2VyXCI7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSBcInN0cmljdC1ldmVudC1lbWl0dGVyXCI7XG52YXIgSU5URVJOQUxfUkVRVUVTVF9JRF9IRUFERVJfTkFNRSA9IFwieC1pbnRlcmNlcHRvcnMtaW50ZXJuYWwtcmVxdWVzdC1pZFwiO1xuZnVuY3Rpb24gZ2V0R2xvYmFsU3ltYm9sKHN5bWJvbCkge1xuICByZXR1cm4gKFxuICAgIC8vIEB0cy1pZ25vcmUgaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNDU4N1xuICAgIGdsb2JhbFRoaXNbc3ltYm9sXSB8fCB2b2lkIDBcbiAgKTtcbn1cbmZ1bmN0aW9uIHNldEdsb2JhbFN5bWJvbChzeW1ib2wsIHZhbHVlKSB7XG4gIGdsb2JhbFRoaXNbc3ltYm9sXSA9IHZhbHVlO1xufVxuZnVuY3Rpb24gZGVsZXRlR2xvYmFsU3ltYm9sKHN5bWJvbCkge1xuICBkZWxldGUgZ2xvYmFsVGhpc1tzeW1ib2xdO1xufVxudmFyIEludGVyY2VwdG9yUmVhZHlTdGF0ZSA9IC8qIEBfX1BVUkVfXyAqLyAoKEludGVyY2VwdG9yUmVhZHlTdGF0ZTIpID0+IHtcbiAgSW50ZXJjZXB0b3JSZWFkeVN0YXRlMltcIklOQUNUSVZFXCJdID0gXCJJTkFDVElWRVwiO1xuICBJbnRlcmNlcHRvclJlYWR5U3RhdGUyW1wiQVBQTFlJTkdcIl0gPSBcIkFQUExZSU5HXCI7XG4gIEludGVyY2VwdG9yUmVhZHlTdGF0ZTJbXCJBUFBMSUVEXCJdID0gXCJBUFBMSUVEXCI7XG4gIEludGVyY2VwdG9yUmVhZHlTdGF0ZTJbXCJESVNQT1NJTkdcIl0gPSBcIkRJU1BPU0lOR1wiO1xuICBJbnRlcmNlcHRvclJlYWR5U3RhdGUyW1wiRElTUE9TRURcIl0gPSBcIkRJU1BPU0VEXCI7XG4gIHJldHVybiBJbnRlcmNlcHRvclJlYWR5U3RhdGUyO1xufSkoSW50ZXJjZXB0b3JSZWFkeVN0YXRlIHx8IHt9KTtcbnZhciBJbnRlcmNlcHRvciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3Ioc3ltYm9sKSB7XG4gICAgdGhpcy5zeW1ib2wgPSBzeW1ib2w7XG4gICAgdGhpcy5yZWFkeVN0YXRlID0gXCJJTkFDVElWRVwiIC8qIElOQUNUSVZFICovO1xuICAgIHRoaXMuZW1pdHRlciA9IG5ldyBFbWl0dGVyKCk7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zID0gW107XG4gICAgdGhpcy5sb2dnZXIgPSBuZXcgTG9nZ2VyKHN5bWJvbC5kZXNjcmlwdGlvbik7XG4gICAgdGhpcy5lbWl0dGVyLnNldE1heExpc3RlbmVycygwKTtcbiAgICB0aGlzLmxvZ2dlci5pbmZvKFwiY29uc3RydWN0aW5nIHRoZSBpbnRlcmNlcHRvci4uLlwiKTtcbiAgfVxuICAvKipcbiAgICogRGV0ZXJtaW5lIGlmIHRoaXMgaW50ZXJjZXB0b3IgY2FuIGJlIGFwcGxpZWRcbiAgICogaW4gdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQuXG4gICAqL1xuICBjaGVja0Vudmlyb25tZW50KCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBBcHBseSB0aGlzIGludGVyY2VwdG9yIHRvIHRoZSBjdXJyZW50IHByb2Nlc3MuXG4gICAqIFJldHVybnMgYW4gYWxyZWFkeSBydW5uaW5nIGludGVyY2VwdG9yIGluc3RhbmNlIGlmIGl0J3MgcHJlc2VudC5cbiAgICovXG4gIGFwcGx5KCkge1xuICAgIGNvbnN0IGxvZ2dlciA9IHRoaXMubG9nZ2VyLmV4dGVuZChcImFwcGx5XCIpO1xuICAgIGxvZ2dlci5pbmZvKFwiYXBwbHlpbmcgdGhlIGludGVyY2VwdG9yLi4uXCIpO1xuICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IFwiQVBQTElFRFwiIC8qIEFQUExJRUQgKi8pIHtcbiAgICAgIGxvZ2dlci5pbmZvKFwiaW50ZXJjZXB0ZWQgYWxyZWFkeSBhcHBsaWVkIVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2hvdWxkQXBwbHkgPSB0aGlzLmNoZWNrRW52aXJvbm1lbnQoKTtcbiAgICBpZiAoIXNob3VsZEFwcGx5KSB7XG4gICAgICBsb2dnZXIuaW5mbyhcInRoZSBpbnRlcmNlcHRvciBjYW5ub3QgYmUgYXBwbGllZCBpbiB0aGlzIGVudmlyb25tZW50IVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5yZWFkeVN0YXRlID0gXCJBUFBMWUlOR1wiIC8qIEFQUExZSU5HICovO1xuICAgIGNvbnN0IHJ1bm5pbmdJbnN0YW5jZSA9IHRoaXMuZ2V0SW5zdGFuY2UoKTtcbiAgICBpZiAocnVubmluZ0luc3RhbmNlKSB7XG4gICAgICBsb2dnZXIuaW5mbyhcImZvdW5kIGEgcnVubmluZyBpbnN0YW5jZSwgcmV1c2luZy4uLlwiKTtcbiAgICAgIHRoaXMub24gPSAoZXZlbnQsIGxpc3RlbmVyKSA9PiB7XG4gICAgICAgIGxvZ2dlci5pbmZvKCdwcm94eWluZyB0aGUgXCIlc1wiIGxpc3RlbmVyJywgZXZlbnQpO1xuICAgICAgICBydW5uaW5nSW5zdGFuY2UuZW1pdHRlci5hZGRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgcnVubmluZ0luc3RhbmNlLmVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICAgICAgICBsb2dnZXIuaW5mbygncmVtb3ZlZCBwcm94aWVkIFwiJXNcIiBsaXN0ZW5lciEnLCBldmVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH07XG4gICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIkFQUExJRURcIiAvKiBBUFBMSUVEICovO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsb2dnZXIuaW5mbyhcIm5vIHJ1bm5pbmcgaW5zdGFuY2UgZm91bmQsIHNldHRpbmcgdXAgYSBuZXcgaW5zdGFuY2UuLi5cIik7XG4gICAgdGhpcy5zZXR1cCgpO1xuICAgIHRoaXMuc2V0SW5zdGFuY2UoKTtcbiAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIkFQUExJRURcIiAvKiBBUFBMSUVEICovO1xuICB9XG4gIC8qKlxuICAgKiBTZXR1cCB0aGUgbW9kdWxlIGF1Z21lbnRzIGFuZCBzdHVicyBuZWNlc3NhcnkgZm9yIHRoaXMgaW50ZXJjZXB0b3IuXG4gICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBydW4gaWYgdGhlcmUncyBhIHJ1bm5pbmcgaW50ZXJjZXB0b3IgaW5zdGFuY2VcbiAgICogdG8gcHJldmVudCBpbnN0YW50aWF0aW5nIGFuIGludGVyY2VwdG9yIG11bHRpcGxlIHRpbWVzLlxuICAgKi9cbiAgc2V0dXAoKSB7XG4gIH1cbiAgLyoqXG4gICAqIExpc3RlbiB0byB0aGUgaW50ZXJjZXB0b3IncyBwdWJsaWMgZXZlbnRzLlxuICAgKi9cbiAgb24oZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgY29uc3QgbG9nZ2VyID0gdGhpcy5sb2dnZXIuZXh0ZW5kKFwib25cIik7XG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gXCJESVNQT1NJTkdcIiAvKiBESVNQT1NJTkcgKi8gfHwgdGhpcy5yZWFkeVN0YXRlID09PSBcIkRJU1BPU0VEXCIgLyogRElTUE9TRUQgKi8pIHtcbiAgICAgIGxvZ2dlci5pbmZvKFwiY2Fubm90IGxpc3RlbiB0byBldmVudHMsIGFscmVhZHkgZGlzcG9zZWQhXCIpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGxvZ2dlci5pbmZvKCdhZGRpbmcgXCIlc1wiIGV2ZW50IGxpc3RlbmVyOicsIGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgdGhpcy5lbWl0dGVyLm9uKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgb25jZShldmVudCwgbGlzdGVuZXIpIHtcbiAgICB0aGlzLmVtaXR0ZXIub25jZShldmVudCwgbGlzdGVuZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIG9mZihldmVudCwgbGlzdGVuZXIpIHtcbiAgICB0aGlzLmVtaXR0ZXIub2ZmKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gICAgdGhpcy5lbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycyhldmVudCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIERpc3Bvc2VzIG9mIGFueSBzaWRlLWVmZmVjdHMgdGhpcyBpbnRlcmNlcHRvciBoYXMgaW50cm9kdWNlZC5cbiAgICovXG4gIGRpc3Bvc2UoKSB7XG4gICAgY29uc3QgbG9nZ2VyID0gdGhpcy5sb2dnZXIuZXh0ZW5kKFwiZGlzcG9zZVwiKTtcbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBcIkRJU1BPU0VEXCIgLyogRElTUE9TRUQgKi8pIHtcbiAgICAgIGxvZ2dlci5pbmZvKFwiY2Fubm90IGRpc3Bvc2UsIGFscmVhZHkgZGlzcG9zZWQhXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsb2dnZXIuaW5mbyhcImRpc3Bvc2luZyB0aGUgaW50ZXJjZXB0b3IuLi5cIik7XG4gICAgdGhpcy5yZWFkeVN0YXRlID0gXCJESVNQT1NJTkdcIiAvKiBESVNQT1NJTkcgKi87XG4gICAgaWYgKCF0aGlzLmdldEluc3RhbmNlKCkpIHtcbiAgICAgIGxvZ2dlci5pbmZvKFwibm8gaW50ZXJjZXB0b3JzIHJ1bm5pbmcsIHNraXBwaW5nIGRpc3Bvc2UuLi5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY2xlYXJJbnN0YW5jZSgpO1xuICAgIGxvZ2dlci5pbmZvKFwiZ2xvYmFsIHN5bWJvbCBkZWxldGVkOlwiLCBnZXRHbG9iYWxTeW1ib2wodGhpcy5zeW1ib2wpKTtcbiAgICBpZiAodGhpcy5zdWJzY3JpcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIGxvZ2dlci5pbmZvKFwiZGlzcG9zaW5nIG9mICVkIHN1YnNjcmlwdGlvbnMuLi5cIiwgdGhpcy5zdWJzY3JpcHRpb25zLmxlbmd0aCk7XG4gICAgICBmb3IgKGNvbnN0IGRpc3Bvc2Ugb2YgdGhpcy5zdWJzY3JpcHRpb25zKSB7XG4gICAgICAgIGRpc3Bvc2UoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgbG9nZ2VyLmluZm8oXCJkaXNwb3NlZCBvZiBhbGwgc3Vic2NyaXB0aW9ucyFcIiwgdGhpcy5zdWJzY3JpcHRpb25zLmxlbmd0aCk7XG4gICAgfVxuICAgIHRoaXMuZW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICBsb2dnZXIuaW5mbyhcImRlc3Ryb3llZCB0aGUgbGlzdGVuZXIhXCIpO1xuICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwiRElTUE9TRURcIiAvKiBESVNQT1NFRCAqLztcbiAgfVxuICBnZXRJbnN0YW5jZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRHbG9iYWxTeW1ib2wodGhpcy5zeW1ib2wpO1xuICAgIHRoaXMubG9nZ2VyLmluZm8oXCJyZXRyaWV2ZWQgZ2xvYmFsIGluc3RhbmNlOlwiLCAoX2EgPSBpbnN0YW5jZSA9PSBudWxsID8gdm9pZCAwIDogaW5zdGFuY2UuY29uc3RydWN0b3IpID09IG51bGwgPyB2b2lkIDAgOiBfYS5uYW1lKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cbiAgc2V0SW5zdGFuY2UoKSB7XG4gICAgc2V0R2xvYmFsU3ltYm9sKHRoaXMuc3ltYm9sLCB0aGlzKTtcbiAgICB0aGlzLmxvZ2dlci5pbmZvKFwic2V0IGdsb2JhbCBpbnN0YW5jZSFcIiwgdGhpcy5zeW1ib2wuZGVzY3JpcHRpb24pO1xuICB9XG4gIGNsZWFySW5zdGFuY2UoKSB7XG4gICAgZGVsZXRlR2xvYmFsU3ltYm9sKHRoaXMuc3ltYm9sKTtcbiAgICB0aGlzLmxvZ2dlci5pbmZvKFwiY2xlYXJlZCBnbG9iYWwgaW5zdGFuY2UhXCIsIHRoaXMuc3ltYm9sLmRlc2NyaXB0aW9uKTtcbiAgfVxufTtcblxuLy8gc3JjL2NyZWF0ZVJlcXVlc3RJZC50c1xuZnVuY3Rpb24gY3JlYXRlUmVxdWVzdElkKCkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygxNikuc2xpY2UoMik7XG59XG5cbmV4cG9ydCB7XG4gIElOVEVSTkFMX1JFUVVFU1RfSURfSEVBREVSX05BTUUsXG4gIGdldEdsb2JhbFN5bWJvbCxcbiAgZGVsZXRlR2xvYmFsU3ltYm9sLFxuICBJbnRlcmNlcHRvclJlYWR5U3RhdGUsXG4gIEludGVyY2VwdG9yLFxuICBjcmVhdGVSZXF1ZXN0SWRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1RRUQzUTZaMi5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@mswjs/interceptors/lib/browser/chunk-QED3Q6Z2.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@mswjs/interceptors/lib/browser/chunk-TX5GBTFY.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@mswjs/interceptors/lib/browser/chunk-TX5GBTFY.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hasConfigurableGlobal: () => (/* binding */ hasConfigurableGlobal)\n/* harmony export */ });\n// src/utils/hasConfigurableGlobal.ts\nfunction hasConfigurableGlobal(propertyName) {\n  const descriptor = Object.getOwnPropertyDescriptor(globalThis, propertyName);\n  if (typeof descriptor === \"undefined\") {\n    return false;\n  }\n  if (typeof descriptor.get === \"function\" && typeof descriptor.get() === \"undefined\") {\n    return false;\n  }\n  if (typeof descriptor.get === \"undefined\" && descriptor.value == null) {\n    return false;\n  }\n  if (typeof descriptor.set === \"undefined\" && !descriptor.configurable) {\n    console.error(\n      `[MSW] Failed to apply interceptor: the global \\`${propertyName}\\` property is non-configurable. This is likely an issue with your environment. If you are using a framework, please open an issue about this in their repository.`\n    );\n    return false;\n  }\n  return true;\n}\n\n\n//# sourceMappingURL=chunk-TX5GBTFY.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvYnJvd3Nlci9jaHVuay1UWDVHQlRGWS5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsYUFBYTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL3Jpa3VzZW4vd29ya3NwYWNlL25leHRqcy1tc3ctcmVwcm9kdWN0aW9uL25vZGVfbW9kdWxlcy9AbXN3anMvaW50ZXJjZXB0b3JzL2xpYi9icm93c2VyL2NodW5rLVRYNUdCVEZZLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvdXRpbHMvaGFzQ29uZmlndXJhYmxlR2xvYmFsLnRzXG5mdW5jdGlvbiBoYXNDb25maWd1cmFibGVHbG9iYWwocHJvcGVydHlOYW1lKSB7XG4gIGNvbnN0IGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGdsb2JhbFRoaXMsIHByb3BlcnR5TmFtZSk7XG4gIGlmICh0eXBlb2YgZGVzY3JpcHRvciA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIGRlc2NyaXB0b3IuZ2V0ID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIGRlc2NyaXB0b3IuZ2V0KCkgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHR5cGVvZiBkZXNjcmlwdG9yLmdldCA9PT0gXCJ1bmRlZmluZWRcIiAmJiBkZXNjcmlwdG9yLnZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHR5cGVvZiBkZXNjcmlwdG9yLnNldCA9PT0gXCJ1bmRlZmluZWRcIiAmJiAhZGVzY3JpcHRvci5jb25maWd1cmFibGUpIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgYFtNU1ddIEZhaWxlZCB0byBhcHBseSBpbnRlcmNlcHRvcjogdGhlIGdsb2JhbCBcXGAke3Byb3BlcnR5TmFtZX1cXGAgcHJvcGVydHkgaXMgbm9uLWNvbmZpZ3VyYWJsZS4gVGhpcyBpcyBsaWtlbHkgYW4gaXNzdWUgd2l0aCB5b3VyIGVudmlyb25tZW50LiBJZiB5b3UgYXJlIHVzaW5nIGEgZnJhbWV3b3JrLCBwbGVhc2Ugb3BlbiBhbiBpc3N1ZSBhYm91dCB0aGlzIGluIHRoZWlyIHJlcG9zaXRvcnkuYFxuICAgICk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQge1xuICBoYXNDb25maWd1cmFibGVHbG9iYWxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1UWDVHQlRGWS5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@mswjs/interceptors/lib/browser/chunk-TX5GBTFY.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@mswjs/interceptors/lib/browser/interceptors/WebSocket/index.mjs":
/*!***************************************************************************************!*\
  !*** ./node_modules/@mswjs/interceptors/lib/browser/interceptors/WebSocket/index.mjs ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WebSocketClientConnection: () => (/* binding */ WebSocketClientConnection),\n/* harmony export */   WebSocketInterceptor: () => (/* binding */ WebSocketInterceptor),\n/* harmony export */   WebSocketServerConnection: () => (/* binding */ WebSocketServerConnection)\n/* harmony export */ });\n/* harmony import */ var _chunk_TX5GBTFY_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunk-TX5GBTFY.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/browser/chunk-TX5GBTFY.mjs\");\n/* harmony import */ var _chunk_QED3Q6Z2_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../chunk-QED3Q6Z2.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/browser/chunk-QED3Q6Z2.mjs\");\n/* harmony import */ var outvariant__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! outvariant */ \"(rsc)/./node_modules/outvariant/lib/index.mjs\");\n/* harmony import */ var _open_draft_deferred_promise__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @open-draft/deferred-promise */ \"(rsc)/./node_modules/@open-draft/deferred-promise/build/index.mjs\");\n\n\n\n// src/interceptors/WebSocket/utils/bindEvent.ts\nfunction bindEvent(target, event) {\n  Object.defineProperties(event, {\n    target: {\n      value: target,\n      enumerable: true,\n      writable: true\n    },\n    currentTarget: {\n      value: target,\n      enumerable: true,\n      writable: true\n    }\n  });\n  return event;\n}\n\n// src/interceptors/WebSocket/utils/events.ts\nvar kCancelable = Symbol(\"kCancelable\");\nvar kDefaultPrevented = Symbol(\"kDefaultPrevented\");\nvar CancelableMessageEvent = class extends MessageEvent {\n  constructor(type, init) {\n    super(type, init);\n    this[kCancelable] = !!init.cancelable;\n    this[kDefaultPrevented] = false;\n  }\n  get cancelable() {\n    return this[kCancelable];\n  }\n  set cancelable(nextCancelable) {\n    this[kCancelable] = nextCancelable;\n  }\n  get defaultPrevented() {\n    return this[kDefaultPrevented];\n  }\n  set defaultPrevented(nextDefaultPrevented) {\n    this[kDefaultPrevented] = nextDefaultPrevented;\n  }\n  preventDefault() {\n    if (this.cancelable && !this[kDefaultPrevented]) {\n      this[kDefaultPrevented] = true;\n    }\n  }\n};\nkCancelable, kDefaultPrevented;\nvar CloseEvent = class extends Event {\n  constructor(type, init = {}) {\n    super(type, init);\n    this.code = init.code === void 0 ? 0 : init.code;\n    this.reason = init.reason === void 0 ? \"\" : init.reason;\n    this.wasClean = init.wasClean === void 0 ? false : init.wasClean;\n  }\n};\nvar CancelableCloseEvent = class extends CloseEvent {\n  constructor(type, init = {}) {\n    super(type, init);\n    this[kCancelable] = !!init.cancelable;\n    this[kDefaultPrevented] = false;\n  }\n  get cancelable() {\n    return this[kCancelable];\n  }\n  set cancelable(nextCancelable) {\n    this[kCancelable] = nextCancelable;\n  }\n  get defaultPrevented() {\n    return this[kDefaultPrevented];\n  }\n  set defaultPrevented(nextDefaultPrevented) {\n    this[kDefaultPrevented] = nextDefaultPrevented;\n  }\n  preventDefault() {\n    if (this.cancelable && !this[kDefaultPrevented]) {\n      this[kDefaultPrevented] = true;\n    }\n  }\n};\nkCancelable, kDefaultPrevented;\n\n// src/interceptors/WebSocket/WebSocketClientConnection.ts\nvar kEmitter = Symbol(\"kEmitter\");\nvar kBoundListener = Symbol(\"kBoundListener\");\nvar WebSocketClientConnection = class {\n  constructor(socket, transport) {\n    this.socket = socket;\n    this.transport = transport;\n    this.id = (0,_chunk_QED3Q6Z2_mjs__WEBPACK_IMPORTED_MODULE_1__.createRequestId)();\n    this.url = new URL(socket.url);\n    this[kEmitter] = new EventTarget();\n    this.transport.addEventListener(\"outgoing\", (event) => {\n      const message = bindEvent(\n        this.socket,\n        new CancelableMessageEvent(\"message\", {\n          data: event.data,\n          origin: event.origin,\n          cancelable: true\n        })\n      );\n      this[kEmitter].dispatchEvent(message);\n      if (message.defaultPrevented) {\n        event.preventDefault();\n      }\n    });\n    this.transport.addEventListener(\"close\", (event) => {\n      this[kEmitter].dispatchEvent(\n        bindEvent(this.socket, new CloseEvent(\"close\", event))\n      );\n    });\n  }\n  /**\n   * Listen for the outgoing events from the connected WebSocket client.\n   */\n  addEventListener(type, listener, options) {\n    if (!Reflect.has(listener, kBoundListener)) {\n      const boundListener = listener.bind(this.socket);\n      Object.defineProperty(listener, kBoundListener, {\n        value: boundListener,\n        enumerable: false,\n        configurable: false\n      });\n    }\n    this[kEmitter].addEventListener(\n      type,\n      Reflect.get(listener, kBoundListener),\n      options\n    );\n  }\n  /**\n   * Removes the listener for the given event.\n   */\n  removeEventListener(event, listener, options) {\n    this[kEmitter].removeEventListener(\n      event,\n      Reflect.get(listener, kBoundListener),\n      options\n    );\n  }\n  /**\n   * Send data to the connected client.\n   */\n  send(data) {\n    this.transport.send(data);\n  }\n  /**\n   * Close the WebSocket connection.\n   * @param {number} code A status code (see https://www.rfc-editor.org/rfc/rfc6455#section-7.4.1).\n   * @param {string} reason A custom connection close reason.\n   */\n  close(code, reason) {\n    this.transport.close(code, reason);\n  }\n};\nkEmitter;\n\n// src/interceptors/WebSocket/WebSocketServerConnection.ts\n\n\n// src/interceptors/WebSocket/WebSocketOverride.ts\n\n\nvar WEBSOCKET_CLOSE_CODE_RANGE_ERROR = \"InvalidAccessError: close code out of user configurable range\";\nvar kPassthroughPromise = Symbol(\"kPassthroughPromise\");\nvar kOnSend = Symbol(\"kOnSend\");\nvar kClose = Symbol(\"kClose\");\nvar WebSocketOverride = class extends EventTarget {\n  constructor(url, protocols) {\n    super();\n    this.CONNECTING = 0;\n    this.OPEN = 1;\n    this.CLOSING = 2;\n    this.CLOSED = 3;\n    this._onopen = null;\n    this._onmessage = null;\n    this._onerror = null;\n    this._onclose = null;\n    this.url = url.toString();\n    this.protocol = \"\";\n    this.extensions = \"\";\n    this.binaryType = \"blob\";\n    this.readyState = this.CONNECTING;\n    this.bufferedAmount = 0;\n    this[kPassthroughPromise] = new _open_draft_deferred_promise__WEBPACK_IMPORTED_MODULE_3__.DeferredPromise();\n    queueMicrotask(async () => {\n      if (await this[kPassthroughPromise]) {\n        return;\n      }\n      this.protocol = typeof protocols === \"string\" ? protocols : Array.isArray(protocols) && protocols.length > 0 ? protocols[0] : \"\";\n      if (this.readyState === this.CONNECTING) {\n        this.readyState = this.OPEN;\n        this.dispatchEvent(bindEvent(this, new Event(\"open\")));\n      }\n    });\n  }\n  set onopen(listener) {\n    this.removeEventListener(\"open\", this._onopen);\n    this._onopen = listener;\n    if (listener !== null) {\n      this.addEventListener(\"open\", listener);\n    }\n  }\n  get onopen() {\n    return this._onopen;\n  }\n  set onmessage(listener) {\n    this.removeEventListener(\n      \"message\",\n      this._onmessage\n    );\n    this._onmessage = listener;\n    if (listener !== null) {\n      this.addEventListener(\"message\", listener);\n    }\n  }\n  get onmessage() {\n    return this._onmessage;\n  }\n  set onerror(listener) {\n    this.removeEventListener(\"error\", this._onerror);\n    this._onerror = listener;\n    if (listener !== null) {\n      this.addEventListener(\"error\", listener);\n    }\n  }\n  get onerror() {\n    return this._onerror;\n  }\n  set onclose(listener) {\n    this.removeEventListener(\"close\", this._onclose);\n    this._onclose = listener;\n    if (listener !== null) {\n      this.addEventListener(\"close\", listener);\n    }\n  }\n  get onclose() {\n    return this._onclose;\n  }\n  /**\n   * @see https://websockets.spec.whatwg.org/#ref-for-dom-websocket-send%E2%91%A0\n   */\n  send(data) {\n    if (this.readyState === this.CONNECTING) {\n      this.close();\n      throw new DOMException(\"InvalidStateError\");\n    }\n    if (this.readyState === this.CLOSING || this.readyState === this.CLOSED) {\n      return;\n    }\n    this.bufferedAmount += getDataSize(data);\n    queueMicrotask(() => {\n      var _a;\n      this.bufferedAmount = 0;\n      (_a = this[kOnSend]) == null ? void 0 : _a.call(this, data);\n    });\n  }\n  close(code = 1e3, reason) {\n    (0,outvariant__WEBPACK_IMPORTED_MODULE_2__.invariant)(code, WEBSOCKET_CLOSE_CODE_RANGE_ERROR);\n    (0,outvariant__WEBPACK_IMPORTED_MODULE_2__.invariant)(\n      code === 1e3 || code >= 3e3 && code <= 4999,\n      WEBSOCKET_CLOSE_CODE_RANGE_ERROR\n    );\n    this[kClose](code, reason);\n  }\n  [(kPassthroughPromise, kOnSend, kClose)](code = 1e3, reason, wasClean = true) {\n    if (this.readyState === this.CLOSING || this.readyState === this.CLOSED) {\n      return;\n    }\n    this.readyState = this.CLOSING;\n    queueMicrotask(() => {\n      this.readyState = this.CLOSED;\n      this.dispatchEvent(\n        bindEvent(\n          this,\n          new CloseEvent(\"close\", {\n            code,\n            reason,\n            wasClean\n          })\n        )\n      );\n      this._onopen = null;\n      this._onmessage = null;\n      this._onerror = null;\n      this._onclose = null;\n    });\n  }\n  addEventListener(type, listener, options) {\n    return super.addEventListener(\n      type,\n      listener,\n      options\n    );\n  }\n  removeEventListener(type, callback, options) {\n    return super.removeEventListener(type, callback, options);\n  }\n};\nWebSocketOverride.CONNECTING = 0;\nWebSocketOverride.OPEN = 1;\nWebSocketOverride.CLOSING = 2;\nWebSocketOverride.CLOSED = 3;\nfunction getDataSize(data) {\n  if (typeof data === \"string\") {\n    return data.length;\n  }\n  if (data instanceof Blob) {\n    return data.size;\n  }\n  return data.byteLength;\n}\n\n// src/interceptors/WebSocket/WebSocketServerConnection.ts\nvar kEmitter2 = Symbol(\"kEmitter\");\nvar kBoundListener2 = Symbol(\"kBoundListener\");\nvar kSend = Symbol(\"kSend\");\nvar WebSocketServerConnection = class {\n  constructor(client, transport, createConnection) {\n    this.client = client;\n    this.transport = transport;\n    this.createConnection = createConnection;\n    this[kEmitter2] = new EventTarget();\n    this.mockCloseController = new AbortController();\n    this.realCloseController = new AbortController();\n    this.transport.addEventListener(\"outgoing\", (event) => {\n      if (typeof this.realWebSocket === \"undefined\") {\n        return;\n      }\n      queueMicrotask(() => {\n        if (!event.defaultPrevented) {\n          this[kSend](event.data);\n        }\n      });\n    });\n    this.transport.addEventListener(\n      \"incoming\",\n      this.handleIncomingMessage.bind(this)\n    );\n  }\n  /**\n   * The `WebSocket` instance connected to the original server.\n   * Accessing this before calling `server.connect()` will throw.\n   */\n  get socket() {\n    (0,outvariant__WEBPACK_IMPORTED_MODULE_2__.invariant)(\n      this.realWebSocket,\n      'Cannot access \"socket\" on the original WebSocket server object: the connection is not open. Did you forget to call `server.connect()`?'\n    );\n    return this.realWebSocket;\n  }\n  /**\n   * Open connection to the original WebSocket server.\n   */\n  connect() {\n    (0,outvariant__WEBPACK_IMPORTED_MODULE_2__.invariant)(\n      !this.realWebSocket || this.realWebSocket.readyState !== WebSocket.OPEN,\n      'Failed to call \"connect()\" on the original WebSocket instance: the connection already open'\n    );\n    const realWebSocket = this.createConnection();\n    realWebSocket.binaryType = this.client.binaryType;\n    realWebSocket.addEventListener(\n      \"open\",\n      (event) => {\n        this[kEmitter2].dispatchEvent(\n          bindEvent(this.realWebSocket, new Event(\"open\", event))\n        );\n      },\n      { once: true }\n    );\n    realWebSocket.addEventListener(\"message\", (event) => {\n      this.transport.dispatchEvent(\n        bindEvent(\n          this.realWebSocket,\n          new MessageEvent(\"incoming\", {\n            data: event.data,\n            origin: event.origin\n          })\n        )\n      );\n    });\n    this.client.addEventListener(\n      \"close\",\n      (event) => {\n        this.handleMockClose(event);\n      },\n      {\n        signal: this.mockCloseController.signal\n      }\n    );\n    realWebSocket.addEventListener(\n      \"close\",\n      (event) => {\n        this.handleRealClose(event);\n      },\n      {\n        signal: this.realCloseController.signal\n      }\n    );\n    realWebSocket.addEventListener(\"error\", () => {\n      const errorEvent = bindEvent(\n        realWebSocket,\n        new Event(\"error\", { cancelable: true })\n      );\n      this[kEmitter2].dispatchEvent(errorEvent);\n      if (!errorEvent.defaultPrevented) {\n        this.client.dispatchEvent(bindEvent(this.client, new Event(\"error\")));\n      }\n    });\n    this.realWebSocket = realWebSocket;\n  }\n  /**\n   * Listen for the incoming events from the original WebSocket server.\n   */\n  addEventListener(event, listener, options) {\n    if (!Reflect.has(listener, kBoundListener2)) {\n      const boundListener = listener.bind(this.client);\n      Object.defineProperty(listener, kBoundListener2, {\n        value: boundListener,\n        enumerable: false\n      });\n    }\n    this[kEmitter2].addEventListener(\n      event,\n      Reflect.get(listener, kBoundListener2),\n      options\n    );\n  }\n  /**\n   * Remove the listener for the given event.\n   */\n  removeEventListener(event, listener, options) {\n    this[kEmitter2].removeEventListener(\n      event,\n      Reflect.get(listener, kBoundListener2),\n      options\n    );\n  }\n  /**\n   * Send data to the original WebSocket server.\n   * @example\n   * server.send('hello')\n   * server.send(new Blob(['hello']))\n   * server.send(new TextEncoder().encode('hello'))\n   */\n  send(data) {\n    this[kSend](data);\n  }\n  [(kEmitter2, kSend)](data) {\n    const { realWebSocket } = this;\n    (0,outvariant__WEBPACK_IMPORTED_MODULE_2__.invariant)(\n      realWebSocket,\n      'Failed to call \"server.send()\" for \"%s\": the connection is not open. Did you forget to call \"server.connect()\"?',\n      this.client.url\n    );\n    if (realWebSocket.readyState === WebSocket.CLOSING || realWebSocket.readyState === WebSocket.CLOSED) {\n      return;\n    }\n    if (realWebSocket.readyState === WebSocket.CONNECTING) {\n      realWebSocket.addEventListener(\n        \"open\",\n        () => {\n          realWebSocket.send(data);\n        },\n        { once: true }\n      );\n      return;\n    }\n    realWebSocket.send(data);\n  }\n  /**\n   * Close the actual server connection.\n   */\n  close() {\n    const { realWebSocket } = this;\n    (0,outvariant__WEBPACK_IMPORTED_MODULE_2__.invariant)(\n      realWebSocket,\n      'Failed to close server connection for \"%s\": the connection is not open. Did you forget to call \"server.connect()\"?',\n      this.client.url\n    );\n    this.realCloseController.abort();\n    if (realWebSocket.readyState === WebSocket.CLOSING || realWebSocket.readyState === WebSocket.CLOSED) {\n      return;\n    }\n    realWebSocket.close();\n    queueMicrotask(() => {\n      this[kEmitter2].dispatchEvent(\n        bindEvent(\n          this.realWebSocket,\n          new CancelableCloseEvent(\"close\", {\n            /**\n             * @note `server.close()` in the interceptor\n             * always results in clean closures.\n             */\n            code: 1e3,\n            cancelable: true\n          })\n        )\n      );\n    });\n  }\n  handleIncomingMessage(event) {\n    const messageEvent = bindEvent(\n      event.target,\n      new CancelableMessageEvent(\"message\", {\n        data: event.data,\n        origin: event.origin,\n        cancelable: true\n      })\n    );\n    this[kEmitter2].dispatchEvent(messageEvent);\n    if (!messageEvent.defaultPrevented) {\n      this.client.dispatchEvent(\n        bindEvent(\n          /**\n           * @note Bind the forwarded original server events\n           * to the mock WebSocket instance so it would\n           * dispatch them straight away.\n           */\n          this.client,\n          // Clone the message event again to prevent\n          // the \"already being dispatched\" exception.\n          new MessageEvent(\"message\", {\n            data: event.data,\n            origin: event.origin\n          })\n        )\n      );\n    }\n  }\n  handleMockClose(_event) {\n    if (this.realWebSocket) {\n      this.realWebSocket.close();\n    }\n  }\n  handleRealClose(event) {\n    this.mockCloseController.abort();\n    const closeEvent = bindEvent(\n      this.realWebSocket,\n      new CancelableCloseEvent(\"close\", {\n        code: event.code,\n        reason: event.reason,\n        wasClean: event.wasClean,\n        cancelable: true\n      })\n    );\n    this[kEmitter2].dispatchEvent(closeEvent);\n    if (!closeEvent.defaultPrevented) {\n      this.client[kClose](event.code, event.reason);\n    }\n  }\n};\n\n// src/interceptors/WebSocket/WebSocketClassTransport.ts\nvar WebSocketClassTransport = class extends EventTarget {\n  constructor(socket) {\n    super();\n    this.socket = socket;\n    this.socket.addEventListener(\"close\", (event) => {\n      this.dispatchEvent(bindEvent(this.socket, new CloseEvent(\"close\", event)));\n    });\n    this.socket[kOnSend] = (data) => {\n      this.dispatchEvent(\n        bindEvent(\n          this.socket,\n          // Dispatch this as cancelable because \"client\" connection\n          // re-creates this message event (cannot dispatch the same event).\n          new CancelableMessageEvent(\"outgoing\", {\n            data,\n            origin: this.socket.url,\n            cancelable: true\n          })\n        )\n      );\n    };\n  }\n  addEventListener(type, callback, options) {\n    return super.addEventListener(type, callback, options);\n  }\n  dispatchEvent(event) {\n    return super.dispatchEvent(event);\n  }\n  send(data) {\n    queueMicrotask(() => {\n      if (this.socket.readyState === this.socket.CLOSING || this.socket.readyState === this.socket.CLOSED) {\n        return;\n      }\n      const dispatchEvent = () => {\n        this.socket.dispatchEvent(\n          bindEvent(\n            /**\n             * @note Setting this event's \"target\" to the\n             * WebSocket override instance is important.\n             * This way it can tell apart original incoming events\n             * (must be forwarded to the transport) from the\n             * mocked message events like the one below\n             * (must be dispatched on the client instance).\n             */\n            this.socket,\n            new MessageEvent(\"message\", {\n              data,\n              origin: this.socket.url\n            })\n          )\n        );\n      };\n      if (this.socket.readyState === this.socket.CONNECTING) {\n        this.socket.addEventListener(\n          \"open\",\n          () => {\n            dispatchEvent();\n          },\n          { once: true }\n        );\n      } else {\n        dispatchEvent();\n      }\n    });\n  }\n  close(code, reason) {\n    this.socket[kClose](code, reason);\n  }\n};\n\n// src/interceptors/WebSocket/index.ts\nvar _WebSocketInterceptor = class extends _chunk_QED3Q6Z2_mjs__WEBPACK_IMPORTED_MODULE_1__.Interceptor {\n  constructor() {\n    super(_WebSocketInterceptor.symbol);\n  }\n  checkEnvironment() {\n    return (0,_chunk_TX5GBTFY_mjs__WEBPACK_IMPORTED_MODULE_0__.hasConfigurableGlobal)(\"WebSocket\");\n  }\n  setup() {\n    const originalWebSocketDescriptor = Object.getOwnPropertyDescriptor(\n      globalThis,\n      \"WebSocket\"\n    );\n    const WebSocketProxy = new Proxy(globalThis.WebSocket, {\n      construct: (target, args, newTarget) => {\n        const [url, protocols] = args;\n        const createConnection = () => {\n          return Reflect.construct(target, args, newTarget);\n        };\n        const socket = new WebSocketOverride(url, protocols);\n        const transport = new WebSocketClassTransport(socket);\n        queueMicrotask(() => {\n          try {\n            const server = new WebSocketServerConnection(\n              socket,\n              transport,\n              createConnection\n            );\n            const hasConnectionListeners = this.emitter.emit(\"connection\", {\n              client: new WebSocketClientConnection(socket, transport),\n              server,\n              info: {\n                protocols\n              }\n            });\n            if (hasConnectionListeners) {\n              socket[kPassthroughPromise].resolve(false);\n            } else {\n              socket[kPassthroughPromise].resolve(true);\n              server.connect();\n              server.addEventListener(\"open\", () => {\n                socket.dispatchEvent(bindEvent(socket, new Event(\"open\")));\n                if (server[\"realWebSocket\"]) {\n                  socket.protocol = server[\"realWebSocket\"].protocol;\n                }\n              });\n            }\n          } catch (error) {\n            if (error instanceof Error) {\n              socket.dispatchEvent(new Event(\"error\"));\n              if (socket.readyState !== WebSocket.CLOSING && socket.readyState !== WebSocket.CLOSED) {\n                socket[kClose](1011, error.message, false);\n              }\n              console.error(error);\n            }\n          }\n        });\n        return socket;\n      }\n    });\n    Object.defineProperty(globalThis, \"WebSocket\", {\n      value: WebSocketProxy,\n      configurable: true\n    });\n    this.subscriptions.push(() => {\n      Object.defineProperty(\n        globalThis,\n        \"WebSocket\",\n        originalWebSocketDescriptor\n      );\n    });\n  }\n};\nvar WebSocketInterceptor = _WebSocketInterceptor;\nWebSocketInterceptor.symbol = Symbol(\"websocket\");\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvYnJvd3Nlci9pbnRlcmNlcHRvcnMvV2ViU29ja2V0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRWtDO0FBSUE7O0FBRWxDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLG9FQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNxRDs7QUFFckQ7QUFDdUM7QUFDd0I7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHlFQUFlO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLElBQUkscURBQVM7QUFDYixJQUFJLHFEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxxREFBVTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUkscURBQVU7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixrQkFBa0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnQkFBZ0I7QUFDNUIsSUFBSSxxREFBVTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnQkFBZ0I7QUFDNUIsSUFBSSxxREFBVTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxZQUFZO0FBQ1o7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMENBQTBDLDREQUFXO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywwRUFBcUI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFLRTtBQUNGIiwic291cmNlcyI6WyIvaG9tZS9yaWt1c2VuL3dvcmtzcGFjZS9uZXh0anMtbXN3LXJlcHJvZHVjdGlvbi9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvYnJvd3Nlci9pbnRlcmNlcHRvcnMvV2ViU29ja2V0L2luZGV4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBoYXNDb25maWd1cmFibGVHbG9iYWxcbn0gZnJvbSBcIi4uLy4uL2NodW5rLVRYNUdCVEZZLm1qc1wiO1xuaW1wb3J0IHtcbiAgSW50ZXJjZXB0b3IsXG4gIGNyZWF0ZVJlcXVlc3RJZFxufSBmcm9tIFwiLi4vLi4vY2h1bmstUUVEM1E2WjIubWpzXCI7XG5cbi8vIHNyYy9pbnRlcmNlcHRvcnMvV2ViU29ja2V0L3V0aWxzL2JpbmRFdmVudC50c1xuZnVuY3Rpb24gYmluZEV2ZW50KHRhcmdldCwgZXZlbnQpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZXZlbnQsIHtcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHZhbHVlOiB0YXJnZXQsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9LFxuICAgIGN1cnJlbnRUYXJnZXQ6IHtcbiAgICAgIHZhbHVlOiB0YXJnZXQsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZXZlbnQ7XG59XG5cbi8vIHNyYy9pbnRlcmNlcHRvcnMvV2ViU29ja2V0L3V0aWxzL2V2ZW50cy50c1xudmFyIGtDYW5jZWxhYmxlID0gU3ltYm9sKFwia0NhbmNlbGFibGVcIik7XG52YXIga0RlZmF1bHRQcmV2ZW50ZWQgPSBTeW1ib2woXCJrRGVmYXVsdFByZXZlbnRlZFwiKTtcbnZhciBDYW5jZWxhYmxlTWVzc2FnZUV2ZW50ID0gY2xhc3MgZXh0ZW5kcyBNZXNzYWdlRXZlbnQge1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBpbml0KSB7XG4gICAgc3VwZXIodHlwZSwgaW5pdCk7XG4gICAgdGhpc1trQ2FuY2VsYWJsZV0gPSAhIWluaXQuY2FuY2VsYWJsZTtcbiAgICB0aGlzW2tEZWZhdWx0UHJldmVudGVkXSA9IGZhbHNlO1xuICB9XG4gIGdldCBjYW5jZWxhYmxlKCkge1xuICAgIHJldHVybiB0aGlzW2tDYW5jZWxhYmxlXTtcbiAgfVxuICBzZXQgY2FuY2VsYWJsZShuZXh0Q2FuY2VsYWJsZSkge1xuICAgIHRoaXNba0NhbmNlbGFibGVdID0gbmV4dENhbmNlbGFibGU7XG4gIH1cbiAgZ2V0IGRlZmF1bHRQcmV2ZW50ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXNba0RlZmF1bHRQcmV2ZW50ZWRdO1xuICB9XG4gIHNldCBkZWZhdWx0UHJldmVudGVkKG5leHREZWZhdWx0UHJldmVudGVkKSB7XG4gICAgdGhpc1trRGVmYXVsdFByZXZlbnRlZF0gPSBuZXh0RGVmYXVsdFByZXZlbnRlZDtcbiAgfVxuICBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICBpZiAodGhpcy5jYW5jZWxhYmxlICYmICF0aGlzW2tEZWZhdWx0UHJldmVudGVkXSkge1xuICAgICAgdGhpc1trRGVmYXVsdFByZXZlbnRlZF0gPSB0cnVlO1xuICAgIH1cbiAgfVxufTtcbmtDYW5jZWxhYmxlLCBrRGVmYXVsdFByZXZlbnRlZDtcbnZhciBDbG9zZUV2ZW50ID0gY2xhc3MgZXh0ZW5kcyBFdmVudCB7XG4gIGNvbnN0cnVjdG9yKHR5cGUsIGluaXQgPSB7fSkge1xuICAgIHN1cGVyKHR5cGUsIGluaXQpO1xuICAgIHRoaXMuY29kZSA9IGluaXQuY29kZSA9PT0gdm9pZCAwID8gMCA6IGluaXQuY29kZTtcbiAgICB0aGlzLnJlYXNvbiA9IGluaXQucmVhc29uID09PSB2b2lkIDAgPyBcIlwiIDogaW5pdC5yZWFzb247XG4gICAgdGhpcy53YXNDbGVhbiA9IGluaXQud2FzQ2xlYW4gPT09IHZvaWQgMCA/IGZhbHNlIDogaW5pdC53YXNDbGVhbjtcbiAgfVxufTtcbnZhciBDYW5jZWxhYmxlQ2xvc2VFdmVudCA9IGNsYXNzIGV4dGVuZHMgQ2xvc2VFdmVudCB7XG4gIGNvbnN0cnVjdG9yKHR5cGUsIGluaXQgPSB7fSkge1xuICAgIHN1cGVyKHR5cGUsIGluaXQpO1xuICAgIHRoaXNba0NhbmNlbGFibGVdID0gISFpbml0LmNhbmNlbGFibGU7XG4gICAgdGhpc1trRGVmYXVsdFByZXZlbnRlZF0gPSBmYWxzZTtcbiAgfVxuICBnZXQgY2FuY2VsYWJsZSgpIHtcbiAgICByZXR1cm4gdGhpc1trQ2FuY2VsYWJsZV07XG4gIH1cbiAgc2V0IGNhbmNlbGFibGUobmV4dENhbmNlbGFibGUpIHtcbiAgICB0aGlzW2tDYW5jZWxhYmxlXSA9IG5leHRDYW5jZWxhYmxlO1xuICB9XG4gIGdldCBkZWZhdWx0UHJldmVudGVkKCkge1xuICAgIHJldHVybiB0aGlzW2tEZWZhdWx0UHJldmVudGVkXTtcbiAgfVxuICBzZXQgZGVmYXVsdFByZXZlbnRlZChuZXh0RGVmYXVsdFByZXZlbnRlZCkge1xuICAgIHRoaXNba0RlZmF1bHRQcmV2ZW50ZWRdID0gbmV4dERlZmF1bHRQcmV2ZW50ZWQ7XG4gIH1cbiAgcHJldmVudERlZmF1bHQoKSB7XG4gICAgaWYgKHRoaXMuY2FuY2VsYWJsZSAmJiAhdGhpc1trRGVmYXVsdFByZXZlbnRlZF0pIHtcbiAgICAgIHRoaXNba0RlZmF1bHRQcmV2ZW50ZWRdID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn07XG5rQ2FuY2VsYWJsZSwga0RlZmF1bHRQcmV2ZW50ZWQ7XG5cbi8vIHNyYy9pbnRlcmNlcHRvcnMvV2ViU29ja2V0L1dlYlNvY2tldENsaWVudENvbm5lY3Rpb24udHNcbnZhciBrRW1pdHRlciA9IFN5bWJvbChcImtFbWl0dGVyXCIpO1xudmFyIGtCb3VuZExpc3RlbmVyID0gU3ltYm9sKFwia0JvdW5kTGlzdGVuZXJcIik7XG52YXIgV2ViU29ja2V0Q2xpZW50Q29ubmVjdGlvbiA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3Ioc29ja2V0LCB0cmFuc3BvcnQpIHtcbiAgICB0aGlzLnNvY2tldCA9IHNvY2tldDtcbiAgICB0aGlzLnRyYW5zcG9ydCA9IHRyYW5zcG9ydDtcbiAgICB0aGlzLmlkID0gY3JlYXRlUmVxdWVzdElkKCk7XG4gICAgdGhpcy51cmwgPSBuZXcgVVJMKHNvY2tldC51cmwpO1xuICAgIHRoaXNba0VtaXR0ZXJdID0gbmV3IEV2ZW50VGFyZ2V0KCk7XG4gICAgdGhpcy50cmFuc3BvcnQuYWRkRXZlbnRMaXN0ZW5lcihcIm91dGdvaW5nXCIsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGJpbmRFdmVudChcbiAgICAgICAgdGhpcy5zb2NrZXQsXG4gICAgICAgIG5ldyBDYW5jZWxhYmxlTWVzc2FnZUV2ZW50KFwibWVzc2FnZVwiLCB7XG4gICAgICAgICAgZGF0YTogZXZlbnQuZGF0YSxcbiAgICAgICAgICBvcmlnaW46IGV2ZW50Lm9yaWdpbixcbiAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgdGhpc1trRW1pdHRlcl0uZGlzcGF0Y2hFdmVudChtZXNzYWdlKTtcbiAgICAgIGlmIChtZXNzYWdlLmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnRyYW5zcG9ydC5hZGRFdmVudExpc3RlbmVyKFwiY2xvc2VcIiwgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzW2tFbWl0dGVyXS5kaXNwYXRjaEV2ZW50KFxuICAgICAgICBiaW5kRXZlbnQodGhpcy5zb2NrZXQsIG5ldyBDbG9zZUV2ZW50KFwiY2xvc2VcIiwgZXZlbnQpKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogTGlzdGVuIGZvciB0aGUgb3V0Z29pbmcgZXZlbnRzIGZyb20gdGhlIGNvbm5lY3RlZCBXZWJTb2NrZXQgY2xpZW50LlxuICAgKi9cbiAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgIGlmICghUmVmbGVjdC5oYXMobGlzdGVuZXIsIGtCb3VuZExpc3RlbmVyKSkge1xuICAgICAgY29uc3QgYm91bmRMaXN0ZW5lciA9IGxpc3RlbmVyLmJpbmQodGhpcy5zb2NrZXQpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGxpc3RlbmVyLCBrQm91bmRMaXN0ZW5lciwge1xuICAgICAgICB2YWx1ZTogYm91bmRMaXN0ZW5lcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzW2tFbWl0dGVyXS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgdHlwZSxcbiAgICAgIFJlZmxlY3QuZ2V0KGxpc3RlbmVyLCBrQm91bmRMaXN0ZW5lciksXG4gICAgICBvcHRpb25zXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgbGlzdGVuZXIgZm9yIHRoZSBnaXZlbiBldmVudC5cbiAgICovXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgdGhpc1trRW1pdHRlcl0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgIGV2ZW50LFxuICAgICAgUmVmbGVjdC5nZXQobGlzdGVuZXIsIGtCb3VuZExpc3RlbmVyKSxcbiAgICAgIG9wdGlvbnNcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBTZW5kIGRhdGEgdG8gdGhlIGNvbm5lY3RlZCBjbGllbnQuXG4gICAqL1xuICBzZW5kKGRhdGEpIHtcbiAgICB0aGlzLnRyYW5zcG9ydC5zZW5kKGRhdGEpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9zZSB0aGUgV2ViU29ja2V0IGNvbm5lY3Rpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjb2RlIEEgc3RhdHVzIGNvZGUgKHNlZSBodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjNjQ1NSNzZWN0aW9uLTcuNC4xKS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlYXNvbiBBIGN1c3RvbSBjb25uZWN0aW9uIGNsb3NlIHJlYXNvbi5cbiAgICovXG4gIGNsb3NlKGNvZGUsIHJlYXNvbikge1xuICAgIHRoaXMudHJhbnNwb3J0LmNsb3NlKGNvZGUsIHJlYXNvbik7XG4gIH1cbn07XG5rRW1pdHRlcjtcblxuLy8gc3JjL2ludGVyY2VwdG9ycy9XZWJTb2NrZXQvV2ViU29ja2V0U2VydmVyQ29ubmVjdGlvbi50c1xuaW1wb3J0IHsgaW52YXJpYW50IGFzIGludmFyaWFudDIgfSBmcm9tIFwib3V0dmFyaWFudFwiO1xuXG4vLyBzcmMvaW50ZXJjZXB0b3JzL1dlYlNvY2tldC9XZWJTb2NrZXRPdmVycmlkZS50c1xuaW1wb3J0IHsgaW52YXJpYW50IH0gZnJvbSBcIm91dHZhcmlhbnRcIjtcbmltcG9ydCB7IERlZmVycmVkUHJvbWlzZSB9IGZyb20gXCJAb3Blbi1kcmFmdC9kZWZlcnJlZC1wcm9taXNlXCI7XG52YXIgV0VCU09DS0VUX0NMT1NFX0NPREVfUkFOR0VfRVJST1IgPSBcIkludmFsaWRBY2Nlc3NFcnJvcjogY2xvc2UgY29kZSBvdXQgb2YgdXNlciBjb25maWd1cmFibGUgcmFuZ2VcIjtcbnZhciBrUGFzc3Rocm91Z2hQcm9taXNlID0gU3ltYm9sKFwia1Bhc3N0aHJvdWdoUHJvbWlzZVwiKTtcbnZhciBrT25TZW5kID0gU3ltYm9sKFwia09uU2VuZFwiKTtcbnZhciBrQ2xvc2UgPSBTeW1ib2woXCJrQ2xvc2VcIik7XG52YXIgV2ViU29ja2V0T3ZlcnJpZGUgPSBjbGFzcyBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcbiAgY29uc3RydWN0b3IodXJsLCBwcm90b2NvbHMpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuQ09OTkVDVElORyA9IDA7XG4gICAgdGhpcy5PUEVOID0gMTtcbiAgICB0aGlzLkNMT1NJTkcgPSAyO1xuICAgIHRoaXMuQ0xPU0VEID0gMztcbiAgICB0aGlzLl9vbm9wZW4gPSBudWxsO1xuICAgIHRoaXMuX29ubWVzc2FnZSA9IG51bGw7XG4gICAgdGhpcy5fb25lcnJvciA9IG51bGw7XG4gICAgdGhpcy5fb25jbG9zZSA9IG51bGw7XG4gICAgdGhpcy51cmwgPSB1cmwudG9TdHJpbmcoKTtcbiAgICB0aGlzLnByb3RvY29sID0gXCJcIjtcbiAgICB0aGlzLmV4dGVuc2lvbnMgPSBcIlwiO1xuICAgIHRoaXMuYmluYXJ5VHlwZSA9IFwiYmxvYlwiO1xuICAgIHRoaXMucmVhZHlTdGF0ZSA9IHRoaXMuQ09OTkVDVElORztcbiAgICB0aGlzLmJ1ZmZlcmVkQW1vdW50ID0gMDtcbiAgICB0aGlzW2tQYXNzdGhyb3VnaFByb21pc2VdID0gbmV3IERlZmVycmVkUHJvbWlzZSgpO1xuICAgIHF1ZXVlTWljcm90YXNrKGFzeW5jICgpID0+IHtcbiAgICAgIGlmIChhd2FpdCB0aGlzW2tQYXNzdGhyb3VnaFByb21pc2VdKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMucHJvdG9jb2wgPSB0eXBlb2YgcHJvdG9jb2xzID09PSBcInN0cmluZ1wiID8gcHJvdG9jb2xzIDogQXJyYXkuaXNBcnJheShwcm90b2NvbHMpICYmIHByb3RvY29scy5sZW5ndGggPiAwID8gcHJvdG9jb2xzWzBdIDogXCJcIjtcbiAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IHRoaXMuQ09OTkVDVElORykge1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSB0aGlzLk9QRU47XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChiaW5kRXZlbnQodGhpcywgbmV3IEV2ZW50KFwib3BlblwiKSkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHNldCBvbm9wZW4obGlzdGVuZXIpIHtcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvcGVuXCIsIHRoaXMuX29ub3Blbik7XG4gICAgdGhpcy5fb25vcGVuID0gbGlzdGVuZXI7XG4gICAgaWYgKGxpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJvcGVuXCIsIGxpc3RlbmVyKTtcbiAgICB9XG4gIH1cbiAgZ2V0IG9ub3BlbigpIHtcbiAgICByZXR1cm4gdGhpcy5fb25vcGVuO1xuICB9XG4gIHNldCBvbm1lc3NhZ2UobGlzdGVuZXIpIHtcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICBcIm1lc3NhZ2VcIixcbiAgICAgIHRoaXMuX29ubWVzc2FnZVxuICAgICk7XG4gICAgdGhpcy5fb25tZXNzYWdlID0gbGlzdGVuZXI7XG4gICAgaWYgKGxpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGxpc3RlbmVyKTtcbiAgICB9XG4gIH1cbiAgZ2V0IG9ubWVzc2FnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fb25tZXNzYWdlO1xuICB9XG4gIHNldCBvbmVycm9yKGxpc3RlbmVyKSB7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgdGhpcy5fb25lcnJvcik7XG4gICAgdGhpcy5fb25lcnJvciA9IGxpc3RlbmVyO1xuICAgIGlmIChsaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfVxuICBnZXQgb25lcnJvcigpIHtcbiAgICByZXR1cm4gdGhpcy5fb25lcnJvcjtcbiAgfVxuICBzZXQgb25jbG9zZShsaXN0ZW5lcikge1xuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsb3NlXCIsIHRoaXMuX29uY2xvc2UpO1xuICAgIHRoaXMuX29uY2xvc2UgPSBsaXN0ZW5lcjtcbiAgICBpZiAobGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsb3NlXCIsIGxpc3RlbmVyKTtcbiAgICB9XG4gIH1cbiAgZ2V0IG9uY2xvc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuX29uY2xvc2U7XG4gIH1cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly93ZWJzb2NrZXRzLnNwZWMud2hhdHdnLm9yZy8jcmVmLWZvci1kb20td2Vic29ja2V0LXNlbmQlRTIlOTElQTBcbiAgICovXG4gIHNlbmQoZGF0YSkge1xuICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IHRoaXMuQ09OTkVDVElORykge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIkludmFsaWRTdGF0ZUVycm9yXCIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLkNMT1NJTkcgfHwgdGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLkNMT1NFRCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmJ1ZmZlcmVkQW1vdW50ICs9IGdldERhdGFTaXplKGRhdGEpO1xuICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIHRoaXMuYnVmZmVyZWRBbW91bnQgPSAwO1xuICAgICAgKF9hID0gdGhpc1trT25TZW5kXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcywgZGF0YSk7XG4gICAgfSk7XG4gIH1cbiAgY2xvc2UoY29kZSA9IDFlMywgcmVhc29uKSB7XG4gICAgaW52YXJpYW50KGNvZGUsIFdFQlNPQ0tFVF9DTE9TRV9DT0RFX1JBTkdFX0VSUk9SKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBjb2RlID09PSAxZTMgfHwgY29kZSA+PSAzZTMgJiYgY29kZSA8PSA0OTk5LFxuICAgICAgV0VCU09DS0VUX0NMT1NFX0NPREVfUkFOR0VfRVJST1JcbiAgICApO1xuICAgIHRoaXNba0Nsb3NlXShjb2RlLCByZWFzb24pO1xuICB9XG4gIFsoa1Bhc3N0aHJvdWdoUHJvbWlzZSwga09uU2VuZCwga0Nsb3NlKV0oY29kZSA9IDFlMywgcmVhc29uLCB3YXNDbGVhbiA9IHRydWUpIHtcbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLkNMT1NJTkcgfHwgdGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLkNMT1NFRCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnJlYWR5U3RhdGUgPSB0aGlzLkNMT1NJTkc7XG4gICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgdGhpcy5yZWFkeVN0YXRlID0gdGhpcy5DTE9TRUQ7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXG4gICAgICAgIGJpbmRFdmVudChcbiAgICAgICAgICB0aGlzLFxuICAgICAgICAgIG5ldyBDbG9zZUV2ZW50KFwiY2xvc2VcIiwge1xuICAgICAgICAgICAgY29kZSxcbiAgICAgICAgICAgIHJlYXNvbixcbiAgICAgICAgICAgIHdhc0NsZWFuXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIHRoaXMuX29ub3BlbiA9IG51bGw7XG4gICAgICB0aGlzLl9vbm1lc3NhZ2UgPSBudWxsO1xuICAgICAgdGhpcy5fb25lcnJvciA9IG51bGw7XG4gICAgICB0aGlzLl9vbmNsb3NlID0gbnVsbDtcbiAgICB9KTtcbiAgfVxuICBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHN1cGVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICB0eXBlLFxuICAgICAgbGlzdGVuZXIsXG4gICAgICBvcHRpb25zXG4gICAgKTtcbiAgfVxuICByZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHN1cGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2ssIG9wdGlvbnMpO1xuICB9XG59O1xuV2ViU29ja2V0T3ZlcnJpZGUuQ09OTkVDVElORyA9IDA7XG5XZWJTb2NrZXRPdmVycmlkZS5PUEVOID0gMTtcbldlYlNvY2tldE92ZXJyaWRlLkNMT1NJTkcgPSAyO1xuV2ViU29ja2V0T3ZlcnJpZGUuQ0xPU0VEID0gMztcbmZ1bmN0aW9uIGdldERhdGFTaXplKGRhdGEpIHtcbiAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIGRhdGEubGVuZ3RoO1xuICB9XG4gIGlmIChkYXRhIGluc3RhbmNlb2YgQmxvYikge1xuICAgIHJldHVybiBkYXRhLnNpemU7XG4gIH1cbiAgcmV0dXJuIGRhdGEuYnl0ZUxlbmd0aDtcbn1cblxuLy8gc3JjL2ludGVyY2VwdG9ycy9XZWJTb2NrZXQvV2ViU29ja2V0U2VydmVyQ29ubmVjdGlvbi50c1xudmFyIGtFbWl0dGVyMiA9IFN5bWJvbChcImtFbWl0dGVyXCIpO1xudmFyIGtCb3VuZExpc3RlbmVyMiA9IFN5bWJvbChcImtCb3VuZExpc3RlbmVyXCIpO1xudmFyIGtTZW5kID0gU3ltYm9sKFwia1NlbmRcIik7XG52YXIgV2ViU29ja2V0U2VydmVyQ29ubmVjdGlvbiA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoY2xpZW50LCB0cmFuc3BvcnQsIGNyZWF0ZUNvbm5lY3Rpb24pIHtcbiAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICB0aGlzLnRyYW5zcG9ydCA9IHRyYW5zcG9ydDtcbiAgICB0aGlzLmNyZWF0ZUNvbm5lY3Rpb24gPSBjcmVhdGVDb25uZWN0aW9uO1xuICAgIHRoaXNba0VtaXR0ZXIyXSA9IG5ldyBFdmVudFRhcmdldCgpO1xuICAgIHRoaXMubW9ja0Nsb3NlQ29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICB0aGlzLnJlYWxDbG9zZUNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgdGhpcy50cmFuc3BvcnQuYWRkRXZlbnRMaXN0ZW5lcihcIm91dGdvaW5nXCIsIChldmVudCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLnJlYWxXZWJTb2NrZXQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICBpZiAoIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICB0aGlzW2tTZW5kXShldmVudC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy50cmFuc3BvcnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwiaW5jb21pbmdcIixcbiAgICAgIHRoaXMuaGFuZGxlSW5jb21pbmdNZXNzYWdlLmJpbmQodGhpcylcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgYFdlYlNvY2tldGAgaW5zdGFuY2UgY29ubmVjdGVkIHRvIHRoZSBvcmlnaW5hbCBzZXJ2ZXIuXG4gICAqIEFjY2Vzc2luZyB0aGlzIGJlZm9yZSBjYWxsaW5nIGBzZXJ2ZXIuY29ubmVjdCgpYCB3aWxsIHRocm93LlxuICAgKi9cbiAgZ2V0IHNvY2tldCgpIHtcbiAgICBpbnZhcmlhbnQyKFxuICAgICAgdGhpcy5yZWFsV2ViU29ja2V0LFxuICAgICAgJ0Nhbm5vdCBhY2Nlc3MgXCJzb2NrZXRcIiBvbiB0aGUgb3JpZ2luYWwgV2ViU29ja2V0IHNlcnZlciBvYmplY3Q6IHRoZSBjb25uZWN0aW9uIGlzIG5vdCBvcGVuLiBEaWQgeW91IGZvcmdldCB0byBjYWxsIGBzZXJ2ZXIuY29ubmVjdCgpYD8nXG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5yZWFsV2ViU29ja2V0O1xuICB9XG4gIC8qKlxuICAgKiBPcGVuIGNvbm5lY3Rpb24gdG8gdGhlIG9yaWdpbmFsIFdlYlNvY2tldCBzZXJ2ZXIuXG4gICAqL1xuICBjb25uZWN0KCkge1xuICAgIGludmFyaWFudDIoXG4gICAgICAhdGhpcy5yZWFsV2ViU29ja2V0IHx8IHRoaXMucmVhbFdlYlNvY2tldC5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuT1BFTixcbiAgICAgICdGYWlsZWQgdG8gY2FsbCBcImNvbm5lY3QoKVwiIG9uIHRoZSBvcmlnaW5hbCBXZWJTb2NrZXQgaW5zdGFuY2U6IHRoZSBjb25uZWN0aW9uIGFscmVhZHkgb3BlbidcbiAgICApO1xuICAgIGNvbnN0IHJlYWxXZWJTb2NrZXQgPSB0aGlzLmNyZWF0ZUNvbm5lY3Rpb24oKTtcbiAgICByZWFsV2ViU29ja2V0LmJpbmFyeVR5cGUgPSB0aGlzLmNsaWVudC5iaW5hcnlUeXBlO1xuICAgIHJlYWxXZWJTb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwib3BlblwiLFxuICAgICAgKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXNba0VtaXR0ZXIyXS5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgIGJpbmRFdmVudCh0aGlzLnJlYWxXZWJTb2NrZXQsIG5ldyBFdmVudChcIm9wZW5cIiwgZXZlbnQpKVxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIHsgb25jZTogdHJ1ZSB9XG4gICAgKTtcbiAgICByZWFsV2ViU29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy50cmFuc3BvcnQuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgYmluZEV2ZW50KFxuICAgICAgICAgIHRoaXMucmVhbFdlYlNvY2tldCxcbiAgICAgICAgICBuZXcgTWVzc2FnZUV2ZW50KFwiaW5jb21pbmdcIiwge1xuICAgICAgICAgICAgZGF0YTogZXZlbnQuZGF0YSxcbiAgICAgICAgICAgIG9yaWdpbjogZXZlbnQub3JpZ2luXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9KTtcbiAgICB0aGlzLmNsaWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJjbG9zZVwiLFxuICAgICAgKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMuaGFuZGxlTW9ja0Nsb3NlKGV2ZW50KTtcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHNpZ25hbDogdGhpcy5tb2NrQ2xvc2VDb250cm9sbGVyLnNpZ25hbFxuICAgICAgfVxuICAgICk7XG4gICAgcmVhbFdlYlNvY2tldC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJjbG9zZVwiLFxuICAgICAgKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMuaGFuZGxlUmVhbENsb3NlKGV2ZW50KTtcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHNpZ25hbDogdGhpcy5yZWFsQ2xvc2VDb250cm9sbGVyLnNpZ25hbFxuICAgICAgfVxuICAgICk7XG4gICAgcmVhbFdlYlNvY2tldC5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3JFdmVudCA9IGJpbmRFdmVudChcbiAgICAgICAgcmVhbFdlYlNvY2tldCxcbiAgICAgICAgbmV3IEV2ZW50KFwiZXJyb3JcIiwgeyBjYW5jZWxhYmxlOiB0cnVlIH0pXG4gICAgICApO1xuICAgICAgdGhpc1trRW1pdHRlcjJdLmRpc3BhdGNoRXZlbnQoZXJyb3JFdmVudCk7XG4gICAgICBpZiAoIWVycm9yRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICB0aGlzLmNsaWVudC5kaXNwYXRjaEV2ZW50KGJpbmRFdmVudCh0aGlzLmNsaWVudCwgbmV3IEV2ZW50KFwiZXJyb3JcIikpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnJlYWxXZWJTb2NrZXQgPSByZWFsV2ViU29ja2V0O1xuICB9XG4gIC8qKlxuICAgKiBMaXN0ZW4gZm9yIHRoZSBpbmNvbWluZyBldmVudHMgZnJvbSB0aGUgb3JpZ2luYWwgV2ViU29ja2V0IHNlcnZlci5cbiAgICovXG4gIGFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgaWYgKCFSZWZsZWN0LmhhcyhsaXN0ZW5lciwga0JvdW5kTGlzdGVuZXIyKSkge1xuICAgICAgY29uc3QgYm91bmRMaXN0ZW5lciA9IGxpc3RlbmVyLmJpbmQodGhpcy5jbGllbnQpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGxpc3RlbmVyLCBrQm91bmRMaXN0ZW5lcjIsIHtcbiAgICAgICAgdmFsdWU6IGJvdW5kTGlzdGVuZXIsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpc1trRW1pdHRlcjJdLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBldmVudCxcbiAgICAgIFJlZmxlY3QuZ2V0KGxpc3RlbmVyLCBrQm91bmRMaXN0ZW5lcjIpLFxuICAgICAgb3B0aW9uc1xuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgbGlzdGVuZXIgZm9yIHRoZSBnaXZlbiBldmVudC5cbiAgICovXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgdGhpc1trRW1pdHRlcjJdLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICBldmVudCxcbiAgICAgIFJlZmxlY3QuZ2V0KGxpc3RlbmVyLCBrQm91bmRMaXN0ZW5lcjIpLFxuICAgICAgb3B0aW9uc1xuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFNlbmQgZGF0YSB0byB0aGUgb3JpZ2luYWwgV2ViU29ja2V0IHNlcnZlci5cbiAgICogQGV4YW1wbGVcbiAgICogc2VydmVyLnNlbmQoJ2hlbGxvJylcbiAgICogc2VydmVyLnNlbmQobmV3IEJsb2IoWydoZWxsbyddKSlcbiAgICogc2VydmVyLnNlbmQobmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKCdoZWxsbycpKVxuICAgKi9cbiAgc2VuZChkYXRhKSB7XG4gICAgdGhpc1trU2VuZF0oZGF0YSk7XG4gIH1cbiAgWyhrRW1pdHRlcjIsIGtTZW5kKV0oZGF0YSkge1xuICAgIGNvbnN0IHsgcmVhbFdlYlNvY2tldCB9ID0gdGhpcztcbiAgICBpbnZhcmlhbnQyKFxuICAgICAgcmVhbFdlYlNvY2tldCxcbiAgICAgICdGYWlsZWQgdG8gY2FsbCBcInNlcnZlci5zZW5kKClcIiBmb3IgXCIlc1wiOiB0aGUgY29ubmVjdGlvbiBpcyBub3Qgb3Blbi4gRGlkIHlvdSBmb3JnZXQgdG8gY2FsbCBcInNlcnZlci5jb25uZWN0KClcIj8nLFxuICAgICAgdGhpcy5jbGllbnQudXJsXG4gICAgKTtcbiAgICBpZiAocmVhbFdlYlNvY2tldC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ0xPU0lORyB8fCByZWFsV2ViU29ja2V0LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DTE9TRUQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHJlYWxXZWJTb2NrZXQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LkNPTk5FQ1RJTkcpIHtcbiAgICAgIHJlYWxXZWJTb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJvcGVuXCIsXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICByZWFsV2ViU29ja2V0LnNlbmQoZGF0YSk7XG4gICAgICAgIH0sXG4gICAgICAgIHsgb25jZTogdHJ1ZSB9XG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZWFsV2ViU29ja2V0LnNlbmQoZGF0YSk7XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlIHRoZSBhY3R1YWwgc2VydmVyIGNvbm5lY3Rpb24uXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICBjb25zdCB7IHJlYWxXZWJTb2NrZXQgfSA9IHRoaXM7XG4gICAgaW52YXJpYW50MihcbiAgICAgIHJlYWxXZWJTb2NrZXQsXG4gICAgICAnRmFpbGVkIHRvIGNsb3NlIHNlcnZlciBjb25uZWN0aW9uIGZvciBcIiVzXCI6IHRoZSBjb25uZWN0aW9uIGlzIG5vdCBvcGVuLiBEaWQgeW91IGZvcmdldCB0byBjYWxsIFwic2VydmVyLmNvbm5lY3QoKVwiPycsXG4gICAgICB0aGlzLmNsaWVudC51cmxcbiAgICApO1xuICAgIHRoaXMucmVhbENsb3NlQ29udHJvbGxlci5hYm9ydCgpO1xuICAgIGlmIChyZWFsV2ViU29ja2V0LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DTE9TSU5HIHx8IHJlYWxXZWJTb2NrZXQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LkNMT1NFRCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZWFsV2ViU29ja2V0LmNsb3NlKCk7XG4gICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgdGhpc1trRW1pdHRlcjJdLmRpc3BhdGNoRXZlbnQoXG4gICAgICAgIGJpbmRFdmVudChcbiAgICAgICAgICB0aGlzLnJlYWxXZWJTb2NrZXQsXG4gICAgICAgICAgbmV3IENhbmNlbGFibGVDbG9zZUV2ZW50KFwiY2xvc2VcIiwge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAbm90ZSBgc2VydmVyLmNsb3NlKClgIGluIHRoZSBpbnRlcmNlcHRvclxuICAgICAgICAgICAgICogYWx3YXlzIHJlc3VsdHMgaW4gY2xlYW4gY2xvc3VyZXMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvZGU6IDFlMyxcbiAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICApO1xuICAgIH0pO1xuICB9XG4gIGhhbmRsZUluY29taW5nTWVzc2FnZShldmVudCkge1xuICAgIGNvbnN0IG1lc3NhZ2VFdmVudCA9IGJpbmRFdmVudChcbiAgICAgIGV2ZW50LnRhcmdldCxcbiAgICAgIG5ldyBDYW5jZWxhYmxlTWVzc2FnZUV2ZW50KFwibWVzc2FnZVwiLCB7XG4gICAgICAgIGRhdGE6IGV2ZW50LmRhdGEsXG4gICAgICAgIG9yaWdpbjogZXZlbnQub3JpZ2luLFxuICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICB9KVxuICAgICk7XG4gICAgdGhpc1trRW1pdHRlcjJdLmRpc3BhdGNoRXZlbnQobWVzc2FnZUV2ZW50KTtcbiAgICBpZiAoIW1lc3NhZ2VFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICB0aGlzLmNsaWVudC5kaXNwYXRjaEV2ZW50KFxuICAgICAgICBiaW5kRXZlbnQoXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5vdGUgQmluZCB0aGUgZm9yd2FyZGVkIG9yaWdpbmFsIHNlcnZlciBldmVudHNcbiAgICAgICAgICAgKiB0byB0aGUgbW9jayBXZWJTb2NrZXQgaW5zdGFuY2Ugc28gaXQgd291bGRcbiAgICAgICAgICAgKiBkaXNwYXRjaCB0aGVtIHN0cmFpZ2h0IGF3YXkuXG4gICAgICAgICAgICovXG4gICAgICAgICAgdGhpcy5jbGllbnQsXG4gICAgICAgICAgLy8gQ2xvbmUgdGhlIG1lc3NhZ2UgZXZlbnQgYWdhaW4gdG8gcHJldmVudFxuICAgICAgICAgIC8vIHRoZSBcImFscmVhZHkgYmVpbmcgZGlzcGF0Y2hlZFwiIGV4Y2VwdGlvbi5cbiAgICAgICAgICBuZXcgTWVzc2FnZUV2ZW50KFwibWVzc2FnZVwiLCB7XG4gICAgICAgICAgICBkYXRhOiBldmVudC5kYXRhLFxuICAgICAgICAgICAgb3JpZ2luOiBldmVudC5vcmlnaW5cbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBoYW5kbGVNb2NrQ2xvc2UoX2V2ZW50KSB7XG4gICAgaWYgKHRoaXMucmVhbFdlYlNvY2tldCkge1xuICAgICAgdGhpcy5yZWFsV2ViU29ja2V0LmNsb3NlKCk7XG4gICAgfVxuICB9XG4gIGhhbmRsZVJlYWxDbG9zZShldmVudCkge1xuICAgIHRoaXMubW9ja0Nsb3NlQ29udHJvbGxlci5hYm9ydCgpO1xuICAgIGNvbnN0IGNsb3NlRXZlbnQgPSBiaW5kRXZlbnQoXG4gICAgICB0aGlzLnJlYWxXZWJTb2NrZXQsXG4gICAgICBuZXcgQ2FuY2VsYWJsZUNsb3NlRXZlbnQoXCJjbG9zZVwiLCB7XG4gICAgICAgIGNvZGU6IGV2ZW50LmNvZGUsXG4gICAgICAgIHJlYXNvbjogZXZlbnQucmVhc29uLFxuICAgICAgICB3YXNDbGVhbjogZXZlbnQud2FzQ2xlYW4sXG4gICAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICAgIH0pXG4gICAgKTtcbiAgICB0aGlzW2tFbWl0dGVyMl0uZGlzcGF0Y2hFdmVudChjbG9zZUV2ZW50KTtcbiAgICBpZiAoIWNsb3NlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgdGhpcy5jbGllbnRba0Nsb3NlXShldmVudC5jb2RlLCBldmVudC5yZWFzb24pO1xuICAgIH1cbiAgfVxufTtcblxuLy8gc3JjL2ludGVyY2VwdG9ycy9XZWJTb2NrZXQvV2ViU29ja2V0Q2xhc3NUcmFuc3BvcnQudHNcbnZhciBXZWJTb2NrZXRDbGFzc1RyYW5zcG9ydCA9IGNsYXNzIGV4dGVuZHMgRXZlbnRUYXJnZXQge1xuICBjb25zdHJ1Y3Rvcihzb2NrZXQpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc29ja2V0ID0gc29ja2V0O1xuICAgIHRoaXMuc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbG9zZVwiLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChiaW5kRXZlbnQodGhpcy5zb2NrZXQsIG5ldyBDbG9zZUV2ZW50KFwiY2xvc2VcIiwgZXZlbnQpKSk7XG4gICAgfSk7XG4gICAgdGhpcy5zb2NrZXRba09uU2VuZF0gPSAoZGF0YSkgPT4ge1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICBiaW5kRXZlbnQoXG4gICAgICAgICAgdGhpcy5zb2NrZXQsXG4gICAgICAgICAgLy8gRGlzcGF0Y2ggdGhpcyBhcyBjYW5jZWxhYmxlIGJlY2F1c2UgXCJjbGllbnRcIiBjb25uZWN0aW9uXG4gICAgICAgICAgLy8gcmUtY3JlYXRlcyB0aGlzIG1lc3NhZ2UgZXZlbnQgKGNhbm5vdCBkaXNwYXRjaCB0aGUgc2FtZSBldmVudCkuXG4gICAgICAgICAgbmV3IENhbmNlbGFibGVNZXNzYWdlRXZlbnQoXCJvdXRnb2luZ1wiLCB7XG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgb3JpZ2luOiB0aGlzLnNvY2tldC51cmwsXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9O1xuICB9XG4gIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gc3VwZXIuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjaywgb3B0aW9ucyk7XG4gIH1cbiAgZGlzcGF0Y2hFdmVudChldmVudCkge1xuICAgIHJldHVybiBzdXBlci5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgfVxuICBzZW5kKGRhdGEpIHtcbiAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgICBpZiAodGhpcy5zb2NrZXQucmVhZHlTdGF0ZSA9PT0gdGhpcy5zb2NrZXQuQ0xPU0lORyB8fCB0aGlzLnNvY2tldC5yZWFkeVN0YXRlID09PSB0aGlzLnNvY2tldC5DTE9TRUQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGlzcGF0Y2hFdmVudCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5zb2NrZXQuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgICBiaW5kRXZlbnQoXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBub3RlIFNldHRpbmcgdGhpcyBldmVudCdzIFwidGFyZ2V0XCIgdG8gdGhlXG4gICAgICAgICAgICAgKiBXZWJTb2NrZXQgb3ZlcnJpZGUgaW5zdGFuY2UgaXMgaW1wb3J0YW50LlxuICAgICAgICAgICAgICogVGhpcyB3YXkgaXQgY2FuIHRlbGwgYXBhcnQgb3JpZ2luYWwgaW5jb21pbmcgZXZlbnRzXG4gICAgICAgICAgICAgKiAobXVzdCBiZSBmb3J3YXJkZWQgdG8gdGhlIHRyYW5zcG9ydCkgZnJvbSB0aGVcbiAgICAgICAgICAgICAqIG1vY2tlZCBtZXNzYWdlIGV2ZW50cyBsaWtlIHRoZSBvbmUgYmVsb3dcbiAgICAgICAgICAgICAqIChtdXN0IGJlIGRpc3BhdGNoZWQgb24gdGhlIGNsaWVudCBpbnN0YW5jZSkuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuc29ja2V0LFxuICAgICAgICAgICAgbmV3IE1lc3NhZ2VFdmVudChcIm1lc3NhZ2VcIiwge1xuICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICBvcmlnaW46IHRoaXMuc29ja2V0LnVybFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9O1xuICAgICAgaWYgKHRoaXMuc29ja2V0LnJlYWR5U3RhdGUgPT09IHRoaXMuc29ja2V0LkNPTk5FQ1RJTkcpIHtcbiAgICAgICAgdGhpcy5zb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICBcIm9wZW5cIixcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaEV2ZW50KCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7IG9uY2U6IHRydWUgfVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGlzcGF0Y2hFdmVudCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGNsb3NlKGNvZGUsIHJlYXNvbikge1xuICAgIHRoaXMuc29ja2V0W2tDbG9zZV0oY29kZSwgcmVhc29uKTtcbiAgfVxufTtcblxuLy8gc3JjL2ludGVyY2VwdG9ycy9XZWJTb2NrZXQvaW5kZXgudHNcbnZhciBfV2ViU29ja2V0SW50ZXJjZXB0b3IgPSBjbGFzcyBleHRlbmRzIEludGVyY2VwdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoX1dlYlNvY2tldEludGVyY2VwdG9yLnN5bWJvbCk7XG4gIH1cbiAgY2hlY2tFbnZpcm9ubWVudCgpIHtcbiAgICByZXR1cm4gaGFzQ29uZmlndXJhYmxlR2xvYmFsKFwiV2ViU29ja2V0XCIpO1xuICB9XG4gIHNldHVwKCkge1xuICAgIGNvbnN0IG9yaWdpbmFsV2ViU29ja2V0RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXG4gICAgICBnbG9iYWxUaGlzLFxuICAgICAgXCJXZWJTb2NrZXRcIlxuICAgICk7XG4gICAgY29uc3QgV2ViU29ja2V0UHJveHkgPSBuZXcgUHJveHkoZ2xvYmFsVGhpcy5XZWJTb2NrZXQsIHtcbiAgICAgIGNvbnN0cnVjdDogKHRhcmdldCwgYXJncywgbmV3VGFyZ2V0KSA9PiB7XG4gICAgICAgIGNvbnN0IFt1cmwsIHByb3RvY29sc10gPSBhcmdzO1xuICAgICAgICBjb25zdCBjcmVhdGVDb25uZWN0aW9uID0gKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBSZWZsZWN0LmNvbnN0cnVjdCh0YXJnZXQsIGFyZ3MsIG5ld1RhcmdldCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHNvY2tldCA9IG5ldyBXZWJTb2NrZXRPdmVycmlkZSh1cmwsIHByb3RvY29scyk7XG4gICAgICAgIGNvbnN0IHRyYW5zcG9ydCA9IG5ldyBXZWJTb2NrZXRDbGFzc1RyYW5zcG9ydChzb2NrZXQpO1xuICAgICAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHNlcnZlciA9IG5ldyBXZWJTb2NrZXRTZXJ2ZXJDb25uZWN0aW9uKFxuICAgICAgICAgICAgICBzb2NrZXQsXG4gICAgICAgICAgICAgIHRyYW5zcG9ydCxcbiAgICAgICAgICAgICAgY3JlYXRlQ29ubmVjdGlvblxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IGhhc0Nvbm5lY3Rpb25MaXN0ZW5lcnMgPSB0aGlzLmVtaXR0ZXIuZW1pdChcImNvbm5lY3Rpb25cIiwge1xuICAgICAgICAgICAgICBjbGllbnQ6IG5ldyBXZWJTb2NrZXRDbGllbnRDb25uZWN0aW9uKHNvY2tldCwgdHJhbnNwb3J0KSxcbiAgICAgICAgICAgICAgc2VydmVyLFxuICAgICAgICAgICAgICBpbmZvOiB7XG4gICAgICAgICAgICAgICAgcHJvdG9jb2xzXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGhhc0Nvbm5lY3Rpb25MaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgc29ja2V0W2tQYXNzdGhyb3VnaFByb21pc2VdLnJlc29sdmUoZmFsc2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc29ja2V0W2tQYXNzdGhyb3VnaFByb21pc2VdLnJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICAgIHNlcnZlci5jb25uZWN0KCk7XG4gICAgICAgICAgICAgIHNlcnZlci5hZGRFdmVudExpc3RlbmVyKFwib3BlblwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc29ja2V0LmRpc3BhdGNoRXZlbnQoYmluZEV2ZW50KHNvY2tldCwgbmV3IEV2ZW50KFwib3BlblwiKSkpO1xuICAgICAgICAgICAgICAgIGlmIChzZXJ2ZXJbXCJyZWFsV2ViU29ja2V0XCJdKSB7XG4gICAgICAgICAgICAgICAgICBzb2NrZXQucHJvdG9jb2wgPSBzZXJ2ZXJbXCJyZWFsV2ViU29ja2V0XCJdLnByb3RvY29sO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgIHNvY2tldC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImVycm9yXCIpKTtcbiAgICAgICAgICAgICAgaWYgKHNvY2tldC5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuQ0xPU0lORyAmJiBzb2NrZXQucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0LkNMT1NFRCkge1xuICAgICAgICAgICAgICAgIHNvY2tldFtrQ2xvc2VdKDEwMTEsIGVycm9yLm1lc3NhZ2UsIGZhbHNlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc29ja2V0O1xuICAgICAgfVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShnbG9iYWxUaGlzLCBcIldlYlNvY2tldFwiLCB7XG4gICAgICB2YWx1ZTogV2ViU29ja2V0UHJveHksXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaCgoKSA9PiB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICAgIGdsb2JhbFRoaXMsXG4gICAgICAgIFwiV2ViU29ja2V0XCIsXG4gICAgICAgIG9yaWdpbmFsV2ViU29ja2V0RGVzY3JpcHRvclxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxufTtcbnZhciBXZWJTb2NrZXRJbnRlcmNlcHRvciA9IF9XZWJTb2NrZXRJbnRlcmNlcHRvcjtcbldlYlNvY2tldEludGVyY2VwdG9yLnN5bWJvbCA9IFN5bWJvbChcIndlYnNvY2tldFwiKTtcbmV4cG9ydCB7XG4gIFdlYlNvY2tldENsaWVudENvbm5lY3Rpb24sXG4gIFdlYlNvY2tldEludGVyY2VwdG9yLFxuICBXZWJTb2NrZXRTZXJ2ZXJDb25uZWN0aW9uXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@mswjs/interceptors/lib/browser/interceptors/WebSocket/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-5KMS5CTP.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@mswjs/interceptors/lib/node/chunk-5KMS5CTP.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RequestController: () => (/* binding */ RequestController),\n/* harmony export */   createServerErrorResponse: () => (/* binding */ createServerErrorResponse),\n/* harmony export */   emitAsync: () => (/* binding */ emitAsync),\n/* harmony export */   handleRequest: () => (/* binding */ handleRequest),\n/* harmony export */   isPropertyAccessible: () => (/* binding */ isPropertyAccessible)\n/* harmony export */ });\n/* harmony import */ var outvariant__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! outvariant */ \"(rsc)/./node_modules/outvariant/lib/index.mjs\");\n/* harmony import */ var _open_draft_deferred_promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @open-draft/deferred-promise */ \"(rsc)/./node_modules/@open-draft/deferred-promise/build/index.mjs\");\n/* harmony import */ var _open_draft_until__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @open-draft/until */ \"(rsc)/./node_modules/@open-draft/until/lib/index.mjs\");\n// src/RequestController.ts\n\n\n\n// src/InterceptorError.ts\nvar InterceptorError = class extends Error {\n  constructor(message) {\n    super(message);\n    this.name = \"InterceptorError\";\n    Object.setPrototypeOf(this, InterceptorError.prototype);\n  }\n};\n\n// src/RequestController.ts\nvar kRequestHandled = Symbol(\"kRequestHandled\");\nvar kResponsePromise = Symbol(\"kResponsePromise\");\nvar RequestController = class {\n  constructor(request) {\n    this.request = request;\n    this[kRequestHandled] = false;\n    this[kResponsePromise] = new _open_draft_deferred_promise__WEBPACK_IMPORTED_MODULE_1__.DeferredPromise();\n  }\n  /**\n   * Respond to this request with the given `Response` instance.\n   * @example\n   * controller.respondWith(new Response())\n   * controller.respondWith(Response.json({ id }))\n   * controller.respondWith(Response.error())\n   */\n  respondWith(response) {\n    outvariant__WEBPACK_IMPORTED_MODULE_0__.invariant.as(\n      InterceptorError,\n      !this[kRequestHandled],\n      'Failed to respond to the \"%s %s\" request: the \"request\" event has already been handled.',\n      this.request.method,\n      this.request.url\n    );\n    this[kRequestHandled] = true;\n    this[kResponsePromise].resolve(response);\n  }\n  /**\n   * Error this request with the given error.\n   * @example\n   * controller.errorWith()\n   * controller.errorWith(new Error('Oops!'))\n   */\n  errorWith(error) {\n    outvariant__WEBPACK_IMPORTED_MODULE_0__.invariant.as(\n      InterceptorError,\n      !this[kRequestHandled],\n      'Failed to error the \"%s %s\" request: the \"request\" event has already been handled.',\n      this.request.method,\n      this.request.url\n    );\n    this[kRequestHandled] = true;\n    this[kResponsePromise].resolve(error);\n  }\n};\nkResponsePromise, kRequestHandled;\n\n// src/utils/emitAsync.ts\nasync function emitAsync(emitter, eventName, ...data) {\n  const listners = emitter.listeners(eventName);\n  if (listners.length === 0) {\n    return;\n  }\n  for (const listener of listners) {\n    await listener.apply(emitter, data);\n  }\n}\n\n// src/utils/handleRequest.ts\n\n\n\n// src/utils/isPropertyAccessible.ts\nfunction isPropertyAccessible(obj, key) {\n  try {\n    obj[key];\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n// src/utils/responseUtils.ts\nfunction createServerErrorResponse(body) {\n  return new Response(\n    JSON.stringify(\n      body instanceof Error ? {\n        name: body.name,\n        message: body.message,\n        stack: body.stack\n      } : body\n    ),\n    {\n      status: 500,\n      statusText: \"Unhandled Exception\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }\n  );\n}\nfunction isResponseError(response) {\n  return isPropertyAccessible(response, \"type\") && response.type === \"error\";\n}\n\n// src/utils/isNodeLikeError.ts\nfunction isNodeLikeError(error) {\n  if (error == null) {\n    return false;\n  }\n  if (!(error instanceof Error)) {\n    return false;\n  }\n  return \"code\" in error && \"errno\" in error;\n}\n\n// src/utils/handleRequest.ts\nasync function handleRequest(options) {\n  const handleResponse = async (response) => {\n    if (response instanceof Error) {\n      options.onError(response);\n    } else if (isResponseError(response)) {\n      options.onRequestError(response);\n    } else {\n      await options.onResponse(response);\n    }\n    return true;\n  };\n  const handleResponseError = async (error) => {\n    if (error instanceof InterceptorError) {\n      throw result.error;\n    }\n    if (isNodeLikeError(error)) {\n      options.onError(error);\n      return true;\n    }\n    if (error instanceof Response) {\n      return await handleResponse(error);\n    }\n    return false;\n  };\n  options.emitter.once(\"request\", ({ requestId: pendingRequestId }) => {\n    if (pendingRequestId !== options.requestId) {\n      return;\n    }\n    if (options.controller[kResponsePromise].state === \"pending\") {\n      options.controller[kResponsePromise].resolve(void 0);\n    }\n  });\n  const requestAbortPromise = new _open_draft_deferred_promise__WEBPACK_IMPORTED_MODULE_1__.DeferredPromise();\n  if (options.request.signal) {\n    if (options.request.signal.aborted) {\n      requestAbortPromise.reject(options.request.signal.reason);\n    } else {\n      options.request.signal.addEventListener(\n        \"abort\",\n        () => {\n          requestAbortPromise.reject(options.request.signal.reason);\n        },\n        { once: true }\n      );\n    }\n  }\n  const result = await (0,_open_draft_until__WEBPACK_IMPORTED_MODULE_2__.until)(async () => {\n    const requestListtenersPromise = emitAsync(options.emitter, \"request\", {\n      requestId: options.requestId,\n      request: options.request,\n      controller: options.controller\n    });\n    await Promise.race([\n      // Short-circuit the request handling promise if the request gets aborted.\n      requestAbortPromise,\n      requestListtenersPromise,\n      options.controller[kResponsePromise]\n    ]);\n    const mockedResponse = await options.controller[kResponsePromise];\n    return mockedResponse;\n  });\n  if (requestAbortPromise.state === \"rejected\") {\n    options.onError(requestAbortPromise.rejectionReason);\n    return true;\n  }\n  if (result.error) {\n    if (await handleResponseError(result.error)) {\n      return true;\n    }\n    if (options.emitter.listenerCount(\"unhandledException\") > 0) {\n      const unhandledExceptionController = new RequestController(\n        options.request\n      );\n      await emitAsync(options.emitter, \"unhandledException\", {\n        error: result.error,\n        request: options.request,\n        requestId: options.requestId,\n        controller: unhandledExceptionController\n      }).then(() => {\n        if (unhandledExceptionController[kResponsePromise].state === \"pending\") {\n          unhandledExceptionController[kResponsePromise].resolve(void 0);\n        }\n      });\n      const nextResult = await (0,_open_draft_until__WEBPACK_IMPORTED_MODULE_2__.until)(\n        () => unhandledExceptionController[kResponsePromise]\n      );\n      if (nextResult.error) {\n        return handleResponseError(nextResult.error);\n      }\n      if (nextResult.data) {\n        return handleResponse(nextResult.data);\n      }\n    }\n    options.onResponse(createServerErrorResponse(result.error));\n    return true;\n  }\n  if (result.data) {\n    return handleResponse(result.data);\n  }\n  return false;\n}\n\n\n//# sourceMappingURL=chunk-5KMS5CTP.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvbm9kZS9jaHVuay01S01TNUNUUC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUN1QztBQUN3Qjs7QUFFL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx5RUFBZTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLElBQUk7QUFDaEQ7QUFDQTtBQUNBO0FBQ0EsSUFBSSxpREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxpREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDbUY7QUFDekM7O0FBRTFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLDZCQUE2QjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsa0NBQWtDLHlFQUFnQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix3REFBSztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLCtCQUErQix3REFBSztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQVFFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL3Jpa3VzZW4vd29ya3NwYWNlL25leHRqcy1tc3ctcmVwcm9kdWN0aW9uL25vZGVfbW9kdWxlcy9AbXN3anMvaW50ZXJjZXB0b3JzL2xpYi9ub2RlL2NodW5rLTVLTVM1Q1RQLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvUmVxdWVzdENvbnRyb2xsZXIudHNcbmltcG9ydCB7IGludmFyaWFudCB9IGZyb20gXCJvdXR2YXJpYW50XCI7XG5pbXBvcnQgeyBEZWZlcnJlZFByb21pc2UgfSBmcm9tIFwiQG9wZW4tZHJhZnQvZGVmZXJyZWQtcHJvbWlzZVwiO1xuXG4vLyBzcmMvSW50ZXJjZXB0b3JFcnJvci50c1xudmFyIEludGVyY2VwdG9yRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMubmFtZSA9IFwiSW50ZXJjZXB0b3JFcnJvclwiO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnRlcmNlcHRvckVycm9yLnByb3RvdHlwZSk7XG4gIH1cbn07XG5cbi8vIHNyYy9SZXF1ZXN0Q29udHJvbGxlci50c1xudmFyIGtSZXF1ZXN0SGFuZGxlZCA9IFN5bWJvbChcImtSZXF1ZXN0SGFuZGxlZFwiKTtcbnZhciBrUmVzcG9uc2VQcm9taXNlID0gU3ltYm9sKFwia1Jlc3BvbnNlUHJvbWlzZVwiKTtcbnZhciBSZXF1ZXN0Q29udHJvbGxlciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IocmVxdWVzdCkge1xuICAgIHRoaXMucmVxdWVzdCA9IHJlcXVlc3Q7XG4gICAgdGhpc1trUmVxdWVzdEhhbmRsZWRdID0gZmFsc2U7XG4gICAgdGhpc1trUmVzcG9uc2VQcm9taXNlXSA9IG5ldyBEZWZlcnJlZFByb21pc2UoKTtcbiAgfVxuICAvKipcbiAgICogUmVzcG9uZCB0byB0aGlzIHJlcXVlc3Qgd2l0aCB0aGUgZ2l2ZW4gYFJlc3BvbnNlYCBpbnN0YW5jZS5cbiAgICogQGV4YW1wbGVcbiAgICogY29udHJvbGxlci5yZXNwb25kV2l0aChuZXcgUmVzcG9uc2UoKSlcbiAgICogY29udHJvbGxlci5yZXNwb25kV2l0aChSZXNwb25zZS5qc29uKHsgaWQgfSkpXG4gICAqIGNvbnRyb2xsZXIucmVzcG9uZFdpdGgoUmVzcG9uc2UuZXJyb3IoKSlcbiAgICovXG4gIHJlc3BvbmRXaXRoKHJlc3BvbnNlKSB7XG4gICAgaW52YXJpYW50LmFzKFxuICAgICAgSW50ZXJjZXB0b3JFcnJvcixcbiAgICAgICF0aGlzW2tSZXF1ZXN0SGFuZGxlZF0sXG4gICAgICAnRmFpbGVkIHRvIHJlc3BvbmQgdG8gdGhlIFwiJXMgJXNcIiByZXF1ZXN0OiB0aGUgXCJyZXF1ZXN0XCIgZXZlbnQgaGFzIGFscmVhZHkgYmVlbiBoYW5kbGVkLicsXG4gICAgICB0aGlzLnJlcXVlc3QubWV0aG9kLFxuICAgICAgdGhpcy5yZXF1ZXN0LnVybFxuICAgICk7XG4gICAgdGhpc1trUmVxdWVzdEhhbmRsZWRdID0gdHJ1ZTtcbiAgICB0aGlzW2tSZXNwb25zZVByb21pc2VdLnJlc29sdmUocmVzcG9uc2UpO1xuICB9XG4gIC8qKlxuICAgKiBFcnJvciB0aGlzIHJlcXVlc3Qgd2l0aCB0aGUgZ2l2ZW4gZXJyb3IuXG4gICAqIEBleGFtcGxlXG4gICAqIGNvbnRyb2xsZXIuZXJyb3JXaXRoKClcbiAgICogY29udHJvbGxlci5lcnJvcldpdGgobmV3IEVycm9yKCdPb3BzIScpKVxuICAgKi9cbiAgZXJyb3JXaXRoKGVycm9yKSB7XG4gICAgaW52YXJpYW50LmFzKFxuICAgICAgSW50ZXJjZXB0b3JFcnJvcixcbiAgICAgICF0aGlzW2tSZXF1ZXN0SGFuZGxlZF0sXG4gICAgICAnRmFpbGVkIHRvIGVycm9yIHRoZSBcIiVzICVzXCIgcmVxdWVzdDogdGhlIFwicmVxdWVzdFwiIGV2ZW50IGhhcyBhbHJlYWR5IGJlZW4gaGFuZGxlZC4nLFxuICAgICAgdGhpcy5yZXF1ZXN0Lm1ldGhvZCxcbiAgICAgIHRoaXMucmVxdWVzdC51cmxcbiAgICApO1xuICAgIHRoaXNba1JlcXVlc3RIYW5kbGVkXSA9IHRydWU7XG4gICAgdGhpc1trUmVzcG9uc2VQcm9taXNlXS5yZXNvbHZlKGVycm9yKTtcbiAgfVxufTtcbmtSZXNwb25zZVByb21pc2UsIGtSZXF1ZXN0SGFuZGxlZDtcblxuLy8gc3JjL3V0aWxzL2VtaXRBc3luYy50c1xuYXN5bmMgZnVuY3Rpb24gZW1pdEFzeW5jKGVtaXR0ZXIsIGV2ZW50TmFtZSwgLi4uZGF0YSkge1xuICBjb25zdCBsaXN0bmVycyA9IGVtaXR0ZXIubGlzdGVuZXJzKGV2ZW50TmFtZSk7XG4gIGlmIChsaXN0bmVycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiBsaXN0bmVycykge1xuICAgIGF3YWl0IGxpc3RlbmVyLmFwcGx5KGVtaXR0ZXIsIGRhdGEpO1xuICB9XG59XG5cbi8vIHNyYy91dGlscy9oYW5kbGVSZXF1ZXN0LnRzXG5pbXBvcnQgeyBEZWZlcnJlZFByb21pc2UgYXMgRGVmZXJyZWRQcm9taXNlMiB9IGZyb20gXCJAb3Blbi1kcmFmdC9kZWZlcnJlZC1wcm9taXNlXCI7XG5pbXBvcnQgeyB1bnRpbCB9IGZyb20gXCJAb3Blbi1kcmFmdC91bnRpbFwiO1xuXG4vLyBzcmMvdXRpbHMvaXNQcm9wZXJ0eUFjY2Vzc2libGUudHNcbmZ1bmN0aW9uIGlzUHJvcGVydHlBY2Nlc3NpYmxlKG9iaiwga2V5KSB7XG4gIHRyeSB7XG4gICAgb2JqW2tleV07XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLy8gc3JjL3V0aWxzL3Jlc3BvbnNlVXRpbHMudHNcbmZ1bmN0aW9uIGNyZWF0ZVNlcnZlckVycm9yUmVzcG9uc2UoYm9keSkge1xuICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgIEpTT04uc3RyaW5naWZ5KFxuICAgICAgYm9keSBpbnN0YW5jZW9mIEVycm9yID8ge1xuICAgICAgICBuYW1lOiBib2R5Lm5hbWUsXG4gICAgICAgIG1lc3NhZ2U6IGJvZHkubWVzc2FnZSxcbiAgICAgICAgc3RhY2s6IGJvZHkuc3RhY2tcbiAgICAgIH0gOiBib2R5XG4gICAgKSxcbiAgICB7XG4gICAgICBzdGF0dXM6IDUwMCxcbiAgICAgIHN0YXR1c1RleHQ6IFwiVW5oYW5kbGVkIEV4Y2VwdGlvblwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIGlzUmVzcG9uc2VFcnJvcihyZXNwb25zZSkge1xuICByZXR1cm4gaXNQcm9wZXJ0eUFjY2Vzc2libGUocmVzcG9uc2UsIFwidHlwZVwiKSAmJiByZXNwb25zZS50eXBlID09PSBcImVycm9yXCI7XG59XG5cbi8vIHNyYy91dGlscy9pc05vZGVMaWtlRXJyb3IudHNcbmZ1bmN0aW9uIGlzTm9kZUxpa2VFcnJvcihlcnJvcikge1xuICBpZiAoZXJyb3IgPT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoIShlcnJvciBpbnN0YW5jZW9mIEVycm9yKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gXCJjb2RlXCIgaW4gZXJyb3IgJiYgXCJlcnJub1wiIGluIGVycm9yO1xufVxuXG4vLyBzcmMvdXRpbHMvaGFuZGxlUmVxdWVzdC50c1xuYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVxdWVzdChvcHRpb25zKSB7XG4gIGNvbnN0IGhhbmRsZVJlc3BvbnNlID0gYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIG9wdGlvbnMub25FcnJvcihyZXNwb25zZSk7XG4gICAgfSBlbHNlIGlmIChpc1Jlc3BvbnNlRXJyb3IocmVzcG9uc2UpKSB7XG4gICAgICBvcHRpb25zLm9uUmVxdWVzdEVycm9yKHJlc3BvbnNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXdhaXQgb3B0aW9ucy5vblJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIGNvbnN0IGhhbmRsZVJlc3BvbnNlRXJyb3IgPSBhc3luYyAoZXJyb3IpID0+IHtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBJbnRlcmNlcHRvckVycm9yKSB7XG4gICAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gICAgfVxuICAgIGlmIChpc05vZGVMaWtlRXJyb3IoZXJyb3IpKSB7XG4gICAgICBvcHRpb25zLm9uRXJyb3IoZXJyb3IpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gYXdhaXQgaGFuZGxlUmVzcG9uc2UoZXJyb3IpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIG9wdGlvbnMuZW1pdHRlci5vbmNlKFwicmVxdWVzdFwiLCAoeyByZXF1ZXN0SWQ6IHBlbmRpbmdSZXF1ZXN0SWQgfSkgPT4ge1xuICAgIGlmIChwZW5kaW5nUmVxdWVzdElkICE9PSBvcHRpb25zLnJlcXVlc3RJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5jb250cm9sbGVyW2tSZXNwb25zZVByb21pc2VdLnN0YXRlID09PSBcInBlbmRpbmdcIikge1xuICAgICAgb3B0aW9ucy5jb250cm9sbGVyW2tSZXNwb25zZVByb21pc2VdLnJlc29sdmUodm9pZCAwKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCByZXF1ZXN0QWJvcnRQcm9taXNlID0gbmV3IERlZmVycmVkUHJvbWlzZTIoKTtcbiAgaWYgKG9wdGlvbnMucmVxdWVzdC5zaWduYWwpIHtcbiAgICBpZiAob3B0aW9ucy5yZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICByZXF1ZXN0QWJvcnRQcm9taXNlLnJlamVjdChvcHRpb25zLnJlcXVlc3Quc2lnbmFsLnJlYXNvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdGlvbnMucmVxdWVzdC5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJhYm9ydFwiLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgcmVxdWVzdEFib3J0UHJvbWlzZS5yZWplY3Qob3B0aW9ucy5yZXF1ZXN0LnNpZ25hbC5yZWFzb24pO1xuICAgICAgICB9LFxuICAgICAgICB7IG9uY2U6IHRydWUgfVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdW50aWwoYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHJlcXVlc3RMaXN0dGVuZXJzUHJvbWlzZSA9IGVtaXRBc3luYyhvcHRpb25zLmVtaXR0ZXIsIFwicmVxdWVzdFwiLCB7XG4gICAgICByZXF1ZXN0SWQ6IG9wdGlvbnMucmVxdWVzdElkLFxuICAgICAgcmVxdWVzdDogb3B0aW9ucy5yZXF1ZXN0LFxuICAgICAgY29udHJvbGxlcjogb3B0aW9ucy5jb250cm9sbGVyXG4gICAgfSk7XG4gICAgYXdhaXQgUHJvbWlzZS5yYWNlKFtcbiAgICAgIC8vIFNob3J0LWNpcmN1aXQgdGhlIHJlcXVlc3QgaGFuZGxpbmcgcHJvbWlzZSBpZiB0aGUgcmVxdWVzdCBnZXRzIGFib3J0ZWQuXG4gICAgICByZXF1ZXN0QWJvcnRQcm9taXNlLFxuICAgICAgcmVxdWVzdExpc3R0ZW5lcnNQcm9taXNlLFxuICAgICAgb3B0aW9ucy5jb250cm9sbGVyW2tSZXNwb25zZVByb21pc2VdXG4gICAgXSk7XG4gICAgY29uc3QgbW9ja2VkUmVzcG9uc2UgPSBhd2FpdCBvcHRpb25zLmNvbnRyb2xsZXJba1Jlc3BvbnNlUHJvbWlzZV07XG4gICAgcmV0dXJuIG1vY2tlZFJlc3BvbnNlO1xuICB9KTtcbiAgaWYgKHJlcXVlc3RBYm9ydFByb21pc2Uuc3RhdGUgPT09IFwicmVqZWN0ZWRcIikge1xuICAgIG9wdGlvbnMub25FcnJvcihyZXF1ZXN0QWJvcnRQcm9taXNlLnJlamVjdGlvblJlYXNvbik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHJlc3VsdC5lcnJvcikge1xuICAgIGlmIChhd2FpdCBoYW5kbGVSZXNwb25zZUVycm9yKHJlc3VsdC5lcnJvcikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5lbWl0dGVyLmxpc3RlbmVyQ291bnQoXCJ1bmhhbmRsZWRFeGNlcHRpb25cIikgPiAwKSB7XG4gICAgICBjb25zdCB1bmhhbmRsZWRFeGNlcHRpb25Db250cm9sbGVyID0gbmV3IFJlcXVlc3RDb250cm9sbGVyKFxuICAgICAgICBvcHRpb25zLnJlcXVlc3RcbiAgICAgICk7XG4gICAgICBhd2FpdCBlbWl0QXN5bmMob3B0aW9ucy5lbWl0dGVyLCBcInVuaGFuZGxlZEV4Y2VwdGlvblwiLCB7XG4gICAgICAgIGVycm9yOiByZXN1bHQuZXJyb3IsXG4gICAgICAgIHJlcXVlc3Q6IG9wdGlvbnMucmVxdWVzdCxcbiAgICAgICAgcmVxdWVzdElkOiBvcHRpb25zLnJlcXVlc3RJZCxcbiAgICAgICAgY29udHJvbGxlcjogdW5oYW5kbGVkRXhjZXB0aW9uQ29udHJvbGxlclxuICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgIGlmICh1bmhhbmRsZWRFeGNlcHRpb25Db250cm9sbGVyW2tSZXNwb25zZVByb21pc2VdLnN0YXRlID09PSBcInBlbmRpbmdcIikge1xuICAgICAgICAgIHVuaGFuZGxlZEV4Y2VwdGlvbkNvbnRyb2xsZXJba1Jlc3BvbnNlUHJvbWlzZV0ucmVzb2x2ZSh2b2lkIDApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG5leHRSZXN1bHQgPSBhd2FpdCB1bnRpbChcbiAgICAgICAgKCkgPT4gdW5oYW5kbGVkRXhjZXB0aW9uQ29udHJvbGxlcltrUmVzcG9uc2VQcm9taXNlXVxuICAgICAgKTtcbiAgICAgIGlmIChuZXh0UmVzdWx0LmVycm9yKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXNwb25zZUVycm9yKG5leHRSZXN1bHQuZXJyb3IpO1xuICAgICAgfVxuICAgICAgaWYgKG5leHRSZXN1bHQuZGF0YSkge1xuICAgICAgICByZXR1cm4gaGFuZGxlUmVzcG9uc2UobmV4dFJlc3VsdC5kYXRhKTtcbiAgICAgIH1cbiAgICB9XG4gICAgb3B0aW9ucy5vblJlc3BvbnNlKGNyZWF0ZVNlcnZlckVycm9yUmVzcG9uc2UocmVzdWx0LmVycm9yKSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHJlc3VsdC5kYXRhKSB7XG4gICAgcmV0dXJuIGhhbmRsZVJlc3BvbnNlKHJlc3VsdC5kYXRhKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCB7XG4gIGlzUHJvcGVydHlBY2Nlc3NpYmxlLFxuICBjcmVhdGVTZXJ2ZXJFcnJvclJlc3BvbnNlLFxuICBSZXF1ZXN0Q29udHJvbGxlcixcbiAgZW1pdEFzeW5jLFxuICBoYW5kbGVSZXF1ZXN0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstNUtNUzVDVFAubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-5KMS5CTP.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-6HYIRFX2.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@mswjs/interceptors/lib/node/chunk-6HYIRFX2.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decodeBuffer: () => (/* binding */ decodeBuffer),\n/* harmony export */   encodeBuffer: () => (/* binding */ encodeBuffer),\n/* harmony export */   toArrayBuffer: () => (/* binding */ toArrayBuffer)\n/* harmony export */ });\n// src/utils/bufferUtils.ts\nvar encoder = new TextEncoder();\nfunction encodeBuffer(text) {\n  return encoder.encode(text);\n}\nfunction decodeBuffer(buffer, encoding) {\n  const decoder = new TextDecoder(encoding);\n  return decoder.decode(buffer);\n}\nfunction toArrayBuffer(array) {\n  return array.buffer.slice(\n    array.byteOffset,\n    array.byteOffset + array.byteLength\n  );\n}\n\n\n//# sourceMappingURL=chunk-6HYIRFX2.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvbm9kZS9jaHVuay02SFlJUkZYMi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQU1FO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL3Jpa3VzZW4vd29ya3NwYWNlL25leHRqcy1tc3ctcmVwcm9kdWN0aW9uL25vZGVfbW9kdWxlcy9AbXN3anMvaW50ZXJjZXB0b3JzL2xpYi9ub2RlL2NodW5rLTZIWUlSRlgyLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvdXRpbHMvYnVmZmVyVXRpbHMudHNcbnZhciBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG5mdW5jdGlvbiBlbmNvZGVCdWZmZXIodGV4dCkge1xuICByZXR1cm4gZW5jb2Rlci5lbmNvZGUodGV4dCk7XG59XG5mdW5jdGlvbiBkZWNvZGVCdWZmZXIoYnVmZmVyLCBlbmNvZGluZykge1xuICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKGVuY29kaW5nKTtcbiAgcmV0dXJuIGRlY29kZXIuZGVjb2RlKGJ1ZmZlcik7XG59XG5mdW5jdGlvbiB0b0FycmF5QnVmZmVyKGFycmF5KSB7XG4gIHJldHVybiBhcnJheS5idWZmZXIuc2xpY2UoXG4gICAgYXJyYXkuYnl0ZU9mZnNldCxcbiAgICBhcnJheS5ieXRlT2Zmc2V0ICsgYXJyYXkuYnl0ZUxlbmd0aFxuICApO1xufVxuXG5leHBvcnQge1xuICBlbmNvZGVCdWZmZXIsXG4gIGRlY29kZUJ1ZmZlcixcbiAgdG9BcnJheUJ1ZmZlclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLTZIWUlSRlgyLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-6HYIRFX2.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-6YM4PLBI.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@mswjs/interceptors/lib/node/chunk-6YM4PLBI.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IS_PATCHED_MODULE: () => (/* binding */ IS_PATCHED_MODULE)\n/* harmony export */ });\n// src/glossary.ts\nvar IS_PATCHED_MODULE = Symbol(\"isPatchedModule\");\n\n\n//# sourceMappingURL=chunk-6YM4PLBI.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvbm9kZS9jaHVuay02WU00UExCSS5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvcmlrdXNlbi93b3Jrc3BhY2UvbmV4dGpzLW1zdy1yZXByb2R1Y3Rpb24vbm9kZV9tb2R1bGVzL0Btc3dqcy9pbnRlcmNlcHRvcnMvbGliL25vZGUvY2h1bmstNllNNFBMQkkubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9nbG9zc2FyeS50c1xudmFyIElTX1BBVENIRURfTU9EVUxFID0gU3ltYm9sKFwiaXNQYXRjaGVkTW9kdWxlXCIpO1xuXG5leHBvcnQge1xuICBJU19QQVRDSEVEX01PRFVMRVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLTZZTTRQTEJJLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-6YM4PLBI.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-CTGTMEFD.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@mswjs/interceptors/lib/node/chunk-CTGTMEFD.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FetchInterceptor: () => (/* binding */ FetchInterceptor)\n/* harmony export */ });\n/* harmony import */ var _chunk_TX5GBTFY_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-TX5GBTFY.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-TX5GBTFY.mjs\");\n/* harmony import */ var _chunk_6YM4PLBI_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-6YM4PLBI.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-6YM4PLBI.mjs\");\n/* harmony import */ var _chunk_5KMS5CTP_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-5KMS5CTP.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-5KMS5CTP.mjs\");\n/* harmony import */ var _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-I7HQIBT7.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-I7HQIBT7.mjs\");\n/* harmony import */ var outvariant__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! outvariant */ \"(rsc)/./node_modules/outvariant/lib/index.mjs\");\n/* harmony import */ var _open_draft_deferred_promise__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @open-draft/deferred-promise */ \"(rsc)/./node_modules/@open-draft/deferred-promise/build/index.mjs\");\n/* harmony import */ var zlib__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! zlib */ \"zlib\");\n\n\n\n\n\n// src/interceptors/fetch/index.ts\n\n\n\n// src/utils/canParseUrl.ts\nfunction canParseUrl(url) {\n  try {\n    new URL(url);\n    return true;\n  } catch (_error) {\n    return false;\n  }\n}\n\n// src/interceptors/fetch/utils/createNetworkError.ts\nfunction createNetworkError(cause) {\n  return Object.assign(new TypeError(\"Failed to fetch\"), {\n    cause\n  });\n}\n\n// src/interceptors/fetch/utils/followRedirect.ts\nvar REQUEST_BODY_HEADERS = [\n  \"content-encoding\",\n  \"content-language\",\n  \"content-location\",\n  \"content-type\",\n  \"content-length\"\n];\nvar kRedirectCount = Symbol(\"kRedirectCount\");\nasync function followFetchRedirect(request, response) {\n  if (response.status !== 303 && request.body != null) {\n    return Promise.reject(createNetworkError());\n  }\n  const requestUrl = new URL(request.url);\n  let locationUrl;\n  try {\n    locationUrl = new URL(response.headers.get(\"location\"), request.url);\n  } catch (error) {\n    return Promise.reject(createNetworkError(error));\n  }\n  if (!(locationUrl.protocol === \"http:\" || locationUrl.protocol === \"https:\")) {\n    return Promise.reject(\n      createNetworkError(\"URL scheme must be a HTTP(S) scheme\")\n    );\n  }\n  if (Reflect.get(request, kRedirectCount) > 20) {\n    return Promise.reject(createNetworkError(\"redirect count exceeded\"));\n  }\n  Object.defineProperty(request, kRedirectCount, {\n    value: (Reflect.get(request, kRedirectCount) || 0) + 1\n  });\n  if (request.mode === \"cors\" && (locationUrl.username || locationUrl.password) && !sameOrigin(requestUrl, locationUrl)) {\n    return Promise.reject(\n      createNetworkError('cross origin not allowed for request mode \"cors\"')\n    );\n  }\n  const requestInit = {};\n  if ([301, 302].includes(response.status) && request.method === \"POST\" || response.status === 303 && ![\"HEAD\", \"GET\"].includes(request.method)) {\n    requestInit.method = \"GET\";\n    requestInit.body = null;\n    REQUEST_BODY_HEADERS.forEach((headerName) => {\n      request.headers.delete(headerName);\n    });\n  }\n  if (!sameOrigin(requestUrl, locationUrl)) {\n    request.headers.delete(\"authorization\");\n    request.headers.delete(\"proxy-authorization\");\n    request.headers.delete(\"cookie\");\n    request.headers.delete(\"host\");\n  }\n  requestInit.headers = request.headers;\n  return fetch(new Request(locationUrl, requestInit));\n}\nfunction sameOrigin(left, right) {\n  if (left.origin === right.origin && left.origin === \"null\") {\n    return true;\n  }\n  if (left.protocol === right.protocol && left.hostname === right.hostname && left.port === right.port) {\n    return true;\n  }\n  return false;\n}\n\n// src/interceptors/fetch/utils/brotli-decompress.ts\n\nvar BrotliDecompressionStream = class extends TransformStream {\n  constructor() {\n    const decompress = zlib__WEBPACK_IMPORTED_MODULE_6__.createBrotliDecompress({\n      flush: zlib__WEBPACK_IMPORTED_MODULE_6__.constants.BROTLI_OPERATION_FLUSH,\n      finishFlush: zlib__WEBPACK_IMPORTED_MODULE_6__.constants.BROTLI_OPERATION_FLUSH\n    });\n    super({\n      async transform(chunk, controller) {\n        const buffer = Buffer.from(chunk);\n        const decompressed = await new Promise((resolve, reject) => {\n          decompress.write(buffer, (error) => {\n            if (error)\n              reject(error);\n          });\n          decompress.flush();\n          decompress.once(\"data\", (data) => resolve(data));\n          decompress.once(\"error\", (error) => reject(error));\n          decompress.once(\"end\", () => controller.terminate());\n        }).catch((error) => {\n          controller.error(error);\n        });\n        controller.enqueue(decompressed);\n      }\n    });\n  }\n};\n\n// src/interceptors/fetch/utils/decompression.ts\nvar PipelineStream = class extends TransformStream {\n  constructor(transformStreams, ...strategies) {\n    super({}, ...strategies);\n    const readable = [super.readable, ...transformStreams].reduce(\n      (readable2, transform) => readable2.pipeThrough(transform)\n    );\n    Object.defineProperty(this, \"readable\", {\n      get() {\n        return readable;\n      }\n    });\n  }\n};\nfunction parseContentEncoding(contentEncoding) {\n  return contentEncoding.toLowerCase().split(\",\").map((coding) => coding.trim());\n}\nfunction createDecompressionStream(contentEncoding) {\n  if (contentEncoding === \"\") {\n    return null;\n  }\n  const codings = parseContentEncoding(contentEncoding);\n  if (codings.length === 0) {\n    return null;\n  }\n  const transformers = codings.reduceRight(\n    (transformers2, coding) => {\n      if (coding === \"gzip\" || coding === \"x-gzip\") {\n        return transformers2.concat(new DecompressionStream(\"gzip\"));\n      } else if (coding === \"deflate\") {\n        return transformers2.concat(new DecompressionStream(\"deflate\"));\n      } else if (coding === \"br\") {\n        return transformers2.concat(new BrotliDecompressionStream());\n      } else {\n        transformers2.length = 0;\n      }\n      return transformers2;\n    },\n    []\n  );\n  return new PipelineStream(transformers);\n}\nfunction decompressResponse(response) {\n  if (response.body === null) {\n    return null;\n  }\n  const decompressionStream = createDecompressionStream(\n    response.headers.get(\"content-encoding\") || \"\"\n  );\n  if (!decompressionStream) {\n    return null;\n  }\n  response.body.pipeTo(decompressionStream.writable);\n  return decompressionStream.readable;\n}\n\n// src/interceptors/fetch/index.ts\nvar _FetchInterceptor = class extends _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_3__.Interceptor {\n  constructor() {\n    super(_FetchInterceptor.symbol);\n  }\n  checkEnvironment() {\n    return (0,_chunk_TX5GBTFY_mjs__WEBPACK_IMPORTED_MODULE_0__.hasConfigurableGlobal)(\"fetch\");\n  }\n  async setup() {\n    const pureFetch = globalThis.fetch;\n    (0,outvariant__WEBPACK_IMPORTED_MODULE_4__.invariant)(\n      !pureFetch[_chunk_6YM4PLBI_mjs__WEBPACK_IMPORTED_MODULE_1__.IS_PATCHED_MODULE],\n      'Failed to patch the \"fetch\" module: already patched.'\n    );\n    globalThis.fetch = async (input, init) => {\n      const requestId = (0,_chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_3__.createRequestId)();\n      const resolvedInput = typeof input === \"string\" && typeof location !== \"undefined\" && !canParseUrl(input) ? new URL(input, location.origin) : input;\n      const request = new Request(resolvedInput, init);\n      const responsePromise = new _open_draft_deferred_promise__WEBPACK_IMPORTED_MODULE_5__.DeferredPromise();\n      const controller = new _chunk_5KMS5CTP_mjs__WEBPACK_IMPORTED_MODULE_2__.RequestController(request);\n      this.logger.info(\"[%s] %s\", request.method, request.url);\n      this.logger.info(\"awaiting for the mocked response...\");\n      this.logger.info(\n        'emitting the \"request\" event for %s listener(s)...',\n        this.emitter.listenerCount(\"request\")\n      );\n      const isRequestHandled = await (0,_chunk_5KMS5CTP_mjs__WEBPACK_IMPORTED_MODULE_2__.handleRequest)({\n        request,\n        requestId,\n        emitter: this.emitter,\n        controller,\n        onResponse: async (rawResponse) => {\n          this.logger.info(\"received mocked response!\", {\n            rawResponse\n          });\n          const decompressedStream = decompressResponse(rawResponse);\n          const response = decompressedStream === null ? rawResponse : new _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_3__.FetchResponse(decompressedStream, rawResponse);\n          _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_3__.FetchResponse.setUrl(request.url, response);\n          if (_chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_3__.FetchResponse.isRedirectResponse(response.status)) {\n            if (request.redirect === \"error\") {\n              responsePromise.reject(createNetworkError(\"unexpected redirect\"));\n              return;\n            }\n            if (request.redirect === \"follow\") {\n              followFetchRedirect(request, response).then(\n                (response2) => {\n                  responsePromise.resolve(response2);\n                },\n                (reason) => {\n                  responsePromise.reject(reason);\n                }\n              );\n              return;\n            }\n          }\n          if (this.emitter.listenerCount(\"response\") > 0) {\n            this.logger.info('emitting the \"response\" event...');\n            await (0,_chunk_5KMS5CTP_mjs__WEBPACK_IMPORTED_MODULE_2__.emitAsync)(this.emitter, \"response\", {\n              // Clone the mocked response for the \"response\" event listener.\n              // This way, the listener can read the response and not lock its body\n              // for the actual fetch consumer.\n              response: response.clone(),\n              isMockedResponse: true,\n              request,\n              requestId\n            });\n          }\n          responsePromise.resolve(response);\n        },\n        onRequestError: (response) => {\n          this.logger.info(\"request has errored!\", { response });\n          responsePromise.reject(createNetworkError(response));\n        },\n        onError: (error) => {\n          this.logger.info(\"request has been aborted!\", { error });\n          responsePromise.reject(error);\n        }\n      });\n      if (isRequestHandled) {\n        this.logger.info(\"request has been handled, returning mock promise...\");\n        return responsePromise;\n      }\n      this.logger.info(\n        \"no mocked response received, performing request as-is...\"\n      );\n      return pureFetch(request).then(async (response) => {\n        this.logger.info(\"original fetch performed\", response);\n        if (this.emitter.listenerCount(\"response\") > 0) {\n          this.logger.info('emitting the \"response\" event...');\n          const responseClone = response.clone();\n          await (0,_chunk_5KMS5CTP_mjs__WEBPACK_IMPORTED_MODULE_2__.emitAsync)(this.emitter, \"response\", {\n            response: responseClone,\n            isMockedResponse: false,\n            request,\n            requestId\n          });\n        }\n        return response;\n      });\n    };\n    Object.defineProperty(globalThis.fetch, _chunk_6YM4PLBI_mjs__WEBPACK_IMPORTED_MODULE_1__.IS_PATCHED_MODULE, {\n      enumerable: true,\n      configurable: true,\n      value: true\n    });\n    this.subscriptions.push(() => {\n      Object.defineProperty(globalThis.fetch, _chunk_6YM4PLBI_mjs__WEBPACK_IMPORTED_MODULE_1__.IS_PATCHED_MODULE, {\n        value: void 0\n      });\n      globalThis.fetch = pureFetch;\n      this.logger.info(\n        'restored native \"globalThis.fetch\"!',\n        globalThis.fetch.name\n      );\n    });\n  }\n};\nvar FetchInterceptor = _FetchInterceptor;\nFetchInterceptor.symbol = Symbol(\"fetch\");\n\n\n//# sourceMappingURL=chunk-CTGTMEFD.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvbm9kZS9jaHVuay1DVEdUTUVGRC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFOEI7QUFHQTtBQUtBO0FBS0E7O0FBRTlCO0FBQ3VDO0FBQ3dCOztBQUUvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3dCO0FBQ3hCO0FBQ0E7QUFDQSx1QkFBdUIsd0RBQTJCO0FBQ2xELGFBQWEsMkNBQWM7QUFDM0IsbUJBQW1CLDJDQUFjO0FBQ2pDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQ0FBc0MsNERBQVc7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDBFQUFxQjtBQUNoQztBQUNBO0FBQ0E7QUFDQSxJQUFJLHFEQUFTO0FBQ2IsaUJBQWlCLGtFQUFpQjtBQUNsQztBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isb0VBQWU7QUFDdkM7QUFDQTtBQUNBLGtDQUFrQyx5RUFBZTtBQUNqRCw2QkFBNkIsa0VBQWlCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxrRUFBYTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLDJFQUEyRSw4REFBYTtBQUN4RixVQUFVLDhEQUFhO0FBQ3ZCLGNBQWMsOERBQWE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsOERBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHFEQUFxRCxVQUFVO0FBQy9EO0FBQ0EsU0FBUztBQUNUO0FBQ0EsMERBQTBELE9BQU87QUFDakU7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsOERBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLDRDQUE0QyxrRUFBaUI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOENBQThDLGtFQUFpQjtBQUMvRDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL3Jpa3VzZW4vd29ya3NwYWNlL25leHRqcy1tc3ctcmVwcm9kdWN0aW9uL25vZGVfbW9kdWxlcy9AbXN3anMvaW50ZXJjZXB0b3JzL2xpYi9ub2RlL2NodW5rLUNUR1RNRUZELm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBoYXNDb25maWd1cmFibGVHbG9iYWxcbn0gZnJvbSBcIi4vY2h1bmstVFg1R0JURlkubWpzXCI7XG5pbXBvcnQge1xuICBJU19QQVRDSEVEX01PRFVMRVxufSBmcm9tIFwiLi9jaHVuay02WU00UExCSS5tanNcIjtcbmltcG9ydCB7XG4gIFJlcXVlc3RDb250cm9sbGVyLFxuICBlbWl0QXN5bmMsXG4gIGhhbmRsZVJlcXVlc3Rcbn0gZnJvbSBcIi4vY2h1bmstNUtNUzVDVFAubWpzXCI7XG5pbXBvcnQge1xuICBGZXRjaFJlc3BvbnNlLFxuICBJbnRlcmNlcHRvcixcbiAgY3JlYXRlUmVxdWVzdElkXG59IGZyb20gXCIuL2NodW5rLUk3SFFJQlQ3Lm1qc1wiO1xuXG4vLyBzcmMvaW50ZXJjZXB0b3JzL2ZldGNoL2luZGV4LnRzXG5pbXBvcnQgeyBpbnZhcmlhbnQgfSBmcm9tIFwib3V0dmFyaWFudFwiO1xuaW1wb3J0IHsgRGVmZXJyZWRQcm9taXNlIH0gZnJvbSBcIkBvcGVuLWRyYWZ0L2RlZmVycmVkLXByb21pc2VcIjtcblxuLy8gc3JjL3V0aWxzL2NhblBhcnNlVXJsLnRzXG5mdW5jdGlvbiBjYW5QYXJzZVVybCh1cmwpIHtcbiAgdHJ5IHtcbiAgICBuZXcgVVJMKHVybCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKF9lcnJvcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vLyBzcmMvaW50ZXJjZXB0b3JzL2ZldGNoL3V0aWxzL2NyZWF0ZU5ldHdvcmtFcnJvci50c1xuZnVuY3Rpb24gY3JlYXRlTmV0d29ya0Vycm9yKGNhdXNlKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2hcIiksIHtcbiAgICBjYXVzZVxuICB9KTtcbn1cblxuLy8gc3JjL2ludGVyY2VwdG9ycy9mZXRjaC91dGlscy9mb2xsb3dSZWRpcmVjdC50c1xudmFyIFJFUVVFU1RfQk9EWV9IRUFERVJTID0gW1xuICBcImNvbnRlbnQtZW5jb2RpbmdcIixcbiAgXCJjb250ZW50LWxhbmd1YWdlXCIsXG4gIFwiY29udGVudC1sb2NhdGlvblwiLFxuICBcImNvbnRlbnQtdHlwZVwiLFxuICBcImNvbnRlbnQtbGVuZ3RoXCJcbl07XG52YXIga1JlZGlyZWN0Q291bnQgPSBTeW1ib2woXCJrUmVkaXJlY3RDb3VudFwiKTtcbmFzeW5jIGZ1bmN0aW9uIGZvbGxvd0ZldGNoUmVkaXJlY3QocmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMzAzICYmIHJlcXVlc3QuYm9keSAhPSBudWxsKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGNyZWF0ZU5ldHdvcmtFcnJvcigpKTtcbiAgfVxuICBjb25zdCByZXF1ZXN0VXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gIGxldCBsb2NhdGlvblVybDtcbiAgdHJ5IHtcbiAgICBsb2NhdGlvblVybCA9IG5ldyBVUkwocmVzcG9uc2UuaGVhZGVycy5nZXQoXCJsb2NhdGlvblwiKSwgcmVxdWVzdC51cmwpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChjcmVhdGVOZXR3b3JrRXJyb3IoZXJyb3IpKTtcbiAgfVxuICBpZiAoIShsb2NhdGlvblVybC5wcm90b2NvbCA9PT0gXCJodHRwOlwiIHx8IGxvY2F0aW9uVXJsLnByb3RvY29sID09PSBcImh0dHBzOlwiKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIGNyZWF0ZU5ldHdvcmtFcnJvcihcIlVSTCBzY2hlbWUgbXVzdCBiZSBhIEhUVFAoUykgc2NoZW1lXCIpXG4gICAgKTtcbiAgfVxuICBpZiAoUmVmbGVjdC5nZXQocmVxdWVzdCwga1JlZGlyZWN0Q291bnQpID4gMjApIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoY3JlYXRlTmV0d29ya0Vycm9yKFwicmVkaXJlY3QgY291bnQgZXhjZWVkZWRcIikpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1ZXN0LCBrUmVkaXJlY3RDb3VudCwge1xuICAgIHZhbHVlOiAoUmVmbGVjdC5nZXQocmVxdWVzdCwga1JlZGlyZWN0Q291bnQpIHx8IDApICsgMVxuICB9KTtcbiAgaWYgKHJlcXVlc3QubW9kZSA9PT0gXCJjb3JzXCIgJiYgKGxvY2F0aW9uVXJsLnVzZXJuYW1lIHx8IGxvY2F0aW9uVXJsLnBhc3N3b3JkKSAmJiAhc2FtZU9yaWdpbihyZXF1ZXN0VXJsLCBsb2NhdGlvblVybCkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBjcmVhdGVOZXR3b3JrRXJyb3IoJ2Nyb3NzIG9yaWdpbiBub3QgYWxsb3dlZCBmb3IgcmVxdWVzdCBtb2RlIFwiY29yc1wiJylcbiAgICApO1xuICB9XG4gIGNvbnN0IHJlcXVlc3RJbml0ID0ge307XG4gIGlmIChbMzAxLCAzMDJdLmluY2x1ZGVzKHJlc3BvbnNlLnN0YXR1cykgJiYgcmVxdWVzdC5tZXRob2QgPT09IFwiUE9TVFwiIHx8IHJlc3BvbnNlLnN0YXR1cyA9PT0gMzAzICYmICFbXCJIRUFEXCIsIFwiR0VUXCJdLmluY2x1ZGVzKHJlcXVlc3QubWV0aG9kKSkge1xuICAgIHJlcXVlc3RJbml0Lm1ldGhvZCA9IFwiR0VUXCI7XG4gICAgcmVxdWVzdEluaXQuYm9keSA9IG51bGw7XG4gICAgUkVRVUVTVF9CT0RZX0hFQURFUlMuZm9yRWFjaCgoaGVhZGVyTmFtZSkgPT4ge1xuICAgICAgcmVxdWVzdC5oZWFkZXJzLmRlbGV0ZShoZWFkZXJOYW1lKTtcbiAgICB9KTtcbiAgfVxuICBpZiAoIXNhbWVPcmlnaW4ocmVxdWVzdFVybCwgbG9jYXRpb25VcmwpKSB7XG4gICAgcmVxdWVzdC5oZWFkZXJzLmRlbGV0ZShcImF1dGhvcml6YXRpb25cIik7XG4gICAgcmVxdWVzdC5oZWFkZXJzLmRlbGV0ZShcInByb3h5LWF1dGhvcml6YXRpb25cIik7XG4gICAgcmVxdWVzdC5oZWFkZXJzLmRlbGV0ZShcImNvb2tpZVwiKTtcbiAgICByZXF1ZXN0LmhlYWRlcnMuZGVsZXRlKFwiaG9zdFwiKTtcbiAgfVxuICByZXF1ZXN0SW5pdC5oZWFkZXJzID0gcmVxdWVzdC5oZWFkZXJzO1xuICByZXR1cm4gZmV0Y2gobmV3IFJlcXVlc3QobG9jYXRpb25VcmwsIHJlcXVlc3RJbml0KSk7XG59XG5mdW5jdGlvbiBzYW1lT3JpZ2luKGxlZnQsIHJpZ2h0KSB7XG4gIGlmIChsZWZ0Lm9yaWdpbiA9PT0gcmlnaHQub3JpZ2luICYmIGxlZnQub3JpZ2luID09PSBcIm51bGxcIikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChsZWZ0LnByb3RvY29sID09PSByaWdodC5wcm90b2NvbCAmJiBsZWZ0Lmhvc3RuYW1lID09PSByaWdodC5ob3N0bmFtZSAmJiBsZWZ0LnBvcnQgPT09IHJpZ2h0LnBvcnQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIHNyYy9pbnRlcmNlcHRvcnMvZmV0Y2gvdXRpbHMvYnJvdGxpLWRlY29tcHJlc3MudHNcbmltcG9ydCB6bGliIGZyb20gXCJ6bGliXCI7XG52YXIgQnJvdGxpRGVjb21wcmVzc2lvblN0cmVhbSA9IGNsYXNzIGV4dGVuZHMgVHJhbnNmb3JtU3RyZWFtIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc3QgZGVjb21wcmVzcyA9IHpsaWIuY3JlYXRlQnJvdGxpRGVjb21wcmVzcyh7XG4gICAgICBmbHVzaDogemxpYi5jb25zdGFudHMuQlJPVExJX09QRVJBVElPTl9GTFVTSCxcbiAgICAgIGZpbmlzaEZsdXNoOiB6bGliLmNvbnN0YW50cy5CUk9UTElfT1BFUkFUSU9OX0ZMVVNIXG4gICAgfSk7XG4gICAgc3VwZXIoe1xuICAgICAgYXN5bmMgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5mcm9tKGNodW5rKTtcbiAgICAgICAgY29uc3QgZGVjb21wcmVzc2VkID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGRlY29tcHJlc3Mud3JpdGUoYnVmZmVyLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBkZWNvbXByZXNzLmZsdXNoKCk7XG4gICAgICAgICAgZGVjb21wcmVzcy5vbmNlKFwiZGF0YVwiLCAoZGF0YSkgPT4gcmVzb2x2ZShkYXRhKSk7XG4gICAgICAgICAgZGVjb21wcmVzcy5vbmNlKFwiZXJyb3JcIiwgKGVycm9yKSA9PiByZWplY3QoZXJyb3IpKTtcbiAgICAgICAgICBkZWNvbXByZXNzLm9uY2UoXCJlbmRcIiwgKCkgPT4gY29udHJvbGxlci50ZXJtaW5hdGUoKSk7XG4gICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZXJyb3IoZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGRlY29tcHJlc3NlZCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIHNyYy9pbnRlcmNlcHRvcnMvZmV0Y2gvdXRpbHMvZGVjb21wcmVzc2lvbi50c1xudmFyIFBpcGVsaW5lU3RyZWFtID0gY2xhc3MgZXh0ZW5kcyBUcmFuc2Zvcm1TdHJlYW0ge1xuICBjb25zdHJ1Y3Rvcih0cmFuc2Zvcm1TdHJlYW1zLCAuLi5zdHJhdGVnaWVzKSB7XG4gICAgc3VwZXIoe30sIC4uLnN0cmF0ZWdpZXMpO1xuICAgIGNvbnN0IHJlYWRhYmxlID0gW3N1cGVyLnJlYWRhYmxlLCAuLi50cmFuc2Zvcm1TdHJlYW1zXS5yZWR1Y2UoXG4gICAgICAocmVhZGFibGUyLCB0cmFuc2Zvcm0pID0+IHJlYWRhYmxlMi5waXBlVGhyb3VnaCh0cmFuc2Zvcm0pXG4gICAgKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZWFkYWJsZVwiLCB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiByZWFkYWJsZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcbmZ1bmN0aW9uIHBhcnNlQ29udGVudEVuY29kaW5nKGNvbnRlbnRFbmNvZGluZykge1xuICByZXR1cm4gY29udGVudEVuY29kaW5nLnRvTG93ZXJDYXNlKCkuc3BsaXQoXCIsXCIpLm1hcCgoY29kaW5nKSA9PiBjb2RpbmcudHJpbSgpKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZURlY29tcHJlc3Npb25TdHJlYW0oY29udGVudEVuY29kaW5nKSB7XG4gIGlmIChjb250ZW50RW5jb2RpbmcgPT09IFwiXCIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBjb2RpbmdzID0gcGFyc2VDb250ZW50RW5jb2RpbmcoY29udGVudEVuY29kaW5nKTtcbiAgaWYgKGNvZGluZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgdHJhbnNmb3JtZXJzID0gY29kaW5ncy5yZWR1Y2VSaWdodChcbiAgICAodHJhbnNmb3JtZXJzMiwgY29kaW5nKSA9PiB7XG4gICAgICBpZiAoY29kaW5nID09PSBcImd6aXBcIiB8fCBjb2RpbmcgPT09IFwieC1nemlwXCIpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWVyczIuY29uY2F0KG5ldyBEZWNvbXByZXNzaW9uU3RyZWFtKFwiZ3ppcFwiKSk7XG4gICAgICB9IGVsc2UgaWYgKGNvZGluZyA9PT0gXCJkZWZsYXRlXCIpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWVyczIuY29uY2F0KG5ldyBEZWNvbXByZXNzaW9uU3RyZWFtKFwiZGVmbGF0ZVwiKSk7XG4gICAgICB9IGVsc2UgaWYgKGNvZGluZyA9PT0gXCJiclwiKSB7XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm1lcnMyLmNvbmNhdChuZXcgQnJvdGxpRGVjb21wcmVzc2lvblN0cmVhbSgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYW5zZm9ybWVyczIubGVuZ3RoID0gMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cmFuc2Zvcm1lcnMyO1xuICAgIH0sXG4gICAgW11cbiAgKTtcbiAgcmV0dXJuIG5ldyBQaXBlbGluZVN0cmVhbSh0cmFuc2Zvcm1lcnMpO1xufVxuZnVuY3Rpb24gZGVjb21wcmVzc1Jlc3BvbnNlKHJlc3BvbnNlKSB7XG4gIGlmIChyZXNwb25zZS5ib2R5ID09PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgZGVjb21wcmVzc2lvblN0cmVhbSA9IGNyZWF0ZURlY29tcHJlc3Npb25TdHJlYW0oXG4gICAgcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJjb250ZW50LWVuY29kaW5nXCIpIHx8IFwiXCJcbiAgKTtcbiAgaWYgKCFkZWNvbXByZXNzaW9uU3RyZWFtKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmVzcG9uc2UuYm9keS5waXBlVG8oZGVjb21wcmVzc2lvblN0cmVhbS53cml0YWJsZSk7XG4gIHJldHVybiBkZWNvbXByZXNzaW9uU3RyZWFtLnJlYWRhYmxlO1xufVxuXG4vLyBzcmMvaW50ZXJjZXB0b3JzL2ZldGNoL2luZGV4LnRzXG52YXIgX0ZldGNoSW50ZXJjZXB0b3IgPSBjbGFzcyBleHRlbmRzIEludGVyY2VwdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoX0ZldGNoSW50ZXJjZXB0b3Iuc3ltYm9sKTtcbiAgfVxuICBjaGVja0Vudmlyb25tZW50KCkge1xuICAgIHJldHVybiBoYXNDb25maWd1cmFibGVHbG9iYWwoXCJmZXRjaFwiKTtcbiAgfVxuICBhc3luYyBzZXR1cCgpIHtcbiAgICBjb25zdCBwdXJlRmV0Y2ggPSBnbG9iYWxUaGlzLmZldGNoO1xuICAgIGludmFyaWFudChcbiAgICAgICFwdXJlRmV0Y2hbSVNfUEFUQ0hFRF9NT0RVTEVdLFxuICAgICAgJ0ZhaWxlZCB0byBwYXRjaCB0aGUgXCJmZXRjaFwiIG1vZHVsZTogYWxyZWFkeSBwYXRjaGVkLidcbiAgICApO1xuICAgIGdsb2JhbFRoaXMuZmV0Y2ggPSBhc3luYyAoaW5wdXQsIGluaXQpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3RJZCA9IGNyZWF0ZVJlcXVlc3RJZCgpO1xuICAgICAgY29uc3QgcmVzb2x2ZWRJbnB1dCA9IHR5cGVvZiBpbnB1dCA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgJiYgIWNhblBhcnNlVXJsKGlucHV0KSA/IG5ldyBVUkwoaW5wdXQsIGxvY2F0aW9uLm9yaWdpbikgOiBpbnB1dDtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdChyZXNvbHZlZElucHV0LCBpbml0KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlUHJvbWlzZSA9IG5ldyBEZWZlcnJlZFByb21pc2UoKTtcbiAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgUmVxdWVzdENvbnRyb2xsZXIocmVxdWVzdCk7XG4gICAgICB0aGlzLmxvZ2dlci5pbmZvKFwiWyVzXSAlc1wiLCByZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwpO1xuICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcImF3YWl0aW5nIGZvciB0aGUgbW9ja2VkIHJlc3BvbnNlLi4uXCIpO1xuICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcbiAgICAgICAgJ2VtaXR0aW5nIHRoZSBcInJlcXVlc3RcIiBldmVudCBmb3IgJXMgbGlzdGVuZXIocykuLi4nLFxuICAgICAgICB0aGlzLmVtaXR0ZXIubGlzdGVuZXJDb3VudChcInJlcXVlc3RcIilcbiAgICAgICk7XG4gICAgICBjb25zdCBpc1JlcXVlc3RIYW5kbGVkID0gYXdhaXQgaGFuZGxlUmVxdWVzdCh7XG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIHJlcXVlc3RJZCxcbiAgICAgICAgZW1pdHRlcjogdGhpcy5lbWl0dGVyLFxuICAgICAgICBjb250cm9sbGVyLFxuICAgICAgICBvblJlc3BvbnNlOiBhc3luYyAocmF3UmVzcG9uc2UpID0+IHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwicmVjZWl2ZWQgbW9ja2VkIHJlc3BvbnNlIVwiLCB7XG4gICAgICAgICAgICByYXdSZXNwb25zZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IGRlY29tcHJlc3NlZFN0cmVhbSA9IGRlY29tcHJlc3NSZXNwb25zZShyYXdSZXNwb25zZSk7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBkZWNvbXByZXNzZWRTdHJlYW0gPT09IG51bGwgPyByYXdSZXNwb25zZSA6IG5ldyBGZXRjaFJlc3BvbnNlKGRlY29tcHJlc3NlZFN0cmVhbSwgcmF3UmVzcG9uc2UpO1xuICAgICAgICAgIEZldGNoUmVzcG9uc2Uuc2V0VXJsKHJlcXVlc3QudXJsLCByZXNwb25zZSk7XG4gICAgICAgICAgaWYgKEZldGNoUmVzcG9uc2UuaXNSZWRpcmVjdFJlc3BvbnNlKHJlc3BvbnNlLnN0YXR1cykpIHtcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0LnJlZGlyZWN0ID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgICAgICAgcmVzcG9uc2VQcm9taXNlLnJlamVjdChjcmVhdGVOZXR3b3JrRXJyb3IoXCJ1bmV4cGVjdGVkIHJlZGlyZWN0XCIpKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlcXVlc3QucmVkaXJlY3QgPT09IFwiZm9sbG93XCIpIHtcbiAgICAgICAgICAgICAgZm9sbG93RmV0Y2hSZWRpcmVjdChyZXF1ZXN0LCByZXNwb25zZSkudGhlbihcbiAgICAgICAgICAgICAgICAocmVzcG9uc2UyKSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXNwb25zZVByb21pc2UucmVzb2x2ZShyZXNwb25zZTIpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKHJlYXNvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgcmVzcG9uc2VQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5lbWl0dGVyLmxpc3RlbmVyQ291bnQoXCJyZXNwb25zZVwiKSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ2VtaXR0aW5nIHRoZSBcInJlc3BvbnNlXCIgZXZlbnQuLi4nKTtcbiAgICAgICAgICAgIGF3YWl0IGVtaXRBc3luYyh0aGlzLmVtaXR0ZXIsIFwicmVzcG9uc2VcIiwge1xuICAgICAgICAgICAgICAvLyBDbG9uZSB0aGUgbW9ja2VkIHJlc3BvbnNlIGZvciB0aGUgXCJyZXNwb25zZVwiIGV2ZW50IGxpc3RlbmVyLlxuICAgICAgICAgICAgICAvLyBUaGlzIHdheSwgdGhlIGxpc3RlbmVyIGNhbiByZWFkIHRoZSByZXNwb25zZSBhbmQgbm90IGxvY2sgaXRzIGJvZHlcbiAgICAgICAgICAgICAgLy8gZm9yIHRoZSBhY3R1YWwgZmV0Y2ggY29uc3VtZXIuXG4gICAgICAgICAgICAgIHJlc3BvbnNlOiByZXNwb25zZS5jbG9uZSgpLFxuICAgICAgICAgICAgICBpc01vY2tlZFJlc3BvbnNlOiB0cnVlLFxuICAgICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgICByZXF1ZXN0SWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXNwb25zZVByb21pc2UucmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUmVxdWVzdEVycm9yOiAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwicmVxdWVzdCBoYXMgZXJyb3JlZCFcIiwgeyByZXNwb25zZSB9KTtcbiAgICAgICAgICByZXNwb25zZVByb21pc2UucmVqZWN0KGNyZWF0ZU5ldHdvcmtFcnJvcihyZXNwb25zZSkpO1xuICAgICAgICB9LFxuICAgICAgICBvbkVycm9yOiAoZXJyb3IpID0+IHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwicmVxdWVzdCBoYXMgYmVlbiBhYm9ydGVkIVwiLCB7IGVycm9yIH0pO1xuICAgICAgICAgIHJlc3BvbnNlUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChpc1JlcXVlc3RIYW5kbGVkKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJyZXF1ZXN0IGhhcyBiZWVuIGhhbmRsZWQsIHJldHVybmluZyBtb2NrIHByb21pc2UuLi5cIik7XG4gICAgICAgIHJldHVybiByZXNwb25zZVByb21pc2U7XG4gICAgICB9XG4gICAgICB0aGlzLmxvZ2dlci5pbmZvKFxuICAgICAgICBcIm5vIG1vY2tlZCByZXNwb25zZSByZWNlaXZlZCwgcGVyZm9ybWluZyByZXF1ZXN0IGFzLWlzLi4uXCJcbiAgICAgICk7XG4gICAgICByZXR1cm4gcHVyZUZldGNoKHJlcXVlc3QpLnRoZW4oYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJvcmlnaW5hbCBmZXRjaCBwZXJmb3JtZWRcIiwgcmVzcG9uc2UpO1xuICAgICAgICBpZiAodGhpcy5lbWl0dGVyLmxpc3RlbmVyQ291bnQoXCJyZXNwb25zZVwiKSA+IDApIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdlbWl0dGluZyB0aGUgXCJyZXNwb25zZVwiIGV2ZW50Li4uJyk7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2VDbG9uZSA9IHJlc3BvbnNlLmNsb25lKCk7XG4gICAgICAgICAgYXdhaXQgZW1pdEFzeW5jKHRoaXMuZW1pdHRlciwgXCJyZXNwb25zZVwiLCB7XG4gICAgICAgICAgICByZXNwb25zZTogcmVzcG9uc2VDbG9uZSxcbiAgICAgICAgICAgIGlzTW9ja2VkUmVzcG9uc2U6IGZhbHNlLFxuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgIHJlcXVlc3RJZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGdsb2JhbFRoaXMuZmV0Y2gsIElTX1BBVENIRURfTU9EVUxFLCB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaCgoKSA9PiB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZ2xvYmFsVGhpcy5mZXRjaCwgSVNfUEFUQ0hFRF9NT0RVTEUsIHtcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBnbG9iYWxUaGlzLmZldGNoID0gcHVyZUZldGNoO1xuICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcbiAgICAgICAgJ3Jlc3RvcmVkIG5hdGl2ZSBcImdsb2JhbFRoaXMuZmV0Y2hcIiEnLFxuICAgICAgICBnbG9iYWxUaGlzLmZldGNoLm5hbWVcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbn07XG52YXIgRmV0Y2hJbnRlcmNlcHRvciA9IF9GZXRjaEludGVyY2VwdG9yO1xuRmV0Y2hJbnRlcmNlcHRvci5zeW1ib2wgPSBTeW1ib2woXCJmZXRjaFwiKTtcblxuZXhwb3J0IHtcbiAgRmV0Y2hJbnRlcmNlcHRvclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLUNUR1RNRUZELm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-CTGTMEFD.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-FWJSC2QD.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@mswjs/interceptors/lib/node/chunk-FWJSC2QD.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ClientRequestInterceptor: () => (/* binding */ ClientRequestInterceptor)\n/* harmony export */ });\n/* harmony import */ var _chunk_5KMS5CTP_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-5KMS5CTP.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-5KMS5CTP.mjs\");\n/* harmony import */ var _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-I7HQIBT7.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-I7HQIBT7.mjs\");\n/* harmony import */ var http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! http */ \"http\");\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! https */ \"https\");\n/* harmony import */ var net__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! net */ \"net\");\n/* harmony import */ var _http_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! _http_common */ \"_http_common\");\n/* harmony import */ var stream__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! stream */ \"stream\");\n/* harmony import */ var outvariant__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! outvariant */ \"(rsc)/./node_modules/outvariant/lib/index.mjs\");\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! url */ \"url\");\n/* harmony import */ var _open_draft_logger__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @open-draft/logger */ \"(rsc)/./node_modules/@open-draft/logger/lib/index.mjs\");\n\n\n\n// src/interceptors/ClientRequest/index.ts\n\n\n\n// src/interceptors/ClientRequest/MockHttpSocket.ts\n\n\n\n\n\n\n// src/interceptors/Socket/MockSocket.ts\n\n\n// src/interceptors/Socket/utils/normalizeSocketWriteArgs.ts\nfunction normalizeSocketWriteArgs(args) {\n  const normalized = [args[0], void 0, void 0];\n  if (typeof args[1] === \"string\") {\n    normalized[1] = args[1];\n  } else if (typeof args[1] === \"function\") {\n    normalized[2] = args[1];\n  }\n  if (typeof args[2] === \"function\") {\n    normalized[2] = args[2];\n  }\n  return normalized;\n}\n\n// src/interceptors/Socket/MockSocket.ts\nvar MockSocket = class extends net__WEBPACK_IMPORTED_MODULE_4__.Socket {\n  constructor(options) {\n    super();\n    this.options = options;\n    this.connecting = false;\n    this.connect();\n    this._final = (callback) => {\n      callback(null);\n    };\n  }\n  connect() {\n    this.connecting = true;\n    return this;\n  }\n  write(...args) {\n    const [chunk, encoding, callback] = normalizeSocketWriteArgs(\n      args\n    );\n    this.options.write(chunk, encoding, callback);\n    return true;\n  }\n  end(...args) {\n    const [chunk, encoding, callback] = normalizeSocketWriteArgs(\n      args\n    );\n    this.options.write(chunk, encoding, callback);\n    return super.end.apply(this, args);\n  }\n  push(chunk, encoding) {\n    this.options.read(chunk, encoding);\n    return super.push(chunk, encoding);\n  }\n};\n\n// src/interceptors/Socket/utils/baseUrlFromConnectionOptions.ts\nfunction baseUrlFromConnectionOptions(options) {\n  if (\"href\" in options) {\n    return new URL(options.href);\n  }\n  const protocol = options.port === 443 ? \"https:\" : \"http:\";\n  const host = options.host;\n  const url = new URL(`${protocol}//${host}`);\n  if (options.port) {\n    url.port = options.port.toString();\n  }\n  if (options.path) {\n    url.pathname = options.path;\n  }\n  if (options.auth) {\n    const [username, password] = options.auth.split(\":\");\n    url.username = username;\n    url.password = password;\n  }\n  return url;\n}\n\n// src/interceptors/ClientRequest/utils/recordRawHeaders.ts\nvar kRawHeaders = Symbol(\"kRawHeaders\");\nvar kRestorePatches = Symbol(\"kRestorePatches\");\nfunction recordRawHeader(headers, args, behavior) {\n  ensureRawHeadersSymbol(headers, []);\n  const rawHeaders = Reflect.get(headers, kRawHeaders);\n  if (behavior === \"set\") {\n    for (let index = rawHeaders.length - 1; index >= 0; index--) {\n      if (rawHeaders[index][0].toLowerCase() === args[0].toLowerCase()) {\n        rawHeaders.splice(index, 1);\n      }\n    }\n  }\n  rawHeaders.push(args);\n}\nfunction ensureRawHeadersSymbol(headers, rawHeaders) {\n  if (Reflect.has(headers, kRawHeaders)) {\n    return;\n  }\n  defineRawHeadersSymbol(headers, rawHeaders);\n}\nfunction defineRawHeadersSymbol(headers, rawHeaders) {\n  Object.defineProperty(headers, kRawHeaders, {\n    value: rawHeaders,\n    enumerable: false,\n    // Mark the symbol as configurable so its value can be overridden.\n    // Overrides happen when merging raw headers from multiple sources.\n    // E.g. new Request(new Request(url, { headers }), { headers })\n    configurable: true\n  });\n}\nfunction recordRawFetchHeaders() {\n  if (Reflect.get(Headers, kRestorePatches)) {\n    return Reflect.get(Headers, kRestorePatches);\n  }\n  const {\n    Headers: OriginalHeaders,\n    Request: OriginalRequest,\n    Response: OriginalResponse\n  } = globalThis;\n  const { set, append, delete: headersDeleteMethod } = Headers.prototype;\n  Object.defineProperty(Headers, kRestorePatches, {\n    value: () => {\n      Headers.prototype.set = set;\n      Headers.prototype.append = append;\n      Headers.prototype.delete = headersDeleteMethod;\n      globalThis.Headers = OriginalHeaders;\n      globalThis.Request = OriginalRequest;\n      globalThis.Response = OriginalResponse;\n      Reflect.deleteProperty(Headers, kRestorePatches);\n    },\n    enumerable: false,\n    /**\n     * @note Mark this property as configurable\n     * so we can delete it using `Reflect.delete` during cleanup.\n     */\n    configurable: true\n  });\n  Object.defineProperty(globalThis, \"Headers\", {\n    enumerable: true,\n    writable: true,\n    value: new Proxy(Headers, {\n      construct(target, args, newTarget) {\n        const headersInit = args[0] || [];\n        if (headersInit instanceof Headers && Reflect.has(headersInit, kRawHeaders)) {\n          const headers2 = Reflect.construct(\n            target,\n            [Reflect.get(headersInit, kRawHeaders)],\n            newTarget\n          );\n          ensureRawHeadersSymbol(headers2, [\n            /**\n             * @note Spread the retrieved headers to clone them.\n             * This prevents multiple Headers instances from pointing\n             * at the same internal \"rawHeaders\" array.\n             */\n            ...Reflect.get(headersInit, kRawHeaders)\n          ]);\n          return headers2;\n        }\n        const headers = Reflect.construct(target, args, newTarget);\n        if (!Reflect.has(headers, kRawHeaders)) {\n          const rawHeadersInit = Array.isArray(headersInit) ? headersInit : Object.entries(headersInit);\n          ensureRawHeadersSymbol(headers, rawHeadersInit);\n        }\n        return headers;\n      }\n    })\n  });\n  Headers.prototype.set = new Proxy(Headers.prototype.set, {\n    apply(target, thisArg, args) {\n      recordRawHeader(thisArg, args, \"set\");\n      return Reflect.apply(target, thisArg, args);\n    }\n  });\n  Headers.prototype.append = new Proxy(Headers.prototype.append, {\n    apply(target, thisArg, args) {\n      recordRawHeader(thisArg, args, \"append\");\n      return Reflect.apply(target, thisArg, args);\n    }\n  });\n  Headers.prototype.delete = new Proxy(Headers.prototype.delete, {\n    apply(target, thisArg, args) {\n      const rawHeaders = Reflect.get(thisArg, kRawHeaders);\n      if (rawHeaders) {\n        for (let index = rawHeaders.length - 1; index >= 0; index--) {\n          if (rawHeaders[index][0].toLowerCase() === args[0].toLowerCase()) {\n            rawHeaders.splice(index, 1);\n          }\n        }\n      }\n      return Reflect.apply(target, thisArg, args);\n    }\n  });\n  Object.defineProperty(globalThis, \"Request\", {\n    enumerable: true,\n    writable: true,\n    value: new Proxy(Request, {\n      construct(target, args, newTarget) {\n        const request = Reflect.construct(target, args, newTarget);\n        const inferredRawHeaders = [];\n        if (typeof args[0] === \"object\" && args[0].headers != null) {\n          inferredRawHeaders.push(...inferRawHeaders(args[0].headers));\n        }\n        if (typeof args[1] === \"object\" && args[1].headers != null) {\n          inferredRawHeaders.push(...inferRawHeaders(args[1].headers));\n        }\n        if (inferredRawHeaders.length > 0) {\n          ensureRawHeadersSymbol(request.headers, inferredRawHeaders);\n        }\n        return request;\n      }\n    })\n  });\n  Object.defineProperty(globalThis, \"Response\", {\n    enumerable: true,\n    writable: true,\n    value: new Proxy(Response, {\n      construct(target, args, newTarget) {\n        const response = Reflect.construct(target, args, newTarget);\n        if (typeof args[1] === \"object\" && args[1].headers != null) {\n          ensureRawHeadersSymbol(\n            response.headers,\n            inferRawHeaders(args[1].headers)\n          );\n        }\n        return response;\n      }\n    })\n  });\n}\nfunction restoreHeadersPrototype() {\n  if (!Reflect.get(Headers, kRestorePatches)) {\n    return;\n  }\n  Reflect.get(Headers, kRestorePatches)();\n}\nfunction getRawFetchHeaders(headers) {\n  if (!Reflect.has(headers, kRawHeaders)) {\n    return Array.from(headers.entries());\n  }\n  const rawHeaders = Reflect.get(headers, kRawHeaders);\n  return rawHeaders.length > 0 ? rawHeaders : Array.from(headers.entries());\n}\nfunction inferRawHeaders(headers) {\n  if (headers instanceof Headers) {\n    return Reflect.get(headers, kRawHeaders) || [];\n  }\n  return Reflect.get(new Headers(headers), kRawHeaders);\n}\n\n// src/interceptors/ClientRequest/MockHttpSocket.ts\nvar kRequestId = Symbol(\"kRequestId\");\nvar MockHttpSocket = class extends MockSocket {\n  constructor(options) {\n    super({\n      write: (chunk, encoding, callback) => {\n        var _a;\n        if (this.socketState !== \"passthrough\") {\n          this.writeBuffer.push([chunk, encoding, callback]);\n        }\n        if (chunk) {\n          if (this.socketState === \"passthrough\") {\n            (_a = this.originalSocket) == null ? void 0 : _a.write(chunk, encoding, callback);\n          }\n          this.requestParser.execute(\n            Buffer.isBuffer(chunk) ? chunk : Buffer.from(chunk, encoding)\n          );\n        }\n      },\n      read: (chunk) => {\n        if (chunk !== null) {\n          this.responseParser.execute(\n            Buffer.isBuffer(chunk) ? chunk : Buffer.from(chunk)\n          );\n        }\n      }\n    });\n    this.writeBuffer = [];\n    this.socketState = \"unknown\";\n    this.onRequestStart = (versionMajor, versionMinor, rawHeaders, _, path, __, ___, ____, shouldKeepAlive) => {\n      var _a;\n      this.shouldKeepAlive = shouldKeepAlive;\n      const url = new URL(path, this.baseUrl);\n      const method = ((_a = this.connectionOptions.method) == null ? void 0 : _a.toUpperCase()) || \"GET\";\n      const headers = _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_1__.FetchResponse.parseRawHeaders(rawHeaders);\n      const canHaveBody = method !== \"GET\" && method !== \"HEAD\";\n      if (url.username || url.password) {\n        if (!headers.has(\"authorization\")) {\n          headers.set(\"authorization\", `Basic ${url.username}:${url.password}`);\n        }\n        url.username = \"\";\n        url.password = \"\";\n      }\n      if (canHaveBody) {\n        this.requestStream = new stream__WEBPACK_IMPORTED_MODULE_6__.Readable({\n          /**\n           * @note Provide the `read()` method so a `Readable` could be\n           * used as the actual request body (the stream calls \"read()\").\n           * We control the queue in the onRequestBody/End functions.\n           */\n          read: () => {\n            this.flushWriteBuffer();\n          }\n        });\n      }\n      const requestId = (0,_chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_1__.createRequestId)();\n      this.request = new Request(url, {\n        method,\n        headers,\n        credentials: \"same-origin\",\n        // @ts-expect-error Undocumented Fetch property.\n        duplex: canHaveBody ? \"half\" : void 0,\n        body: canHaveBody ? stream__WEBPACK_IMPORTED_MODULE_6__.Readable.toWeb(this.requestStream) : null\n      });\n      Reflect.set(this.request, kRequestId, requestId);\n      if (this.request.headers.has(_chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_1__.INTERNAL_REQUEST_ID_HEADER_NAME)) {\n        this.passthrough();\n        return;\n      }\n      this.onRequest({\n        requestId,\n        request: this.request,\n        socket: this\n      });\n    };\n    this.onResponseStart = (versionMajor, versionMinor, rawHeaders, method, url, status, statusText) => {\n      const headers = _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_1__.FetchResponse.parseRawHeaders(rawHeaders);\n      const response = new _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_1__.FetchResponse(\n        /**\n         * @note The Fetch API response instance exposed to the consumer\n         * is created over the response stream of the HTTP parser. It is NOT\n         * related to the Socket instance. This way, you can read response body\n         * in response listener while the Socket instance delays the emission\n         * of \"end\" and other events until those response listeners are finished.\n         */\n        _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_1__.FetchResponse.isResponseWithBody(status) ? stream__WEBPACK_IMPORTED_MODULE_6__.Readable.toWeb(\n          this.responseStream = new stream__WEBPACK_IMPORTED_MODULE_6__.Readable({ read() {\n          } })\n        ) : null,\n        {\n          url,\n          status,\n          statusText,\n          headers\n        }\n      );\n      (0,outvariant__WEBPACK_IMPORTED_MODULE_7__.invariant)(\n        this.request,\n        \"Failed to handle a response: request does not exist\"\n      );\n      if (this.request.headers.has(_chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_1__.INTERNAL_REQUEST_ID_HEADER_NAME)) {\n        return;\n      }\n      this.responseListenersPromise = this.onResponse({\n        response,\n        isMockedResponse: this.socketState === \"mock\",\n        requestId: Reflect.get(this.request, kRequestId),\n        request: this.request,\n        socket: this\n      });\n    };\n    this.connectionOptions = options.connectionOptions;\n    this.createConnection = options.createConnection;\n    this.onRequest = options.onRequest;\n    this.onResponse = options.onResponse;\n    this.baseUrl = baseUrlFromConnectionOptions(this.connectionOptions);\n    this.requestParser = new _http_common__WEBPACK_IMPORTED_MODULE_5__.HTTPParser();\n    this.requestParser.initialize(_http_common__WEBPACK_IMPORTED_MODULE_5__.HTTPParser.REQUEST, {});\n    this.requestParser[_http_common__WEBPACK_IMPORTED_MODULE_5__.HTTPParser.kOnHeadersComplete] = this.onRequestStart.bind(this);\n    this.requestParser[_http_common__WEBPACK_IMPORTED_MODULE_5__.HTTPParser.kOnBody] = this.onRequestBody.bind(this);\n    this.requestParser[_http_common__WEBPACK_IMPORTED_MODULE_5__.HTTPParser.kOnMessageComplete] = this.onRequestEnd.bind(this);\n    this.responseParser = new _http_common__WEBPACK_IMPORTED_MODULE_5__.HTTPParser();\n    this.responseParser.initialize(_http_common__WEBPACK_IMPORTED_MODULE_5__.HTTPParser.RESPONSE, {});\n    this.responseParser[_http_common__WEBPACK_IMPORTED_MODULE_5__.HTTPParser.kOnHeadersComplete] = this.onResponseStart.bind(this);\n    this.responseParser[_http_common__WEBPACK_IMPORTED_MODULE_5__.HTTPParser.kOnBody] = this.onResponseBody.bind(this);\n    this.responseParser[_http_common__WEBPACK_IMPORTED_MODULE_5__.HTTPParser.kOnMessageComplete] = this.onResponseEnd.bind(this);\n    this.once(\"finish\", () => this.requestParser.free());\n    if (this.baseUrl.protocol === \"https:\") {\n      Reflect.set(this, \"encrypted\", true);\n      Reflect.set(this, \"authorized\", false);\n      Reflect.set(this, \"getProtocol\", () => \"TLSv1.3\");\n      Reflect.set(this, \"getSession\", () => void 0);\n      Reflect.set(this, \"isSessionReused\", () => false);\n    }\n  }\n  emit(event, ...args) {\n    const emitEvent = super.emit.bind(this, event, ...args);\n    if (this.responseListenersPromise) {\n      this.responseListenersPromise.finally(emitEvent);\n      return this.listenerCount(event) > 0;\n    }\n    return emitEvent();\n  }\n  destroy(error) {\n    this.responseParser.free();\n    if (error) {\n      this.emit(\"error\", error);\n    }\n    return super.destroy(error);\n  }\n  /**\n   * Establish this Socket connection as-is and pipe\n   * its data/events through this Socket.\n   */\n  passthrough() {\n    this.socketState = \"passthrough\";\n    if (this.destroyed) {\n      return;\n    }\n    const socket = this.createConnection();\n    this.originalSocket = socket;\n    this.once(\"error\", (error) => {\n      socket.destroy(error);\n    });\n    this.address = socket.address.bind(socket);\n    let writeArgs;\n    let headersWritten = false;\n    while (writeArgs = this.writeBuffer.shift()) {\n      if (writeArgs !== void 0) {\n        if (!headersWritten) {\n          const [chunk, encoding, callback] = writeArgs;\n          const chunkString = chunk.toString();\n          const chunkBeforeRequestHeaders = chunkString.slice(\n            0,\n            chunkString.indexOf(\"\\r\\n\") + 2\n          );\n          const chunkAfterRequestHeaders = chunkString.slice(\n            chunk.indexOf(\"\\r\\n\\r\\n\")\n          );\n          const rawRequestHeaders = getRawFetchHeaders(this.request.headers);\n          const requestHeadersString = rawRequestHeaders.filter(([name]) => {\n            return name.toLowerCase() !== _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_1__.INTERNAL_REQUEST_ID_HEADER_NAME;\n          }).map(([name, value]) => `${name}: ${value}`).join(\"\\r\\n\");\n          const headersChunk = `${chunkBeforeRequestHeaders}${requestHeadersString}${chunkAfterRequestHeaders}`;\n          socket.write(headersChunk, encoding, callback);\n          headersWritten = true;\n          continue;\n        }\n        socket.write(...writeArgs);\n      }\n    }\n    if (Reflect.get(socket, \"encrypted\")) {\n      const tlsProperties = [\n        \"encrypted\",\n        \"authorized\",\n        \"getProtocol\",\n        \"getSession\",\n        \"isSessionReused\"\n      ];\n      tlsProperties.forEach((propertyName) => {\n        Object.defineProperty(this, propertyName, {\n          enumerable: true,\n          get: () => {\n            const value = Reflect.get(socket, propertyName);\n            return typeof value === \"function\" ? value.bind(socket) : value;\n          }\n        });\n      });\n    }\n    socket.on(\"lookup\", (...args) => this.emit(\"lookup\", ...args)).on(\"connect\", () => {\n      this.connecting = socket.connecting;\n      this.emit(\"connect\");\n    }).on(\"secureConnect\", () => this.emit(\"secureConnect\")).on(\"secure\", () => this.emit(\"secure\")).on(\"session\", (session) => this.emit(\"session\", session)).on(\"ready\", () => this.emit(\"ready\")).on(\"drain\", () => this.emit(\"drain\")).on(\"data\", (chunk) => {\n      this.push(chunk);\n    }).on(\"error\", (error) => {\n      Reflect.set(this, \"_hadError\", Reflect.get(socket, \"_hadError\"));\n      this.emit(\"error\", error);\n    }).on(\"resume\", () => this.emit(\"resume\")).on(\"timeout\", () => this.emit(\"timeout\")).on(\"prefinish\", () => this.emit(\"prefinish\")).on(\"finish\", () => this.emit(\"finish\")).on(\"close\", (hadError) => this.emit(\"close\", hadError)).on(\"end\", () => this.emit(\"end\"));\n  }\n  /**\n   * Convert the given Fetch API `Response` instance to an\n   * HTTP message and push it to the socket.\n   */\n  async respondWith(response) {\n    var _a;\n    if (this.destroyed) {\n      return;\n    }\n    if ((0,_chunk_5KMS5CTP_mjs__WEBPACK_IMPORTED_MODULE_0__.isPropertyAccessible)(response, \"type\") && response.type === \"error\") {\n      this.errorWith(new TypeError(\"Network error\"));\n      return;\n    }\n    this.mockConnect();\n    this.socketState = \"mock\";\n    this.flushWriteBuffer();\n    const serverResponse = new http__WEBPACK_IMPORTED_MODULE_2__.ServerResponse(new http__WEBPACK_IMPORTED_MODULE_2__.IncomingMessage(this));\n    serverResponse.assignSocket(\n      new MockSocket({\n        write: (chunk, encoding, callback) => {\n          this.push(chunk, encoding);\n          callback == null ? void 0 : callback();\n        },\n        read() {\n        }\n      })\n    );\n    serverResponse.removeHeader(\"connection\");\n    serverResponse.removeHeader(\"date\");\n    const rawResponseHeaders = getRawFetchHeaders(response.headers);\n    serverResponse.writeHead(\n      response.status,\n      response.statusText || http__WEBPACK_IMPORTED_MODULE_2__.STATUS_CODES[response.status],\n      rawResponseHeaders\n    );\n    this.once(\"error\", () => {\n      serverResponse.destroy();\n    });\n    if (response.body) {\n      try {\n        const reader = response.body.getReader();\n        while (true) {\n          const { done, value } = await reader.read();\n          if (done) {\n            serverResponse.end();\n            break;\n          }\n          serverResponse.write(value);\n        }\n      } catch (error) {\n        this.respondWith((0,_chunk_5KMS5CTP_mjs__WEBPACK_IMPORTED_MODULE_0__.createServerErrorResponse)(error));\n        return;\n      }\n    } else {\n      serverResponse.end();\n    }\n    if (!this.shouldKeepAlive) {\n      this.emit(\"readable\");\n      (_a = this.responseStream) == null ? void 0 : _a.push(null);\n      this.push(null);\n    }\n  }\n  /**\n   * Close this socket connection with the given error.\n   */\n  errorWith(error) {\n    this.destroy(error);\n  }\n  mockConnect() {\n    this.connecting = false;\n    const isIPv6 = net__WEBPACK_IMPORTED_MODULE_4__.isIPv6(this.connectionOptions.hostname) || this.connectionOptions.family === 6;\n    const addressInfo = {\n      address: isIPv6 ? \"::1\" : \"127.0.0.1\",\n      family: isIPv6 ? \"IPv6\" : \"IPv4\",\n      port: this.connectionOptions.port\n    };\n    this.address = () => addressInfo;\n    this.emit(\n      \"lookup\",\n      null,\n      addressInfo.address,\n      addressInfo.family === \"IPv6\" ? 6 : 4,\n      this.connectionOptions.host\n    );\n    this.emit(\"connect\");\n    this.emit(\"ready\");\n    if (this.baseUrl.protocol === \"https:\") {\n      this.emit(\"secure\");\n      this.emit(\"secureConnect\");\n      this.emit(\n        \"session\",\n        this.connectionOptions.session || Buffer.from(\"mock-session-renegotiate\")\n      );\n      this.emit(\"session\", Buffer.from(\"mock-session-resume\"));\n    }\n  }\n  flushWriteBuffer() {\n    for (const writeCall of this.writeBuffer) {\n      if (typeof writeCall[2] === \"function\") {\n        writeCall[2]();\n        writeCall[2] = void 0;\n      }\n    }\n  }\n  onRequestBody(chunk) {\n    (0,outvariant__WEBPACK_IMPORTED_MODULE_7__.invariant)(\n      this.requestStream,\n      \"Failed to write to a request stream: stream does not exist\"\n    );\n    this.requestStream.push(chunk);\n  }\n  onRequestEnd() {\n    if (this.requestStream) {\n      this.requestStream.push(null);\n    }\n  }\n  onResponseBody(chunk) {\n    (0,outvariant__WEBPACK_IMPORTED_MODULE_7__.invariant)(\n      this.responseStream,\n      \"Failed to write to a response stream: stream does not exist\"\n    );\n    this.responseStream.push(chunk);\n  }\n  onResponseEnd() {\n    if (this.responseStream) {\n      this.responseStream.push(null);\n    }\n  }\n};\n\n// src/interceptors/ClientRequest/agents.ts\n\n\nvar MockAgent = class extends http__WEBPACK_IMPORTED_MODULE_2__.Agent {\n  constructor(options) {\n    super();\n    this.customAgent = options.customAgent;\n    this.onRequest = options.onRequest;\n    this.onResponse = options.onResponse;\n  }\n  createConnection(options, callback) {\n    const createConnection = this.customAgent instanceof http__WEBPACK_IMPORTED_MODULE_2__.Agent ? this.customAgent.createConnection : super.createConnection;\n    const createConnectionOptions = this.customAgent instanceof http__WEBPACK_IMPORTED_MODULE_2__.Agent ? {\n      ...options,\n      ...this.customAgent.options\n    } : options;\n    const socket = new MockHttpSocket({\n      connectionOptions: options,\n      createConnection: createConnection.bind(\n        this.customAgent || this,\n        createConnectionOptions,\n        callback\n      ),\n      onRequest: this.onRequest.bind(this),\n      onResponse: this.onResponse.bind(this)\n    });\n    return socket;\n  }\n};\nvar MockHttpsAgent = class extends https__WEBPACK_IMPORTED_MODULE_3__.Agent {\n  constructor(options) {\n    super();\n    this.customAgent = options.customAgent;\n    this.onRequest = options.onRequest;\n    this.onResponse = options.onResponse;\n  }\n  createConnection(options, callback) {\n    const createConnection = this.customAgent instanceof https__WEBPACK_IMPORTED_MODULE_3__.Agent ? this.customAgent.createConnection : super.createConnection;\n    const createConnectionOptions = this.customAgent instanceof https__WEBPACK_IMPORTED_MODULE_3__.Agent ? {\n      ...options,\n      ...this.customAgent.options\n    } : options;\n    const socket = new MockHttpSocket({\n      connectionOptions: options,\n      createConnection: createConnection.bind(\n        this.customAgent || this,\n        createConnectionOptions,\n        callback\n      ),\n      onRequest: this.onRequest.bind(this),\n      onResponse: this.onResponse.bind(this)\n    });\n    return socket;\n  }\n};\n\n// src/interceptors/ClientRequest/utils/normalizeClientRequestArgs.ts\n\n\n\n\n\n\n// src/utils/getUrlByRequestOptions.ts\n\n\nvar logger = new _open_draft_logger__WEBPACK_IMPORTED_MODULE_9__.Logger(\"utils getUrlByRequestOptions\");\nvar DEFAULT_PATH = \"/\";\nvar DEFAULT_PROTOCOL = \"http:\";\nvar DEFAULT_HOSTNAME = \"localhost\";\nvar SSL_PORT = 443;\nfunction getAgent(options) {\n  return options.agent instanceof http__WEBPACK_IMPORTED_MODULE_2__.Agent ? options.agent : void 0;\n}\nfunction getProtocolByRequestOptions(options) {\n  var _a;\n  if (options.protocol) {\n    return options.protocol;\n  }\n  const agent = getAgent(options);\n  const agentProtocol = agent == null ? void 0 : agent.protocol;\n  if (agentProtocol) {\n    return agentProtocol;\n  }\n  const port = getPortByRequestOptions(options);\n  const isSecureRequest = options.cert || port === SSL_PORT;\n  return isSecureRequest ? \"https:\" : ((_a = options.uri) == null ? void 0 : _a.protocol) || DEFAULT_PROTOCOL;\n}\nfunction getPortByRequestOptions(options) {\n  if (options.port) {\n    return Number(options.port);\n  }\n  const agent = getAgent(options);\n  if (agent == null ? void 0 : agent.options.port) {\n    return Number(agent.options.port);\n  }\n  if (agent == null ? void 0 : agent.defaultPort) {\n    return Number(agent.defaultPort);\n  }\n  return void 0;\n}\nfunction getAuthByRequestOptions(options) {\n  if (options.auth) {\n    const [username, password] = options.auth.split(\":\");\n    return { username, password };\n  }\n}\nfunction isRawIPv6Address(host) {\n  return host.includes(\":\") && !host.startsWith(\"[\") && !host.endsWith(\"]\");\n}\nfunction getHostname(options) {\n  let host = options.hostname || options.host;\n  if (host) {\n    if (isRawIPv6Address(host)) {\n      host = `[${host}]`;\n    }\n    return new URL(`http://${host}`).hostname;\n  }\n  return DEFAULT_HOSTNAME;\n}\nfunction getUrlByRequestOptions(options) {\n  logger.info(\"request options\", options);\n  if (options.uri) {\n    logger.info(\n      'constructing url from explicitly provided \"options.uri\": %s',\n      options.uri\n    );\n    return new URL(options.uri.href);\n  }\n  logger.info(\"figuring out url from request options...\");\n  const protocol = getProtocolByRequestOptions(options);\n  logger.info(\"protocol\", protocol);\n  const port = getPortByRequestOptions(options);\n  logger.info(\"port\", port);\n  const hostname = getHostname(options);\n  logger.info(\"hostname\", hostname);\n  const path = options.path || DEFAULT_PATH;\n  logger.info(\"path\", path);\n  const credentials = getAuthByRequestOptions(options);\n  logger.info(\"credentials\", credentials);\n  const authString = credentials ? `${credentials.username}:${credentials.password}@` : \"\";\n  logger.info(\"auth string:\", authString);\n  const portString = typeof port !== \"undefined\" ? `:${port}` : \"\";\n  const url = new URL(`${protocol}//${hostname}${portString}${path}`);\n  url.username = (credentials == null ? void 0 : credentials.username) || \"\";\n  url.password = (credentials == null ? void 0 : credentials.password) || \"\";\n  logger.info(\"created url:\", url);\n  return url;\n}\n\n// src/utils/cloneObject.ts\n\nvar logger2 = new _open_draft_logger__WEBPACK_IMPORTED_MODULE_9__.Logger(\"cloneObject\");\nfunction isPlainObject(obj) {\n  var _a;\n  logger2.info(\"is plain object?\", obj);\n  if (obj == null || !((_a = obj.constructor) == null ? void 0 : _a.name)) {\n    logger2.info(\"given object is undefined, not a plain object...\");\n    return false;\n  }\n  logger2.info(\"checking the object constructor:\", obj.constructor.name);\n  return obj.constructor.name === \"Object\";\n}\nfunction cloneObject(obj) {\n  logger2.info(\"cloning object:\", obj);\n  const enumerableProperties = Object.entries(obj).reduce(\n    (acc, [key, value]) => {\n      logger2.info(\"analyzing key-value pair:\", key, value);\n      acc[key] = isPlainObject(value) ? cloneObject(value) : value;\n      return acc;\n    },\n    {}\n  );\n  return isPlainObject(obj) ? enumerableProperties : Object.assign(Object.getPrototypeOf(obj), enumerableProperties);\n}\n\n// src/utils/isObject.ts\nfunction isObject(value, loose = false) {\n  return loose ? Object.prototype.toString.call(value).startsWith(\"[object \") : Object.prototype.toString.call(value) === \"[object Object]\";\n}\n\n// src/interceptors/ClientRequest/utils/normalizeClientRequestArgs.ts\nvar logger3 = new _open_draft_logger__WEBPACK_IMPORTED_MODULE_9__.Logger(\"http normalizeClientRequestArgs\");\nfunction resolveRequestOptions(args, url) {\n  if (typeof args[1] === \"undefined\" || typeof args[1] === \"function\") {\n    logger3.info(\"request options not provided, deriving from the url\", url);\n    return (0,url__WEBPACK_IMPORTED_MODULE_8__.urlToHttpOptions)(url);\n  }\n  if (args[1]) {\n    logger3.info(\"has custom RequestOptions!\", args[1]);\n    const requestOptionsFromUrl = (0,url__WEBPACK_IMPORTED_MODULE_8__.urlToHttpOptions)(url);\n    logger3.info(\"derived RequestOptions from the URL:\", requestOptionsFromUrl);\n    logger3.info(\"cloning RequestOptions...\");\n    const clonedRequestOptions = cloneObject(args[1]);\n    logger3.info(\"successfully cloned RequestOptions!\", clonedRequestOptions);\n    return {\n      ...requestOptionsFromUrl,\n      ...clonedRequestOptions\n    };\n  }\n  logger3.info(\"using an empty object as request options\");\n  return {};\n}\nfunction overrideUrlByRequestOptions(url, options) {\n  url.host = options.host || url.host;\n  url.hostname = options.hostname || url.hostname;\n  url.port = options.port ? options.port.toString() : url.port;\n  if (options.path) {\n    const parsedOptionsPath = (0,url__WEBPACK_IMPORTED_MODULE_8__.parse)(options.path, false);\n    url.pathname = parsedOptionsPath.pathname || \"\";\n    url.search = parsedOptionsPath.search || \"\";\n  }\n  return url;\n}\nfunction resolveCallback(args) {\n  return typeof args[1] === \"function\" ? args[1] : args[2];\n}\nfunction normalizeClientRequestArgs(defaultProtocol, args) {\n  let url;\n  let options;\n  let callback;\n  logger3.info(\"arguments\", args);\n  logger3.info(\"using default protocol:\", defaultProtocol);\n  if (args.length === 0) {\n    const url2 = new url__WEBPACK_IMPORTED_MODULE_8__.URL(\"http://localhost\");\n    const options2 = resolveRequestOptions(args, url2);\n    return [url2, options2];\n  }\n  if (typeof args[0] === \"string\") {\n    logger3.info(\"first argument is a location string:\", args[0]);\n    url = new url__WEBPACK_IMPORTED_MODULE_8__.URL(args[0]);\n    logger3.info(\"created a url:\", url);\n    const requestOptionsFromUrl = (0,url__WEBPACK_IMPORTED_MODULE_8__.urlToHttpOptions)(url);\n    logger3.info(\"request options from url:\", requestOptionsFromUrl);\n    options = resolveRequestOptions(args, url);\n    logger3.info(\"resolved request options:\", options);\n    callback = resolveCallback(args);\n  } else if (args[0] instanceof url__WEBPACK_IMPORTED_MODULE_8__.URL) {\n    url = args[0];\n    logger3.info(\"first argument is a URL:\", url);\n    if (typeof args[1] !== \"undefined\" && isObject(args[1])) {\n      url = overrideUrlByRequestOptions(url, args[1]);\n    }\n    options = resolveRequestOptions(args, url);\n    logger3.info(\"derived request options:\", options);\n    callback = resolveCallback(args);\n  } else if (\"hash\" in args[0] && !(\"method\" in args[0])) {\n    const [legacyUrl] = args;\n    logger3.info(\"first argument is a legacy URL:\", legacyUrl);\n    if (legacyUrl.hostname === null) {\n      logger3.info(\"given legacy URL is relative (no hostname)\");\n      return isObject(args[1]) ? normalizeClientRequestArgs(defaultProtocol, [\n        { path: legacyUrl.path, ...args[1] },\n        args[2]\n      ]) : normalizeClientRequestArgs(defaultProtocol, [\n        { path: legacyUrl.path },\n        args[1]\n      ]);\n    }\n    logger3.info(\"given legacy url is absolute\");\n    const resolvedUrl = new url__WEBPACK_IMPORTED_MODULE_8__.URL(legacyUrl.href);\n    return args[1] === void 0 ? normalizeClientRequestArgs(defaultProtocol, [resolvedUrl]) : typeof args[1] === \"function\" ? normalizeClientRequestArgs(defaultProtocol, [resolvedUrl, args[1]]) : normalizeClientRequestArgs(defaultProtocol, [\n      resolvedUrl,\n      args[1],\n      args[2]\n    ]);\n  } else if (isObject(args[0])) {\n    options = { ...args[0] };\n    logger3.info(\"first argument is RequestOptions:\", options);\n    options.protocol = options.protocol || defaultProtocol;\n    logger3.info(\"normalized request options:\", options);\n    url = getUrlByRequestOptions(options);\n    logger3.info(\"created a URL from RequestOptions:\", url.href);\n    callback = resolveCallback(args);\n  } else {\n    throw new Error(\n      `Failed to construct ClientRequest with these parameters: ${args}`\n    );\n  }\n  options.protocol = options.protocol || url.protocol;\n  options.method = options.method || \"GET\";\n  if (typeof options.agent === \"undefined\") {\n    const agent = options.protocol === \"https:\" ? new https__WEBPACK_IMPORTED_MODULE_3__.Agent({\n      // Any other value other than false is considered as true, so we don't add this property if undefined.\n      ...\"rejectUnauthorized\" in options && {\n        rejectUnauthorized: options.rejectUnauthorized\n      }\n    }) : new http__WEBPACK_IMPORTED_MODULE_2__.Agent();\n    options.agent = agent;\n    logger3.info(\"resolved fallback agent:\", agent);\n  }\n  if (!options._defaultAgent) {\n    logger3.info(\n      'has no default agent, setting the default agent for \"%s\"',\n      options.protocol\n    );\n    options._defaultAgent = options.protocol === \"https:\" ? https__WEBPACK_IMPORTED_MODULE_3__.globalAgent : http__WEBPACK_IMPORTED_MODULE_2__.globalAgent;\n  }\n  logger3.info(\"successfully resolved url:\", url.href);\n  logger3.info(\"successfully resolved options:\", options);\n  logger3.info(\"successfully resolved callback:\", callback);\n  if (!(url instanceof url__WEBPACK_IMPORTED_MODULE_8__.URL)) {\n    url = url.toString();\n  }\n  return [url, options, callback];\n}\n\n// src/interceptors/ClientRequest/index.ts\nvar _ClientRequestInterceptor = class extends _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_1__.Interceptor {\n  constructor() {\n    super(_ClientRequestInterceptor.symbol);\n    this.onRequest = async ({\n      request,\n      socket\n    }) => {\n      const requestId = Reflect.get(request, kRequestId);\n      const controller = new _chunk_5KMS5CTP_mjs__WEBPACK_IMPORTED_MODULE_0__.RequestController(request);\n      const isRequestHandled = await (0,_chunk_5KMS5CTP_mjs__WEBPACK_IMPORTED_MODULE_0__.handleRequest)({\n        request,\n        requestId,\n        controller,\n        emitter: this.emitter,\n        onResponse: (response) => {\n          socket.respondWith(response);\n        },\n        onRequestError: (response) => {\n          socket.respondWith(response);\n        },\n        onError: (error) => {\n          if (error instanceof Error) {\n            socket.errorWith(error);\n          }\n        }\n      });\n      if (!isRequestHandled) {\n        return socket.passthrough();\n      }\n    };\n    this.onResponse = async ({\n      requestId,\n      request,\n      response,\n      isMockedResponse\n    }) => {\n      return (0,_chunk_5KMS5CTP_mjs__WEBPACK_IMPORTED_MODULE_0__.emitAsync)(this.emitter, \"response\", {\n        requestId,\n        request,\n        response,\n        isMockedResponse\n      });\n    };\n  }\n  setup() {\n    const { get: originalGet, request: originalRequest } = http__WEBPACK_IMPORTED_MODULE_2__;\n    const { get: originalHttpsGet, request: originalHttpsRequest } = https__WEBPACK_IMPORTED_MODULE_3__;\n    const onRequest = this.onRequest.bind(this);\n    const onResponse = this.onResponse.bind(this);\n    http__WEBPACK_IMPORTED_MODULE_2__.request = new Proxy(http__WEBPACK_IMPORTED_MODULE_2__.request, {\n      apply: (target, thisArg, args) => {\n        const [url, options, callback] = normalizeClientRequestArgs(\n          \"http:\",\n          args\n        );\n        const mockAgent = new MockAgent({\n          customAgent: options.agent,\n          onRequest,\n          onResponse\n        });\n        options.agent = mockAgent;\n        return Reflect.apply(target, thisArg, [url, options, callback]);\n      }\n    });\n    http__WEBPACK_IMPORTED_MODULE_2__.get = new Proxy(http__WEBPACK_IMPORTED_MODULE_2__.get, {\n      apply: (target, thisArg, args) => {\n        const [url, options, callback] = normalizeClientRequestArgs(\n          \"http:\",\n          args\n        );\n        const mockAgent = new MockAgent({\n          customAgent: options.agent,\n          onRequest,\n          onResponse\n        });\n        options.agent = mockAgent;\n        return Reflect.apply(target, thisArg, [url, options, callback]);\n      }\n    });\n    https__WEBPACK_IMPORTED_MODULE_3__.request = new Proxy(https__WEBPACK_IMPORTED_MODULE_3__.request, {\n      apply: (target, thisArg, args) => {\n        const [url, options, callback] = normalizeClientRequestArgs(\n          \"https:\",\n          args\n        );\n        const mockAgent = new MockHttpsAgent({\n          customAgent: options.agent,\n          onRequest,\n          onResponse\n        });\n        options.agent = mockAgent;\n        return Reflect.apply(target, thisArg, [url, options, callback]);\n      }\n    });\n    https__WEBPACK_IMPORTED_MODULE_3__.get = new Proxy(https__WEBPACK_IMPORTED_MODULE_3__.get, {\n      apply: (target, thisArg, args) => {\n        const [url, options, callback] = normalizeClientRequestArgs(\n          \"https:\",\n          args\n        );\n        const mockAgent = new MockHttpsAgent({\n          customAgent: options.agent,\n          onRequest,\n          onResponse\n        });\n        options.agent = mockAgent;\n        return Reflect.apply(target, thisArg, [url, options, callback]);\n      }\n    });\n    recordRawFetchHeaders();\n    this.subscriptions.push(() => {\n      http__WEBPACK_IMPORTED_MODULE_2__.get = originalGet;\n      http__WEBPACK_IMPORTED_MODULE_2__.request = originalRequest;\n      https__WEBPACK_IMPORTED_MODULE_3__.get = originalHttpsGet;\n      https__WEBPACK_IMPORTED_MODULE_3__.request = originalHttpsRequest;\n      restoreHeadersPrototype();\n    });\n  }\n};\nvar ClientRequestInterceptor = _ClientRequestInterceptor;\nClientRequestInterceptor.symbol = Symbol(\"client-request-interceptor\");\n\n\n//# sourceMappingURL=chunk-FWJSC2QD.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvbm9kZS9jaHVuay1GV0pTQzJRRC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFNOEI7QUFNQTs7QUFFOUI7QUFDeUI7QUFDRTs7QUFFM0I7QUFDdUI7QUFHRDtBQUMrQztBQUNuQztBQUNLOztBQUV2QztBQUNzQjs7QUFFdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtCQUErQix1Q0FBVTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLFNBQVMsSUFBSSxLQUFLO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLFlBQVk7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsU0FBUyxLQUFLLFNBQVM7QUFDbEU7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLFVBQVUsMkNBQTJDO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELFlBQVk7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw4REFBYTtBQUNuQztBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsYUFBYSxHQUFHLGFBQWE7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyw0Q0FBUTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0Esd0JBQXdCLG9FQUFlO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw0Q0FBUTtBQUNwQyxPQUFPO0FBQ1A7QUFDQSxtQ0FBbUMsZ0ZBQStCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxzQkFBc0IsOERBQWE7QUFDbkMsMkJBQTJCLDhEQUFhO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw4REFBYSw4QkFBOEIsNENBQVE7QUFDM0Qsb0NBQW9DLDRDQUFRLEdBQUc7QUFDL0MsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHFEQUFTO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGdGQUErQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixvREFBVTtBQUN2QyxrQ0FBa0Msb0RBQVUsWUFBWTtBQUN4RCx1QkFBdUIsb0RBQVU7QUFDakMsdUJBQXVCLG9EQUFVO0FBQ2pDLHVCQUF1QixvREFBVTtBQUNqQyw4QkFBOEIsb0RBQVU7QUFDeEMsbUNBQW1DLG9EQUFVLGFBQWE7QUFDMUQsd0JBQXdCLG9EQUFVO0FBQ2xDLHdCQUF3QixvREFBVTtBQUNsQyx3QkFBd0Isb0RBQVU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxnRkFBK0I7QUFDekUsV0FBVyw0QkFBNEIsS0FBSyxJQUFJLE1BQU07QUFDdEQsa0NBQWtDLDBCQUEwQixFQUFFLHFCQUFxQixFQUFFLHlCQUF5QjtBQUM5RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEseUVBQW9CO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixnREFBYyxLQUFLLGlEQUFlO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsOENBQVk7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsY0FBYztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IseUJBQXlCLDhFQUF5QjtBQUNsRDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHVDQUFXO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxxREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHFEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUN3QjtBQUNFO0FBQzFCLDhCQUE4Qix1Q0FBVTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCx1Q0FBVTtBQUNuRSxnRUFBZ0UsdUNBQVU7QUFDMUU7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHdDQUFXO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELHdDQUFXO0FBQ3BFLGdFQUFnRSx3Q0FBVztBQUMzRTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDdUM7QUFJekI7QUFJQztBQUlGO0FBQzBDOztBQUV2RDtBQUM2QjtBQUNlO0FBQzVDLGlCQUFpQixzREFBTTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHVDQUFLO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixLQUFLO0FBQ3RCO0FBQ0EsNkJBQTZCLEtBQUs7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxxQkFBcUIsR0FBRyxxQkFBcUI7QUFDbkY7QUFDQSx1REFBdUQsS0FBSztBQUM1RCx5QkFBeUIsU0FBUyxJQUFJLFNBQVMsRUFBRSxXQUFXLEVBQUUsS0FBSztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3VEO0FBQ3ZELGtCQUFrQixzREFBTztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLHNEQUFPO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLFdBQVcscURBQWdCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxxREFBZ0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwwQ0FBUTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsb0NBQUk7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsb0NBQUk7QUFDbEI7QUFDQSxrQ0FBa0MscURBQWdCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSw0QkFBNEIsb0NBQUk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxrQ0FBa0M7QUFDNUM7QUFDQTtBQUNBLFVBQVUsc0JBQXNCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG9DQUFJO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLGtFQUFrRSxLQUFLO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Qsd0NBQVU7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFFBQVEsdUNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCw4Q0FBZ0IsR0FBRyw2Q0FBZTtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixvQ0FBSTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhDQUE4Qyw0REFBVztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNkJBQTZCLGtFQUFpQjtBQUM5QyxxQ0FBcUMsa0VBQWE7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYSw4REFBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZDQUE2QyxFQUFFLGlDQUFLO0FBQ2hFLFlBQVksdURBQXVELEVBQUUsa0NBQU07QUFDM0U7QUFDQTtBQUNBLElBQUkseUNBQWEsYUFBYSx5Q0FBYTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUkscUNBQVMsYUFBYSxxQ0FBUztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksMENBQWMsYUFBYSwwQ0FBYztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksc0NBQVUsYUFBYSxzQ0FBVTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxNQUFNLHFDQUFTO0FBQ2YsTUFBTSx5Q0FBYTtBQUNuQixNQUFNLHNDQUFVO0FBQ2hCLE1BQU0sMENBQWM7QUFDcEI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvcmlrdXNlbi93b3Jrc3BhY2UvbmV4dGpzLW1zdy1yZXByb2R1Y3Rpb24vbm9kZV9tb2R1bGVzL0Btc3dqcy9pbnRlcmNlcHRvcnMvbGliL25vZGUvY2h1bmstRldKU0MyUUQubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIFJlcXVlc3RDb250cm9sbGVyLFxuICBjcmVhdGVTZXJ2ZXJFcnJvclJlc3BvbnNlLFxuICBlbWl0QXN5bmMsXG4gIGhhbmRsZVJlcXVlc3QsXG4gIGlzUHJvcGVydHlBY2Nlc3NpYmxlXG59IGZyb20gXCIuL2NodW5rLTVLTVM1Q1RQLm1qc1wiO1xuaW1wb3J0IHtcbiAgRmV0Y2hSZXNwb25zZSxcbiAgSU5URVJOQUxfUkVRVUVTVF9JRF9IRUFERVJfTkFNRSxcbiAgSW50ZXJjZXB0b3IsXG4gIGNyZWF0ZVJlcXVlc3RJZFxufSBmcm9tIFwiLi9jaHVuay1JN0hRSUJUNy5tanNcIjtcblxuLy8gc3JjL2ludGVyY2VwdG9ycy9DbGllbnRSZXF1ZXN0L2luZGV4LnRzXG5pbXBvcnQgaHR0cDIgZnJvbSBcImh0dHBcIjtcbmltcG9ydCBodHRwczIgZnJvbSBcImh0dHBzXCI7XG5cbi8vIHNyYy9pbnRlcmNlcHRvcnMvQ2xpZW50UmVxdWVzdC9Nb2NrSHR0cFNvY2tldC50c1xuaW1wb3J0IG5ldDIgZnJvbSBcIm5ldFwiO1xuaW1wb3J0IHtcbiAgSFRUUFBhcnNlclxufSBmcm9tIFwiX2h0dHBfY29tbW9uXCI7XG5pbXBvcnQgeyBTVEFUVVNfQ09ERVMsIEluY29taW5nTWVzc2FnZSwgU2VydmVyUmVzcG9uc2UgfSBmcm9tIFwiaHR0cFwiO1xuaW1wb3J0IHsgUmVhZGFibGUgfSBmcm9tIFwic3RyZWFtXCI7XG5pbXBvcnQgeyBpbnZhcmlhbnQgfSBmcm9tIFwib3V0dmFyaWFudFwiO1xuXG4vLyBzcmMvaW50ZXJjZXB0b3JzL1NvY2tldC9Nb2NrU29ja2V0LnRzXG5pbXBvcnQgbmV0IGZyb20gXCJuZXRcIjtcblxuLy8gc3JjL2ludGVyY2VwdG9ycy9Tb2NrZXQvdXRpbHMvbm9ybWFsaXplU29ja2V0V3JpdGVBcmdzLnRzXG5mdW5jdGlvbiBub3JtYWxpemVTb2NrZXRXcml0ZUFyZ3MoYXJncykge1xuICBjb25zdCBub3JtYWxpemVkID0gW2FyZ3NbMF0sIHZvaWQgMCwgdm9pZCAwXTtcbiAgaWYgKHR5cGVvZiBhcmdzWzFdID09PSBcInN0cmluZ1wiKSB7XG4gICAgbm9ybWFsaXplZFsxXSA9IGFyZ3NbMV07XG4gIH0gZWxzZSBpZiAodHlwZW9mIGFyZ3NbMV0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgIG5vcm1hbGl6ZWRbMl0gPSBhcmdzWzFdO1xuICB9XG4gIGlmICh0eXBlb2YgYXJnc1syXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgbm9ybWFsaXplZFsyXSA9IGFyZ3NbMl07XG4gIH1cbiAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG59XG5cbi8vIHNyYy9pbnRlcmNlcHRvcnMvU29ja2V0L01vY2tTb2NrZXQudHNcbnZhciBNb2NrU29ja2V0ID0gY2xhc3MgZXh0ZW5kcyBuZXQuU29ja2V0IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLmNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmNvbm5lY3QoKTtcbiAgICB0aGlzLl9maW5hbCA9IChjYWxsYmFjaykgPT4ge1xuICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgfTtcbiAgfVxuICBjb25uZWN0KCkge1xuICAgIHRoaXMuY29ubmVjdGluZyA9IHRydWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgd3JpdGUoLi4uYXJncykge1xuICAgIGNvbnN0IFtjaHVuaywgZW5jb2RpbmcsIGNhbGxiYWNrXSA9IG5vcm1hbGl6ZVNvY2tldFdyaXRlQXJncyhcbiAgICAgIGFyZ3NcbiAgICApO1xuICAgIHRoaXMub3B0aW9ucy53cml0ZShjaHVuaywgZW5jb2RpbmcsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBlbmQoLi4uYXJncykge1xuICAgIGNvbnN0IFtjaHVuaywgZW5jb2RpbmcsIGNhbGxiYWNrXSA9IG5vcm1hbGl6ZVNvY2tldFdyaXRlQXJncyhcbiAgICAgIGFyZ3NcbiAgICApO1xuICAgIHRoaXMub3B0aW9ucy53cml0ZShjaHVuaywgZW5jb2RpbmcsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gc3VwZXIuZW5kLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9XG4gIHB1c2goY2h1bmssIGVuY29kaW5nKSB7XG4gICAgdGhpcy5vcHRpb25zLnJlYWQoY2h1bmssIGVuY29kaW5nKTtcbiAgICByZXR1cm4gc3VwZXIucHVzaChjaHVuaywgZW5jb2RpbmcpO1xuICB9XG59O1xuXG4vLyBzcmMvaW50ZXJjZXB0b3JzL1NvY2tldC91dGlscy9iYXNlVXJsRnJvbUNvbm5lY3Rpb25PcHRpb25zLnRzXG5mdW5jdGlvbiBiYXNlVXJsRnJvbUNvbm5lY3Rpb25PcHRpb25zKG9wdGlvbnMpIHtcbiAgaWYgKFwiaHJlZlwiIGluIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFVSTChvcHRpb25zLmhyZWYpO1xuICB9XG4gIGNvbnN0IHByb3RvY29sID0gb3B0aW9ucy5wb3J0ID09PSA0NDMgPyBcImh0dHBzOlwiIDogXCJodHRwOlwiO1xuICBjb25zdCBob3N0ID0gb3B0aW9ucy5ob3N0O1xuICBjb25zdCB1cmwgPSBuZXcgVVJMKGAke3Byb3RvY29sfS8vJHtob3N0fWApO1xuICBpZiAob3B0aW9ucy5wb3J0KSB7XG4gICAgdXJsLnBvcnQgPSBvcHRpb25zLnBvcnQudG9TdHJpbmcoKTtcbiAgfVxuICBpZiAob3B0aW9ucy5wYXRoKSB7XG4gICAgdXJsLnBhdGhuYW1lID0gb3B0aW9ucy5wYXRoO1xuICB9XG4gIGlmIChvcHRpb25zLmF1dGgpIHtcbiAgICBjb25zdCBbdXNlcm5hbWUsIHBhc3N3b3JkXSA9IG9wdGlvbnMuYXV0aC5zcGxpdChcIjpcIik7XG4gICAgdXJsLnVzZXJuYW1lID0gdXNlcm5hbWU7XG4gICAgdXJsLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gIH1cbiAgcmV0dXJuIHVybDtcbn1cblxuLy8gc3JjL2ludGVyY2VwdG9ycy9DbGllbnRSZXF1ZXN0L3V0aWxzL3JlY29yZFJhd0hlYWRlcnMudHNcbnZhciBrUmF3SGVhZGVycyA9IFN5bWJvbChcImtSYXdIZWFkZXJzXCIpO1xudmFyIGtSZXN0b3JlUGF0Y2hlcyA9IFN5bWJvbChcImtSZXN0b3JlUGF0Y2hlc1wiKTtcbmZ1bmN0aW9uIHJlY29yZFJhd0hlYWRlcihoZWFkZXJzLCBhcmdzLCBiZWhhdmlvcikge1xuICBlbnN1cmVSYXdIZWFkZXJzU3ltYm9sKGhlYWRlcnMsIFtdKTtcbiAgY29uc3QgcmF3SGVhZGVycyA9IFJlZmxlY3QuZ2V0KGhlYWRlcnMsIGtSYXdIZWFkZXJzKTtcbiAgaWYgKGJlaGF2aW9yID09PSBcInNldFwiKSB7XG4gICAgZm9yIChsZXQgaW5kZXggPSByYXdIZWFkZXJzLmxlbmd0aCAtIDE7IGluZGV4ID49IDA7IGluZGV4LS0pIHtcbiAgICAgIGlmIChyYXdIZWFkZXJzW2luZGV4XVswXS50b0xvd2VyQ2FzZSgpID09PSBhcmdzWzBdLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgcmF3SGVhZGVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByYXdIZWFkZXJzLnB1c2goYXJncyk7XG59XG5mdW5jdGlvbiBlbnN1cmVSYXdIZWFkZXJzU3ltYm9sKGhlYWRlcnMsIHJhd0hlYWRlcnMpIHtcbiAgaWYgKFJlZmxlY3QuaGFzKGhlYWRlcnMsIGtSYXdIZWFkZXJzKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBkZWZpbmVSYXdIZWFkZXJzU3ltYm9sKGhlYWRlcnMsIHJhd0hlYWRlcnMpO1xufVxuZnVuY3Rpb24gZGVmaW5lUmF3SGVhZGVyc1N5bWJvbChoZWFkZXJzLCByYXdIZWFkZXJzKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoZWFkZXJzLCBrUmF3SGVhZGVycywge1xuICAgIHZhbHVlOiByYXdIZWFkZXJzLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIC8vIE1hcmsgdGhlIHN5bWJvbCBhcyBjb25maWd1cmFibGUgc28gaXRzIHZhbHVlIGNhbiBiZSBvdmVycmlkZGVuLlxuICAgIC8vIE92ZXJyaWRlcyBoYXBwZW4gd2hlbiBtZXJnaW5nIHJhdyBoZWFkZXJzIGZyb20gbXVsdGlwbGUgc291cmNlcy5cbiAgICAvLyBFLmcuIG5ldyBSZXF1ZXN0KG5ldyBSZXF1ZXN0KHVybCwgeyBoZWFkZXJzIH0pLCB7IGhlYWRlcnMgfSlcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG59XG5mdW5jdGlvbiByZWNvcmRSYXdGZXRjaEhlYWRlcnMoKSB7XG4gIGlmIChSZWZsZWN0LmdldChIZWFkZXJzLCBrUmVzdG9yZVBhdGNoZXMpKSB7XG4gICAgcmV0dXJuIFJlZmxlY3QuZ2V0KEhlYWRlcnMsIGtSZXN0b3JlUGF0Y2hlcyk7XG4gIH1cbiAgY29uc3Qge1xuICAgIEhlYWRlcnM6IE9yaWdpbmFsSGVhZGVycyxcbiAgICBSZXF1ZXN0OiBPcmlnaW5hbFJlcXVlc3QsXG4gICAgUmVzcG9uc2U6IE9yaWdpbmFsUmVzcG9uc2VcbiAgfSA9IGdsb2JhbFRoaXM7XG4gIGNvbnN0IHsgc2V0LCBhcHBlbmQsIGRlbGV0ZTogaGVhZGVyc0RlbGV0ZU1ldGhvZCB9ID0gSGVhZGVycy5wcm90b3R5cGU7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIZWFkZXJzLCBrUmVzdG9yZVBhdGNoZXMsIHtcbiAgICB2YWx1ZTogKCkgPT4ge1xuICAgICAgSGVhZGVycy5wcm90b3R5cGUuc2V0ID0gc2V0O1xuICAgICAgSGVhZGVycy5wcm90b3R5cGUuYXBwZW5kID0gYXBwZW5kO1xuICAgICAgSGVhZGVycy5wcm90b3R5cGUuZGVsZXRlID0gaGVhZGVyc0RlbGV0ZU1ldGhvZDtcbiAgICAgIGdsb2JhbFRoaXMuSGVhZGVycyA9IE9yaWdpbmFsSGVhZGVycztcbiAgICAgIGdsb2JhbFRoaXMuUmVxdWVzdCA9IE9yaWdpbmFsUmVxdWVzdDtcbiAgICAgIGdsb2JhbFRoaXMuUmVzcG9uc2UgPSBPcmlnaW5hbFJlc3BvbnNlO1xuICAgICAgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShIZWFkZXJzLCBrUmVzdG9yZVBhdGNoZXMpO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgLyoqXG4gICAgICogQG5vdGUgTWFyayB0aGlzIHByb3BlcnR5IGFzIGNvbmZpZ3VyYWJsZVxuICAgICAqIHNvIHdlIGNhbiBkZWxldGUgaXQgdXNpbmcgYFJlZmxlY3QuZGVsZXRlYCBkdXJpbmcgY2xlYW51cC5cbiAgICAgKi9cbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShnbG9iYWxUaGlzLCBcIkhlYWRlcnNcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgd3JpdGFibGU6IHRydWUsXG4gICAgdmFsdWU6IG5ldyBQcm94eShIZWFkZXJzLCB7XG4gICAgICBjb25zdHJ1Y3QodGFyZ2V0LCBhcmdzLCBuZXdUYXJnZXQpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyc0luaXQgPSBhcmdzWzBdIHx8IFtdO1xuICAgICAgICBpZiAoaGVhZGVyc0luaXQgaW5zdGFuY2VvZiBIZWFkZXJzICYmIFJlZmxlY3QuaGFzKGhlYWRlcnNJbml0LCBrUmF3SGVhZGVycykpIHtcbiAgICAgICAgICBjb25zdCBoZWFkZXJzMiA9IFJlZmxlY3QuY29uc3RydWN0KFxuICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgW1JlZmxlY3QuZ2V0KGhlYWRlcnNJbml0LCBrUmF3SGVhZGVycyldLFxuICAgICAgICAgICAgbmV3VGFyZ2V0XG4gICAgICAgICAgKTtcbiAgICAgICAgICBlbnN1cmVSYXdIZWFkZXJzU3ltYm9sKGhlYWRlcnMyLCBbXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBub3RlIFNwcmVhZCB0aGUgcmV0cmlldmVkIGhlYWRlcnMgdG8gY2xvbmUgdGhlbS5cbiAgICAgICAgICAgICAqIFRoaXMgcHJldmVudHMgbXVsdGlwbGUgSGVhZGVycyBpbnN0YW5jZXMgZnJvbSBwb2ludGluZ1xuICAgICAgICAgICAgICogYXQgdGhlIHNhbWUgaW50ZXJuYWwgXCJyYXdIZWFkZXJzXCIgYXJyYXkuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC4uLlJlZmxlY3QuZ2V0KGhlYWRlcnNJbml0LCBrUmF3SGVhZGVycylcbiAgICAgICAgICBdKTtcbiAgICAgICAgICByZXR1cm4gaGVhZGVyczI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGVhZGVycyA9IFJlZmxlY3QuY29uc3RydWN0KHRhcmdldCwgYXJncywgbmV3VGFyZ2V0KTtcbiAgICAgICAgaWYgKCFSZWZsZWN0LmhhcyhoZWFkZXJzLCBrUmF3SGVhZGVycykpIHtcbiAgICAgICAgICBjb25zdCByYXdIZWFkZXJzSW5pdCA9IEFycmF5LmlzQXJyYXkoaGVhZGVyc0luaXQpID8gaGVhZGVyc0luaXQgOiBPYmplY3QuZW50cmllcyhoZWFkZXJzSW5pdCk7XG4gICAgICAgICAgZW5zdXJlUmF3SGVhZGVyc1N5bWJvbChoZWFkZXJzLCByYXdIZWFkZXJzSW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlYWRlcnM7XG4gICAgICB9XG4gICAgfSlcbiAgfSk7XG4gIEhlYWRlcnMucHJvdG90eXBlLnNldCA9IG5ldyBQcm94eShIZWFkZXJzLnByb3RvdHlwZS5zZXQsIHtcbiAgICBhcHBseSh0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgICAgIHJlY29yZFJhd0hlYWRlcih0aGlzQXJnLCBhcmdzLCBcInNldFwiKTtcbiAgICAgIHJldHVybiBSZWZsZWN0LmFwcGx5KHRhcmdldCwgdGhpc0FyZywgYXJncyk7XG4gICAgfVxuICB9KTtcbiAgSGVhZGVycy5wcm90b3R5cGUuYXBwZW5kID0gbmV3IFByb3h5KEhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCwge1xuICAgIGFwcGx5KHRhcmdldCwgdGhpc0FyZywgYXJncykge1xuICAgICAgcmVjb3JkUmF3SGVhZGVyKHRoaXNBcmcsIGFyZ3MsIFwiYXBwZW5kXCIpO1xuICAgICAgcmV0dXJuIFJlZmxlY3QuYXBwbHkodGFyZ2V0LCB0aGlzQXJnLCBhcmdzKTtcbiAgICB9XG4gIH0pO1xuICBIZWFkZXJzLnByb3RvdHlwZS5kZWxldGUgPSBuZXcgUHJveHkoSGVhZGVycy5wcm90b3R5cGUuZGVsZXRlLCB7XG4gICAgYXBwbHkodGFyZ2V0LCB0aGlzQXJnLCBhcmdzKSB7XG4gICAgICBjb25zdCByYXdIZWFkZXJzID0gUmVmbGVjdC5nZXQodGhpc0FyZywga1Jhd0hlYWRlcnMpO1xuICAgICAgaWYgKHJhd0hlYWRlcnMpIHtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSByYXdIZWFkZXJzLmxlbmd0aCAtIDE7IGluZGV4ID49IDA7IGluZGV4LS0pIHtcbiAgICAgICAgICBpZiAocmF3SGVhZGVyc1tpbmRleF1bMF0udG9Mb3dlckNhc2UoKSA9PT0gYXJnc1swXS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICByYXdIZWFkZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gUmVmbGVjdC5hcHBseSh0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpO1xuICAgIH1cbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShnbG9iYWxUaGlzLCBcIlJlcXVlc3RcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgd3JpdGFibGU6IHRydWUsXG4gICAgdmFsdWU6IG5ldyBQcm94eShSZXF1ZXN0LCB7XG4gICAgICBjb25zdHJ1Y3QodGFyZ2V0LCBhcmdzLCBuZXdUYXJnZXQpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IFJlZmxlY3QuY29uc3RydWN0KHRhcmdldCwgYXJncywgbmV3VGFyZ2V0KTtcbiAgICAgICAgY29uc3QgaW5mZXJyZWRSYXdIZWFkZXJzID0gW107XG4gICAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gXCJvYmplY3RcIiAmJiBhcmdzWzBdLmhlYWRlcnMgIT0gbnVsbCkge1xuICAgICAgICAgIGluZmVycmVkUmF3SGVhZGVycy5wdXNoKC4uLmluZmVyUmF3SGVhZGVycyhhcmdzWzBdLmhlYWRlcnMpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGFyZ3NbMV0gPT09IFwib2JqZWN0XCIgJiYgYXJnc1sxXS5oZWFkZXJzICE9IG51bGwpIHtcbiAgICAgICAgICBpbmZlcnJlZFJhd0hlYWRlcnMucHVzaCguLi5pbmZlclJhd0hlYWRlcnMoYXJnc1sxXS5oZWFkZXJzKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZmVycmVkUmF3SGVhZGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZW5zdXJlUmF3SGVhZGVyc1N5bWJvbChyZXF1ZXN0LmhlYWRlcnMsIGluZmVycmVkUmF3SGVhZGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgICB9XG4gICAgfSlcbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShnbG9iYWxUaGlzLCBcIlJlc3BvbnNlXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgIHZhbHVlOiBuZXcgUHJveHkoUmVzcG9uc2UsIHtcbiAgICAgIGNvbnN0cnVjdCh0YXJnZXQsIGFyZ3MsIG5ld1RhcmdldCkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IFJlZmxlY3QuY29uc3RydWN0KHRhcmdldCwgYXJncywgbmV3VGFyZ2V0KTtcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzWzFdID09PSBcIm9iamVjdFwiICYmIGFyZ3NbMV0uaGVhZGVycyAhPSBudWxsKSB7XG4gICAgICAgICAgZW5zdXJlUmF3SGVhZGVyc1N5bWJvbChcbiAgICAgICAgICAgIHJlc3BvbnNlLmhlYWRlcnMsXG4gICAgICAgICAgICBpbmZlclJhd0hlYWRlcnMoYXJnc1sxXS5oZWFkZXJzKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgfVxuICAgIH0pXG4gIH0pO1xufVxuZnVuY3Rpb24gcmVzdG9yZUhlYWRlcnNQcm90b3R5cGUoKSB7XG4gIGlmICghUmVmbGVjdC5nZXQoSGVhZGVycywga1Jlc3RvcmVQYXRjaGVzKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBSZWZsZWN0LmdldChIZWFkZXJzLCBrUmVzdG9yZVBhdGNoZXMpKCk7XG59XG5mdW5jdGlvbiBnZXRSYXdGZXRjaEhlYWRlcnMoaGVhZGVycykge1xuICBpZiAoIVJlZmxlY3QuaGFzKGhlYWRlcnMsIGtSYXdIZWFkZXJzKSkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKGhlYWRlcnMuZW50cmllcygpKTtcbiAgfVxuICBjb25zdCByYXdIZWFkZXJzID0gUmVmbGVjdC5nZXQoaGVhZGVycywga1Jhd0hlYWRlcnMpO1xuICByZXR1cm4gcmF3SGVhZGVycy5sZW5ndGggPiAwID8gcmF3SGVhZGVycyA6IEFycmF5LmZyb20oaGVhZGVycy5lbnRyaWVzKCkpO1xufVxuZnVuY3Rpb24gaW5mZXJSYXdIZWFkZXJzKGhlYWRlcnMpIHtcbiAgaWYgKGhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG4gICAgcmV0dXJuIFJlZmxlY3QuZ2V0KGhlYWRlcnMsIGtSYXdIZWFkZXJzKSB8fCBbXTtcbiAgfVxuICByZXR1cm4gUmVmbGVjdC5nZXQobmV3IEhlYWRlcnMoaGVhZGVycyksIGtSYXdIZWFkZXJzKTtcbn1cblxuLy8gc3JjL2ludGVyY2VwdG9ycy9DbGllbnRSZXF1ZXN0L01vY2tIdHRwU29ja2V0LnRzXG52YXIga1JlcXVlc3RJZCA9IFN5bWJvbChcImtSZXF1ZXN0SWRcIik7XG52YXIgTW9ja0h0dHBTb2NrZXQgPSBjbGFzcyBleHRlbmRzIE1vY2tTb2NrZXQge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoe1xuICAgICAgd3JpdGU6IChjaHVuaywgZW5jb2RpbmcsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMuc29ja2V0U3RhdGUgIT09IFwicGFzc3Rocm91Z2hcIikge1xuICAgICAgICAgIHRoaXMud3JpdGVCdWZmZXIucHVzaChbY2h1bmssIGVuY29kaW5nLCBjYWxsYmFja10pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaHVuaykge1xuICAgICAgICAgIGlmICh0aGlzLnNvY2tldFN0YXRlID09PSBcInBhc3N0aHJvdWdoXCIpIHtcbiAgICAgICAgICAgIChfYSA9IHRoaXMub3JpZ2luYWxTb2NrZXQpID09IG51bGwgPyB2b2lkIDAgOiBfYS53cml0ZShjaHVuaywgZW5jb2RpbmcsIGNhbGxiYWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5yZXF1ZXN0UGFyc2VyLmV4ZWN1dGUoXG4gICAgICAgICAgICBCdWZmZXIuaXNCdWZmZXIoY2h1bmspID8gY2h1bmsgOiBCdWZmZXIuZnJvbShjaHVuaywgZW5jb2RpbmcpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJlYWQ6IChjaHVuaykgPT4ge1xuICAgICAgICBpZiAoY2h1bmsgIT09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLnJlc3BvbnNlUGFyc2VyLmV4ZWN1dGUoXG4gICAgICAgICAgICBCdWZmZXIuaXNCdWZmZXIoY2h1bmspID8gY2h1bmsgOiBCdWZmZXIuZnJvbShjaHVuaylcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy53cml0ZUJ1ZmZlciA9IFtdO1xuICAgIHRoaXMuc29ja2V0U3RhdGUgPSBcInVua25vd25cIjtcbiAgICB0aGlzLm9uUmVxdWVzdFN0YXJ0ID0gKHZlcnNpb25NYWpvciwgdmVyc2lvbk1pbm9yLCByYXdIZWFkZXJzLCBfLCBwYXRoLCBfXywgX19fLCBfX19fLCBzaG91bGRLZWVwQWxpdmUpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIHRoaXMuc2hvdWxkS2VlcEFsaXZlID0gc2hvdWxkS2VlcEFsaXZlO1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChwYXRoLCB0aGlzLmJhc2VVcmwpO1xuICAgICAgY29uc3QgbWV0aG9kID0gKChfYSA9IHRoaXMuY29ubmVjdGlvbk9wdGlvbnMubWV0aG9kKSA9PSBudWxsID8gdm9pZCAwIDogX2EudG9VcHBlckNhc2UoKSkgfHwgXCJHRVRcIjtcbiAgICAgIGNvbnN0IGhlYWRlcnMgPSBGZXRjaFJlc3BvbnNlLnBhcnNlUmF3SGVhZGVycyhyYXdIZWFkZXJzKTtcbiAgICAgIGNvbnN0IGNhbkhhdmVCb2R5ID0gbWV0aG9kICE9PSBcIkdFVFwiICYmIG1ldGhvZCAhPT0gXCJIRUFEXCI7XG4gICAgICBpZiAodXJsLnVzZXJuYW1lIHx8IHVybC5wYXNzd29yZCkge1xuICAgICAgICBpZiAoIWhlYWRlcnMuaGFzKFwiYXV0aG9yaXphdGlvblwiKSkge1xuICAgICAgICAgIGhlYWRlcnMuc2V0KFwiYXV0aG9yaXphdGlvblwiLCBgQmFzaWMgJHt1cmwudXNlcm5hbWV9OiR7dXJsLnBhc3N3b3JkfWApO1xuICAgICAgICB9XG4gICAgICAgIHVybC51c2VybmFtZSA9IFwiXCI7XG4gICAgICAgIHVybC5wYXNzd29yZCA9IFwiXCI7XG4gICAgICB9XG4gICAgICBpZiAoY2FuSGF2ZUJvZHkpIHtcbiAgICAgICAgdGhpcy5yZXF1ZXN0U3RyZWFtID0gbmV3IFJlYWRhYmxlKHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbm90ZSBQcm92aWRlIHRoZSBgcmVhZCgpYCBtZXRob2Qgc28gYSBgUmVhZGFibGVgIGNvdWxkIGJlXG4gICAgICAgICAgICogdXNlZCBhcyB0aGUgYWN0dWFsIHJlcXVlc3QgYm9keSAodGhlIHN0cmVhbSBjYWxscyBcInJlYWQoKVwiKS5cbiAgICAgICAgICAgKiBXZSBjb250cm9sIHRoZSBxdWV1ZSBpbiB0aGUgb25SZXF1ZXN0Qm9keS9FbmQgZnVuY3Rpb25zLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHJlYWQ6ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZmx1c2hXcml0ZUJ1ZmZlcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXF1ZXN0SWQgPSBjcmVhdGVSZXF1ZXN0SWQoKTtcbiAgICAgIHRoaXMucmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHVybCwge1xuICAgICAgICBtZXRob2QsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIGNyZWRlbnRpYWxzOiBcInNhbWUtb3JpZ2luXCIsXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVW5kb2N1bWVudGVkIEZldGNoIHByb3BlcnR5LlxuICAgICAgICBkdXBsZXg6IGNhbkhhdmVCb2R5ID8gXCJoYWxmXCIgOiB2b2lkIDAsXG4gICAgICAgIGJvZHk6IGNhbkhhdmVCb2R5ID8gUmVhZGFibGUudG9XZWIodGhpcy5yZXF1ZXN0U3RyZWFtKSA6IG51bGxcbiAgICAgIH0pO1xuICAgICAgUmVmbGVjdC5zZXQodGhpcy5yZXF1ZXN0LCBrUmVxdWVzdElkLCByZXF1ZXN0SWQpO1xuICAgICAgaWYgKHRoaXMucmVxdWVzdC5oZWFkZXJzLmhhcyhJTlRFUk5BTF9SRVFVRVNUX0lEX0hFQURFUl9OQU1FKSkge1xuICAgICAgICB0aGlzLnBhc3N0aHJvdWdoKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMub25SZXF1ZXN0KHtcbiAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICByZXF1ZXN0OiB0aGlzLnJlcXVlc3QsXG4gICAgICAgIHNvY2tldDogdGhpc1xuICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLm9uUmVzcG9uc2VTdGFydCA9ICh2ZXJzaW9uTWFqb3IsIHZlcnNpb25NaW5vciwgcmF3SGVhZGVycywgbWV0aG9kLCB1cmwsIHN0YXR1cywgc3RhdHVzVGV4dCkgPT4ge1xuICAgICAgY29uc3QgaGVhZGVycyA9IEZldGNoUmVzcG9uc2UucGFyc2VSYXdIZWFkZXJzKHJhd0hlYWRlcnMpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBuZXcgRmV0Y2hSZXNwb25zZShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBub3RlIFRoZSBGZXRjaCBBUEkgcmVzcG9uc2UgaW5zdGFuY2UgZXhwb3NlZCB0byB0aGUgY29uc3VtZXJcbiAgICAgICAgICogaXMgY3JlYXRlZCBvdmVyIHRoZSByZXNwb25zZSBzdHJlYW0gb2YgdGhlIEhUVFAgcGFyc2VyLiBJdCBpcyBOT1RcbiAgICAgICAgICogcmVsYXRlZCB0byB0aGUgU29ja2V0IGluc3RhbmNlLiBUaGlzIHdheSwgeW91IGNhbiByZWFkIHJlc3BvbnNlIGJvZHlcbiAgICAgICAgICogaW4gcmVzcG9uc2UgbGlzdGVuZXIgd2hpbGUgdGhlIFNvY2tldCBpbnN0YW5jZSBkZWxheXMgdGhlIGVtaXNzaW9uXG4gICAgICAgICAqIG9mIFwiZW5kXCIgYW5kIG90aGVyIGV2ZW50cyB1bnRpbCB0aG9zZSByZXNwb25zZSBsaXN0ZW5lcnMgYXJlIGZpbmlzaGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgRmV0Y2hSZXNwb25zZS5pc1Jlc3BvbnNlV2l0aEJvZHkoc3RhdHVzKSA/IFJlYWRhYmxlLnRvV2ViKFxuICAgICAgICAgIHRoaXMucmVzcG9uc2VTdHJlYW0gPSBuZXcgUmVhZGFibGUoeyByZWFkKCkge1xuICAgICAgICAgIH0gfSlcbiAgICAgICAgKSA6IG51bGwsXG4gICAgICAgIHtcbiAgICAgICAgICB1cmwsXG4gICAgICAgICAgc3RhdHVzLFxuICAgICAgICAgIHN0YXR1c1RleHQsXG4gICAgICAgICAgaGVhZGVyc1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICB0aGlzLnJlcXVlc3QsXG4gICAgICAgIFwiRmFpbGVkIHRvIGhhbmRsZSBhIHJlc3BvbnNlOiByZXF1ZXN0IGRvZXMgbm90IGV4aXN0XCJcbiAgICAgICk7XG4gICAgICBpZiAodGhpcy5yZXF1ZXN0LmhlYWRlcnMuaGFzKElOVEVSTkFMX1JFUVVFU1RfSURfSEVBREVSX05BTUUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVzcG9uc2VMaXN0ZW5lcnNQcm9taXNlID0gdGhpcy5vblJlc3BvbnNlKHtcbiAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgIGlzTW9ja2VkUmVzcG9uc2U6IHRoaXMuc29ja2V0U3RhdGUgPT09IFwibW9ja1wiLFxuICAgICAgICByZXF1ZXN0SWQ6IFJlZmxlY3QuZ2V0KHRoaXMucmVxdWVzdCwga1JlcXVlc3RJZCksXG4gICAgICAgIHJlcXVlc3Q6IHRoaXMucmVxdWVzdCxcbiAgICAgICAgc29ja2V0OiB0aGlzXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMuY29ubmVjdGlvbk9wdGlvbnMgPSBvcHRpb25zLmNvbm5lY3Rpb25PcHRpb25zO1xuICAgIHRoaXMuY3JlYXRlQ29ubmVjdGlvbiA9IG9wdGlvbnMuY3JlYXRlQ29ubmVjdGlvbjtcbiAgICB0aGlzLm9uUmVxdWVzdCA9IG9wdGlvbnMub25SZXF1ZXN0O1xuICAgIHRoaXMub25SZXNwb25zZSA9IG9wdGlvbnMub25SZXNwb25zZTtcbiAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsRnJvbUNvbm5lY3Rpb25PcHRpb25zKHRoaXMuY29ubmVjdGlvbk9wdGlvbnMpO1xuICAgIHRoaXMucmVxdWVzdFBhcnNlciA9IG5ldyBIVFRQUGFyc2VyKCk7XG4gICAgdGhpcy5yZXF1ZXN0UGFyc2VyLmluaXRpYWxpemUoSFRUUFBhcnNlci5SRVFVRVNULCB7fSk7XG4gICAgdGhpcy5yZXF1ZXN0UGFyc2VyW0hUVFBQYXJzZXIua09uSGVhZGVyc0NvbXBsZXRlXSA9IHRoaXMub25SZXF1ZXN0U3RhcnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlcXVlc3RQYXJzZXJbSFRUUFBhcnNlci5rT25Cb2R5XSA9IHRoaXMub25SZXF1ZXN0Qm9keS5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVxdWVzdFBhcnNlcltIVFRQUGFyc2VyLmtPbk1lc3NhZ2VDb21wbGV0ZV0gPSB0aGlzLm9uUmVxdWVzdEVuZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVzcG9uc2VQYXJzZXIgPSBuZXcgSFRUUFBhcnNlcigpO1xuICAgIHRoaXMucmVzcG9uc2VQYXJzZXIuaW5pdGlhbGl6ZShIVFRQUGFyc2VyLlJFU1BPTlNFLCB7fSk7XG4gICAgdGhpcy5yZXNwb25zZVBhcnNlcltIVFRQUGFyc2VyLmtPbkhlYWRlcnNDb21wbGV0ZV0gPSB0aGlzLm9uUmVzcG9uc2VTdGFydC5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVzcG9uc2VQYXJzZXJbSFRUUFBhcnNlci5rT25Cb2R5XSA9IHRoaXMub25SZXNwb25zZUJvZHkuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlc3BvbnNlUGFyc2VyW0hUVFBQYXJzZXIua09uTWVzc2FnZUNvbXBsZXRlXSA9IHRoaXMub25SZXNwb25zZUVuZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25jZShcImZpbmlzaFwiLCAoKSA9PiB0aGlzLnJlcXVlc3RQYXJzZXIuZnJlZSgpKTtcbiAgICBpZiAodGhpcy5iYXNlVXJsLnByb3RvY29sID09PSBcImh0dHBzOlwiKSB7XG4gICAgICBSZWZsZWN0LnNldCh0aGlzLCBcImVuY3J5cHRlZFwiLCB0cnVlKTtcbiAgICAgIFJlZmxlY3Quc2V0KHRoaXMsIFwiYXV0aG9yaXplZFwiLCBmYWxzZSk7XG4gICAgICBSZWZsZWN0LnNldCh0aGlzLCBcImdldFByb3RvY29sXCIsICgpID0+IFwiVExTdjEuM1wiKTtcbiAgICAgIFJlZmxlY3Quc2V0KHRoaXMsIFwiZ2V0U2Vzc2lvblwiLCAoKSA9PiB2b2lkIDApO1xuICAgICAgUmVmbGVjdC5zZXQodGhpcywgXCJpc1Nlc3Npb25SZXVzZWRcIiwgKCkgPT4gZmFsc2UpO1xuICAgIH1cbiAgfVxuICBlbWl0KGV2ZW50LCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZW1pdEV2ZW50ID0gc3VwZXIuZW1pdC5iaW5kKHRoaXMsIGV2ZW50LCAuLi5hcmdzKTtcbiAgICBpZiAodGhpcy5yZXNwb25zZUxpc3RlbmVyc1Byb21pc2UpIHtcbiAgICAgIHRoaXMucmVzcG9uc2VMaXN0ZW5lcnNQcm9taXNlLmZpbmFsbHkoZW1pdEV2ZW50KTtcbiAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyQ291bnQoZXZlbnQpID4gMDtcbiAgICB9XG4gICAgcmV0dXJuIGVtaXRFdmVudCgpO1xuICB9XG4gIGRlc3Ryb3koZXJyb3IpIHtcbiAgICB0aGlzLnJlc3BvbnNlUGFyc2VyLmZyZWUoKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHRoaXMuZW1pdChcImVycm9yXCIsIGVycm9yKTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cGVyLmRlc3Ryb3koZXJyb3IpO1xuICB9XG4gIC8qKlxuICAgKiBFc3RhYmxpc2ggdGhpcyBTb2NrZXQgY29ubmVjdGlvbiBhcy1pcyBhbmQgcGlwZVxuICAgKiBpdHMgZGF0YS9ldmVudHMgdGhyb3VnaCB0aGlzIFNvY2tldC5cbiAgICovXG4gIHBhc3N0aHJvdWdoKCkge1xuICAgIHRoaXMuc29ja2V0U3RhdGUgPSBcInBhc3N0aHJvdWdoXCI7XG4gICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNvY2tldCA9IHRoaXMuY3JlYXRlQ29ubmVjdGlvbigpO1xuICAgIHRoaXMub3JpZ2luYWxTb2NrZXQgPSBzb2NrZXQ7XG4gICAgdGhpcy5vbmNlKFwiZXJyb3JcIiwgKGVycm9yKSA9PiB7XG4gICAgICBzb2NrZXQuZGVzdHJveShlcnJvcik7XG4gICAgfSk7XG4gICAgdGhpcy5hZGRyZXNzID0gc29ja2V0LmFkZHJlc3MuYmluZChzb2NrZXQpO1xuICAgIGxldCB3cml0ZUFyZ3M7XG4gICAgbGV0IGhlYWRlcnNXcml0dGVuID0gZmFsc2U7XG4gICAgd2hpbGUgKHdyaXRlQXJncyA9IHRoaXMud3JpdGVCdWZmZXIuc2hpZnQoKSkge1xuICAgICAgaWYgKHdyaXRlQXJncyAhPT0gdm9pZCAwKSB7XG4gICAgICAgIGlmICghaGVhZGVyc1dyaXR0ZW4pIHtcbiAgICAgICAgICBjb25zdCBbY2h1bmssIGVuY29kaW5nLCBjYWxsYmFja10gPSB3cml0ZUFyZ3M7XG4gICAgICAgICAgY29uc3QgY2h1bmtTdHJpbmcgPSBjaHVuay50b1N0cmluZygpO1xuICAgICAgICAgIGNvbnN0IGNodW5rQmVmb3JlUmVxdWVzdEhlYWRlcnMgPSBjaHVua1N0cmluZy5zbGljZShcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBjaHVua1N0cmluZy5pbmRleE9mKFwiXFxyXFxuXCIpICsgMlxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgY2h1bmtBZnRlclJlcXVlc3RIZWFkZXJzID0gY2h1bmtTdHJpbmcuc2xpY2UoXG4gICAgICAgICAgICBjaHVuay5pbmRleE9mKFwiXFxyXFxuXFxyXFxuXCIpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCByYXdSZXF1ZXN0SGVhZGVycyA9IGdldFJhd0ZldGNoSGVhZGVycyh0aGlzLnJlcXVlc3QuaGVhZGVycyk7XG4gICAgICAgICAgY29uc3QgcmVxdWVzdEhlYWRlcnNTdHJpbmcgPSByYXdSZXF1ZXN0SGVhZGVycy5maWx0ZXIoKFtuYW1lXSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKSAhPT0gSU5URVJOQUxfUkVRVUVTVF9JRF9IRUFERVJfTkFNRTtcbiAgICAgICAgICB9KS5tYXAoKFtuYW1lLCB2YWx1ZV0pID0+IGAke25hbWV9OiAke3ZhbHVlfWApLmpvaW4oXCJcXHJcXG5cIik7XG4gICAgICAgICAgY29uc3QgaGVhZGVyc0NodW5rID0gYCR7Y2h1bmtCZWZvcmVSZXF1ZXN0SGVhZGVyc30ke3JlcXVlc3RIZWFkZXJzU3RyaW5nfSR7Y2h1bmtBZnRlclJlcXVlc3RIZWFkZXJzfWA7XG4gICAgICAgICAgc29ja2V0LndyaXRlKGhlYWRlcnNDaHVuaywgZW5jb2RpbmcsIGNhbGxiYWNrKTtcbiAgICAgICAgICBoZWFkZXJzV3JpdHRlbiA9IHRydWU7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgc29ja2V0LndyaXRlKC4uLndyaXRlQXJncyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChSZWZsZWN0LmdldChzb2NrZXQsIFwiZW5jcnlwdGVkXCIpKSB7XG4gICAgICBjb25zdCB0bHNQcm9wZXJ0aWVzID0gW1xuICAgICAgICBcImVuY3J5cHRlZFwiLFxuICAgICAgICBcImF1dGhvcml6ZWRcIixcbiAgICAgICAgXCJnZXRQcm90b2NvbFwiLFxuICAgICAgICBcImdldFNlc3Npb25cIixcbiAgICAgICAgXCJpc1Nlc3Npb25SZXVzZWRcIlxuICAgICAgXTtcbiAgICAgIHRsc1Byb3BlcnRpZXMuZm9yRWFjaCgocHJvcGVydHlOYW1lKSA9PiB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBwcm9wZXJ0eU5hbWUsIHtcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBSZWZsZWN0LmdldChzb2NrZXQsIHByb3BlcnR5TmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgPyB2YWx1ZS5iaW5kKHNvY2tldCkgOiB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHNvY2tldC5vbihcImxvb2t1cFwiLCAoLi4uYXJncykgPT4gdGhpcy5lbWl0KFwibG9va3VwXCIsIC4uLmFyZ3MpKS5vbihcImNvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5jb25uZWN0aW5nID0gc29ja2V0LmNvbm5lY3Rpbmc7XG4gICAgICB0aGlzLmVtaXQoXCJjb25uZWN0XCIpO1xuICAgIH0pLm9uKFwic2VjdXJlQ29ubmVjdFwiLCAoKSA9PiB0aGlzLmVtaXQoXCJzZWN1cmVDb25uZWN0XCIpKS5vbihcInNlY3VyZVwiLCAoKSA9PiB0aGlzLmVtaXQoXCJzZWN1cmVcIikpLm9uKFwic2Vzc2lvblwiLCAoc2Vzc2lvbikgPT4gdGhpcy5lbWl0KFwic2Vzc2lvblwiLCBzZXNzaW9uKSkub24oXCJyZWFkeVwiLCAoKSA9PiB0aGlzLmVtaXQoXCJyZWFkeVwiKSkub24oXCJkcmFpblwiLCAoKSA9PiB0aGlzLmVtaXQoXCJkcmFpblwiKSkub24oXCJkYXRhXCIsIChjaHVuaykgPT4ge1xuICAgICAgdGhpcy5wdXNoKGNodW5rKTtcbiAgICB9KS5vbihcImVycm9yXCIsIChlcnJvcikgPT4ge1xuICAgICAgUmVmbGVjdC5zZXQodGhpcywgXCJfaGFkRXJyb3JcIiwgUmVmbGVjdC5nZXQoc29ja2V0LCBcIl9oYWRFcnJvclwiKSk7XG4gICAgICB0aGlzLmVtaXQoXCJlcnJvclwiLCBlcnJvcik7XG4gICAgfSkub24oXCJyZXN1bWVcIiwgKCkgPT4gdGhpcy5lbWl0KFwicmVzdW1lXCIpKS5vbihcInRpbWVvdXRcIiwgKCkgPT4gdGhpcy5lbWl0KFwidGltZW91dFwiKSkub24oXCJwcmVmaW5pc2hcIiwgKCkgPT4gdGhpcy5lbWl0KFwicHJlZmluaXNoXCIpKS5vbihcImZpbmlzaFwiLCAoKSA9PiB0aGlzLmVtaXQoXCJmaW5pc2hcIikpLm9uKFwiY2xvc2VcIiwgKGhhZEVycm9yKSA9PiB0aGlzLmVtaXQoXCJjbG9zZVwiLCBoYWRFcnJvcikpLm9uKFwiZW5kXCIsICgpID0+IHRoaXMuZW1pdChcImVuZFwiKSk7XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnQgdGhlIGdpdmVuIEZldGNoIEFQSSBgUmVzcG9uc2VgIGluc3RhbmNlIHRvIGFuXG4gICAqIEhUVFAgbWVzc2FnZSBhbmQgcHVzaCBpdCB0byB0aGUgc29ja2V0LlxuICAgKi9cbiAgYXN5bmMgcmVzcG9uZFdpdGgocmVzcG9uc2UpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc1Byb3BlcnR5QWNjZXNzaWJsZShyZXNwb25zZSwgXCJ0eXBlXCIpICYmIHJlc3BvbnNlLnR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgdGhpcy5lcnJvcldpdGgobmV3IFR5cGVFcnJvcihcIk5ldHdvcmsgZXJyb3JcIikpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLm1vY2tDb25uZWN0KCk7XG4gICAgdGhpcy5zb2NrZXRTdGF0ZSA9IFwibW9ja1wiO1xuICAgIHRoaXMuZmx1c2hXcml0ZUJ1ZmZlcigpO1xuICAgIGNvbnN0IHNlcnZlclJlc3BvbnNlID0gbmV3IFNlcnZlclJlc3BvbnNlKG5ldyBJbmNvbWluZ01lc3NhZ2UodGhpcykpO1xuICAgIHNlcnZlclJlc3BvbnNlLmFzc2lnblNvY2tldChcbiAgICAgIG5ldyBNb2NrU29ja2V0KHtcbiAgICAgICAgd3JpdGU6IChjaHVuaywgZW5jb2RpbmcsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgdGhpcy5wdXNoKGNodW5rLCBlbmNvZGluZyk7XG4gICAgICAgICAgY2FsbGJhY2sgPT0gbnVsbCA/IHZvaWQgMCA6IGNhbGxiYWNrKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlYWQoKSB7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKTtcbiAgICBzZXJ2ZXJSZXNwb25zZS5yZW1vdmVIZWFkZXIoXCJjb25uZWN0aW9uXCIpO1xuICAgIHNlcnZlclJlc3BvbnNlLnJlbW92ZUhlYWRlcihcImRhdGVcIik7XG4gICAgY29uc3QgcmF3UmVzcG9uc2VIZWFkZXJzID0gZ2V0UmF3RmV0Y2hIZWFkZXJzKHJlc3BvbnNlLmhlYWRlcnMpO1xuICAgIHNlcnZlclJlc3BvbnNlLndyaXRlSGVhZChcbiAgICAgIHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIHJlc3BvbnNlLnN0YXR1c1RleHQgfHwgU1RBVFVTX0NPREVTW3Jlc3BvbnNlLnN0YXR1c10sXG4gICAgICByYXdSZXNwb25zZUhlYWRlcnNcbiAgICApO1xuICAgIHRoaXMub25jZShcImVycm9yXCIsICgpID0+IHtcbiAgICAgIHNlcnZlclJlc3BvbnNlLmRlc3Ryb3koKTtcbiAgICB9KTtcbiAgICBpZiAocmVzcG9uc2UuYm9keSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gcmVzcG9uc2UuYm9keS5nZXRSZWFkZXIoKTtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICBzZXJ2ZXJSZXNwb25zZS5lbmQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXJ2ZXJSZXNwb25zZS53cml0ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRoaXMucmVzcG9uZFdpdGgoY3JlYXRlU2VydmVyRXJyb3JSZXNwb25zZShlcnJvcikpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlcnZlclJlc3BvbnNlLmVuZCgpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuc2hvdWxkS2VlcEFsaXZlKSB7XG4gICAgICB0aGlzLmVtaXQoXCJyZWFkYWJsZVwiKTtcbiAgICAgIChfYSA9IHRoaXMucmVzcG9uc2VTdHJlYW0pID09IG51bGwgPyB2b2lkIDAgOiBfYS5wdXNoKG51bGwpO1xuICAgICAgdGhpcy5wdXNoKG51bGwpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2xvc2UgdGhpcyBzb2NrZXQgY29ubmVjdGlvbiB3aXRoIHRoZSBnaXZlbiBlcnJvci5cbiAgICovXG4gIGVycm9yV2l0aChlcnJvcikge1xuICAgIHRoaXMuZGVzdHJveShlcnJvcik7XG4gIH1cbiAgbW9ja0Nvbm5lY3QoKSB7XG4gICAgdGhpcy5jb25uZWN0aW5nID0gZmFsc2U7XG4gICAgY29uc3QgaXNJUHY2ID0gbmV0Mi5pc0lQdjYodGhpcy5jb25uZWN0aW9uT3B0aW9ucy5ob3N0bmFtZSkgfHwgdGhpcy5jb25uZWN0aW9uT3B0aW9ucy5mYW1pbHkgPT09IDY7XG4gICAgY29uc3QgYWRkcmVzc0luZm8gPSB7XG4gICAgICBhZGRyZXNzOiBpc0lQdjYgPyBcIjo6MVwiIDogXCIxMjcuMC4wLjFcIixcbiAgICAgIGZhbWlseTogaXNJUHY2ID8gXCJJUHY2XCIgOiBcIklQdjRcIixcbiAgICAgIHBvcnQ6IHRoaXMuY29ubmVjdGlvbk9wdGlvbnMucG9ydFxuICAgIH07XG4gICAgdGhpcy5hZGRyZXNzID0gKCkgPT4gYWRkcmVzc0luZm87XG4gICAgdGhpcy5lbWl0KFxuICAgICAgXCJsb29rdXBcIixcbiAgICAgIG51bGwsXG4gICAgICBhZGRyZXNzSW5mby5hZGRyZXNzLFxuICAgICAgYWRkcmVzc0luZm8uZmFtaWx5ID09PSBcIklQdjZcIiA/IDYgOiA0LFxuICAgICAgdGhpcy5jb25uZWN0aW9uT3B0aW9ucy5ob3N0XG4gICAgKTtcbiAgICB0aGlzLmVtaXQoXCJjb25uZWN0XCIpO1xuICAgIHRoaXMuZW1pdChcInJlYWR5XCIpO1xuICAgIGlmICh0aGlzLmJhc2VVcmwucHJvdG9jb2wgPT09IFwiaHR0cHM6XCIpIHtcbiAgICAgIHRoaXMuZW1pdChcInNlY3VyZVwiKTtcbiAgICAgIHRoaXMuZW1pdChcInNlY3VyZUNvbm5lY3RcIik7XG4gICAgICB0aGlzLmVtaXQoXG4gICAgICAgIFwic2Vzc2lvblwiLFxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25PcHRpb25zLnNlc3Npb24gfHwgQnVmZmVyLmZyb20oXCJtb2NrLXNlc3Npb24tcmVuZWdvdGlhdGVcIilcbiAgICAgICk7XG4gICAgICB0aGlzLmVtaXQoXCJzZXNzaW9uXCIsIEJ1ZmZlci5mcm9tKFwibW9jay1zZXNzaW9uLXJlc3VtZVwiKSk7XG4gICAgfVxuICB9XG4gIGZsdXNoV3JpdGVCdWZmZXIoKSB7XG4gICAgZm9yIChjb25zdCB3cml0ZUNhbGwgb2YgdGhpcy53cml0ZUJ1ZmZlcikge1xuICAgICAgaWYgKHR5cGVvZiB3cml0ZUNhbGxbMl0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB3cml0ZUNhbGxbMl0oKTtcbiAgICAgICAgd3JpdGVDYWxsWzJdID0gdm9pZCAwO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBvblJlcXVlc3RCb2R5KGNodW5rKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgdGhpcy5yZXF1ZXN0U3RyZWFtLFxuICAgICAgXCJGYWlsZWQgdG8gd3JpdGUgdG8gYSByZXF1ZXN0IHN0cmVhbTogc3RyZWFtIGRvZXMgbm90IGV4aXN0XCJcbiAgICApO1xuICAgIHRoaXMucmVxdWVzdFN0cmVhbS5wdXNoKGNodW5rKTtcbiAgfVxuICBvblJlcXVlc3RFbmQoKSB7XG4gICAgaWYgKHRoaXMucmVxdWVzdFN0cmVhbSkge1xuICAgICAgdGhpcy5yZXF1ZXN0U3RyZWFtLnB1c2gobnVsbCk7XG4gICAgfVxuICB9XG4gIG9uUmVzcG9uc2VCb2R5KGNodW5rKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgdGhpcy5yZXNwb25zZVN0cmVhbSxcbiAgICAgIFwiRmFpbGVkIHRvIHdyaXRlIHRvIGEgcmVzcG9uc2Ugc3RyZWFtOiBzdHJlYW0gZG9lcyBub3QgZXhpc3RcIlxuICAgICk7XG4gICAgdGhpcy5yZXNwb25zZVN0cmVhbS5wdXNoKGNodW5rKTtcbiAgfVxuICBvblJlc3BvbnNlRW5kKCkge1xuICAgIGlmICh0aGlzLnJlc3BvbnNlU3RyZWFtKSB7XG4gICAgICB0aGlzLnJlc3BvbnNlU3RyZWFtLnB1c2gobnVsbCk7XG4gICAgfVxuICB9XG59O1xuXG4vLyBzcmMvaW50ZXJjZXB0b3JzL0NsaWVudFJlcXVlc3QvYWdlbnRzLnRzXG5pbXBvcnQgaHR0cCBmcm9tIFwiaHR0cFwiO1xuaW1wb3J0IGh0dHBzIGZyb20gXCJodHRwc1wiO1xudmFyIE1vY2tBZ2VudCA9IGNsYXNzIGV4dGVuZHMgaHR0cC5BZ2VudCB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuY3VzdG9tQWdlbnQgPSBvcHRpb25zLmN1c3RvbUFnZW50O1xuICAgIHRoaXMub25SZXF1ZXN0ID0gb3B0aW9ucy5vblJlcXVlc3Q7XG4gICAgdGhpcy5vblJlc3BvbnNlID0gb3B0aW9ucy5vblJlc3BvbnNlO1xuICB9XG4gIGNyZWF0ZUNvbm5lY3Rpb24ob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICBjb25zdCBjcmVhdGVDb25uZWN0aW9uID0gdGhpcy5jdXN0b21BZ2VudCBpbnN0YW5jZW9mIGh0dHAuQWdlbnQgPyB0aGlzLmN1c3RvbUFnZW50LmNyZWF0ZUNvbm5lY3Rpb24gOiBzdXBlci5jcmVhdGVDb25uZWN0aW9uO1xuICAgIGNvbnN0IGNyZWF0ZUNvbm5lY3Rpb25PcHRpb25zID0gdGhpcy5jdXN0b21BZ2VudCBpbnN0YW5jZW9mIGh0dHAuQWdlbnQgPyB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgLi4udGhpcy5jdXN0b21BZ2VudC5vcHRpb25zXG4gICAgfSA6IG9wdGlvbnM7XG4gICAgY29uc3Qgc29ja2V0ID0gbmV3IE1vY2tIdHRwU29ja2V0KHtcbiAgICAgIGNvbm5lY3Rpb25PcHRpb25zOiBvcHRpb25zLFxuICAgICAgY3JlYXRlQ29ubmVjdGlvbjogY3JlYXRlQ29ubmVjdGlvbi5iaW5kKFxuICAgICAgICB0aGlzLmN1c3RvbUFnZW50IHx8IHRoaXMsXG4gICAgICAgIGNyZWF0ZUNvbm5lY3Rpb25PcHRpb25zLFxuICAgICAgICBjYWxsYmFja1xuICAgICAgKSxcbiAgICAgIG9uUmVxdWVzdDogdGhpcy5vblJlcXVlc3QuYmluZCh0aGlzKSxcbiAgICAgIG9uUmVzcG9uc2U6IHRoaXMub25SZXNwb25zZS5iaW5kKHRoaXMpXG4gICAgfSk7XG4gICAgcmV0dXJuIHNvY2tldDtcbiAgfVxufTtcbnZhciBNb2NrSHR0cHNBZ2VudCA9IGNsYXNzIGV4dGVuZHMgaHR0cHMuQWdlbnQge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmN1c3RvbUFnZW50ID0gb3B0aW9ucy5jdXN0b21BZ2VudDtcbiAgICB0aGlzLm9uUmVxdWVzdCA9IG9wdGlvbnMub25SZXF1ZXN0O1xuICAgIHRoaXMub25SZXNwb25zZSA9IG9wdGlvbnMub25SZXNwb25zZTtcbiAgfVxuICBjcmVhdGVDb25uZWN0aW9uKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgY3JlYXRlQ29ubmVjdGlvbiA9IHRoaXMuY3VzdG9tQWdlbnQgaW5zdGFuY2VvZiBodHRwcy5BZ2VudCA/IHRoaXMuY3VzdG9tQWdlbnQuY3JlYXRlQ29ubmVjdGlvbiA6IHN1cGVyLmNyZWF0ZUNvbm5lY3Rpb247XG4gICAgY29uc3QgY3JlYXRlQ29ubmVjdGlvbk9wdGlvbnMgPSB0aGlzLmN1c3RvbUFnZW50IGluc3RhbmNlb2YgaHR0cHMuQWdlbnQgPyB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgLi4udGhpcy5jdXN0b21BZ2VudC5vcHRpb25zXG4gICAgfSA6IG9wdGlvbnM7XG4gICAgY29uc3Qgc29ja2V0ID0gbmV3IE1vY2tIdHRwU29ja2V0KHtcbiAgICAgIGNvbm5lY3Rpb25PcHRpb25zOiBvcHRpb25zLFxuICAgICAgY3JlYXRlQ29ubmVjdGlvbjogY3JlYXRlQ29ubmVjdGlvbi5iaW5kKFxuICAgICAgICB0aGlzLmN1c3RvbUFnZW50IHx8IHRoaXMsXG4gICAgICAgIGNyZWF0ZUNvbm5lY3Rpb25PcHRpb25zLFxuICAgICAgICBjYWxsYmFja1xuICAgICAgKSxcbiAgICAgIG9uUmVxdWVzdDogdGhpcy5vblJlcXVlc3QuYmluZCh0aGlzKSxcbiAgICAgIG9uUmVzcG9uc2U6IHRoaXMub25SZXNwb25zZS5iaW5kKHRoaXMpXG4gICAgfSk7XG4gICAgcmV0dXJuIHNvY2tldDtcbiAgfVxufTtcblxuLy8gc3JjL2ludGVyY2VwdG9ycy9DbGllbnRSZXF1ZXN0L3V0aWxzL25vcm1hbGl6ZUNsaWVudFJlcXVlc3RBcmdzLnRzXG5pbXBvcnQgeyB1cmxUb0h0dHBPcHRpb25zIH0gZnJvbSBcInVybFwiO1xuaW1wb3J0IHtcbiAgQWdlbnQgYXMgSHR0cEFnZW50LFxuICBnbG9iYWxBZ2VudCBhcyBodHRwR2xvYmFsQWdlbnRcbn0gZnJvbSBcImh0dHBcIjtcbmltcG9ydCB7XG4gIEFnZW50IGFzIEh0dHBzQWdlbnQsXG4gIGdsb2JhbEFnZW50IGFzIGh0dHBzR2xvYmFsQWdlbnRcbn0gZnJvbSBcImh0dHBzXCI7XG5pbXBvcnQge1xuICBVUkwgYXMgVVJMMixcbiAgcGFyc2UgYXMgcGFyc2VVcmxcbn0gZnJvbSBcInVybFwiO1xuaW1wb3J0IHsgTG9nZ2VyIGFzIExvZ2dlcjMgfSBmcm9tIFwiQG9wZW4tZHJhZnQvbG9nZ2VyXCI7XG5cbi8vIHNyYy91dGlscy9nZXRVcmxCeVJlcXVlc3RPcHRpb25zLnRzXG5pbXBvcnQgeyBBZ2VudCB9IGZyb20gXCJodHRwXCI7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQG9wZW4tZHJhZnQvbG9nZ2VyXCI7XG52YXIgbG9nZ2VyID0gbmV3IExvZ2dlcihcInV0aWxzIGdldFVybEJ5UmVxdWVzdE9wdGlvbnNcIik7XG52YXIgREVGQVVMVF9QQVRIID0gXCIvXCI7XG52YXIgREVGQVVMVF9QUk9UT0NPTCA9IFwiaHR0cDpcIjtcbnZhciBERUZBVUxUX0hPU1ROQU1FID0gXCJsb2NhbGhvc3RcIjtcbnZhciBTU0xfUE9SVCA9IDQ0MztcbmZ1bmN0aW9uIGdldEFnZW50KG9wdGlvbnMpIHtcbiAgcmV0dXJuIG9wdGlvbnMuYWdlbnQgaW5zdGFuY2VvZiBBZ2VudCA/IG9wdGlvbnMuYWdlbnQgOiB2b2lkIDA7XG59XG5mdW5jdGlvbiBnZXRQcm90b2NvbEJ5UmVxdWVzdE9wdGlvbnMob3B0aW9ucykge1xuICB2YXIgX2E7XG4gIGlmIChvcHRpb25zLnByb3RvY29sKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMucHJvdG9jb2w7XG4gIH1cbiAgY29uc3QgYWdlbnQgPSBnZXRBZ2VudChvcHRpb25zKTtcbiAgY29uc3QgYWdlbnRQcm90b2NvbCA9IGFnZW50ID09IG51bGwgPyB2b2lkIDAgOiBhZ2VudC5wcm90b2NvbDtcbiAgaWYgKGFnZW50UHJvdG9jb2wpIHtcbiAgICByZXR1cm4gYWdlbnRQcm90b2NvbDtcbiAgfVxuICBjb25zdCBwb3J0ID0gZ2V0UG9ydEJ5UmVxdWVzdE9wdGlvbnMob3B0aW9ucyk7XG4gIGNvbnN0IGlzU2VjdXJlUmVxdWVzdCA9IG9wdGlvbnMuY2VydCB8fCBwb3J0ID09PSBTU0xfUE9SVDtcbiAgcmV0dXJuIGlzU2VjdXJlUmVxdWVzdCA/IFwiaHR0cHM6XCIgOiAoKF9hID0gb3B0aW9ucy51cmkpID09IG51bGwgPyB2b2lkIDAgOiBfYS5wcm90b2NvbCkgfHwgREVGQVVMVF9QUk9UT0NPTDtcbn1cbmZ1bmN0aW9uIGdldFBvcnRCeVJlcXVlc3RPcHRpb25zKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMucG9ydCkge1xuICAgIHJldHVybiBOdW1iZXIob3B0aW9ucy5wb3J0KTtcbiAgfVxuICBjb25zdCBhZ2VudCA9IGdldEFnZW50KG9wdGlvbnMpO1xuICBpZiAoYWdlbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGFnZW50Lm9wdGlvbnMucG9ydCkge1xuICAgIHJldHVybiBOdW1iZXIoYWdlbnQub3B0aW9ucy5wb3J0KTtcbiAgfVxuICBpZiAoYWdlbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGFnZW50LmRlZmF1bHRQb3J0KSB7XG4gICAgcmV0dXJuIE51bWJlcihhZ2VudC5kZWZhdWx0UG9ydCk7XG4gIH1cbiAgcmV0dXJuIHZvaWQgMDtcbn1cbmZ1bmN0aW9uIGdldEF1dGhCeVJlcXVlc3RPcHRpb25zKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMuYXV0aCkge1xuICAgIGNvbnN0IFt1c2VybmFtZSwgcGFzc3dvcmRdID0gb3B0aW9ucy5hdXRoLnNwbGl0KFwiOlwiKTtcbiAgICByZXR1cm4geyB1c2VybmFtZSwgcGFzc3dvcmQgfTtcbiAgfVxufVxuZnVuY3Rpb24gaXNSYXdJUHY2QWRkcmVzcyhob3N0KSB7XG4gIHJldHVybiBob3N0LmluY2x1ZGVzKFwiOlwiKSAmJiAhaG9zdC5zdGFydHNXaXRoKFwiW1wiKSAmJiAhaG9zdC5lbmRzV2l0aChcIl1cIik7XG59XG5mdW5jdGlvbiBnZXRIb3N0bmFtZShvcHRpb25zKSB7XG4gIGxldCBob3N0ID0gb3B0aW9ucy5ob3N0bmFtZSB8fCBvcHRpb25zLmhvc3Q7XG4gIGlmIChob3N0KSB7XG4gICAgaWYgKGlzUmF3SVB2NkFkZHJlc3MoaG9zdCkpIHtcbiAgICAgIGhvc3QgPSBgWyR7aG9zdH1dYDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBVUkwoYGh0dHA6Ly8ke2hvc3R9YCkuaG9zdG5hbWU7XG4gIH1cbiAgcmV0dXJuIERFRkFVTFRfSE9TVE5BTUU7XG59XG5mdW5jdGlvbiBnZXRVcmxCeVJlcXVlc3RPcHRpb25zKG9wdGlvbnMpIHtcbiAgbG9nZ2VyLmluZm8oXCJyZXF1ZXN0IG9wdGlvbnNcIiwgb3B0aW9ucyk7XG4gIGlmIChvcHRpb25zLnVyaSkge1xuICAgIGxvZ2dlci5pbmZvKFxuICAgICAgJ2NvbnN0cnVjdGluZyB1cmwgZnJvbSBleHBsaWNpdGx5IHByb3ZpZGVkIFwib3B0aW9ucy51cmlcIjogJXMnLFxuICAgICAgb3B0aW9ucy51cmlcbiAgICApO1xuICAgIHJldHVybiBuZXcgVVJMKG9wdGlvbnMudXJpLmhyZWYpO1xuICB9XG4gIGxvZ2dlci5pbmZvKFwiZmlndXJpbmcgb3V0IHVybCBmcm9tIHJlcXVlc3Qgb3B0aW9ucy4uLlwiKTtcbiAgY29uc3QgcHJvdG9jb2wgPSBnZXRQcm90b2NvbEJ5UmVxdWVzdE9wdGlvbnMob3B0aW9ucyk7XG4gIGxvZ2dlci5pbmZvKFwicHJvdG9jb2xcIiwgcHJvdG9jb2wpO1xuICBjb25zdCBwb3J0ID0gZ2V0UG9ydEJ5UmVxdWVzdE9wdGlvbnMob3B0aW9ucyk7XG4gIGxvZ2dlci5pbmZvKFwicG9ydFwiLCBwb3J0KTtcbiAgY29uc3QgaG9zdG5hbWUgPSBnZXRIb3N0bmFtZShvcHRpb25zKTtcbiAgbG9nZ2VyLmluZm8oXCJob3N0bmFtZVwiLCBob3N0bmFtZSk7XG4gIGNvbnN0IHBhdGggPSBvcHRpb25zLnBhdGggfHwgREVGQVVMVF9QQVRIO1xuICBsb2dnZXIuaW5mbyhcInBhdGhcIiwgcGF0aCk7XG4gIGNvbnN0IGNyZWRlbnRpYWxzID0gZ2V0QXV0aEJ5UmVxdWVzdE9wdGlvbnMob3B0aW9ucyk7XG4gIGxvZ2dlci5pbmZvKFwiY3JlZGVudGlhbHNcIiwgY3JlZGVudGlhbHMpO1xuICBjb25zdCBhdXRoU3RyaW5nID0gY3JlZGVudGlhbHMgPyBgJHtjcmVkZW50aWFscy51c2VybmFtZX06JHtjcmVkZW50aWFscy5wYXNzd29yZH1AYCA6IFwiXCI7XG4gIGxvZ2dlci5pbmZvKFwiYXV0aCBzdHJpbmc6XCIsIGF1dGhTdHJpbmcpO1xuICBjb25zdCBwb3J0U3RyaW5nID0gdHlwZW9mIHBvcnQgIT09IFwidW5kZWZpbmVkXCIgPyBgOiR7cG9ydH1gIDogXCJcIjtcbiAgY29uc3QgdXJsID0gbmV3IFVSTChgJHtwcm90b2NvbH0vLyR7aG9zdG5hbWV9JHtwb3J0U3RyaW5nfSR7cGF0aH1gKTtcbiAgdXJsLnVzZXJuYW1lID0gKGNyZWRlbnRpYWxzID09IG51bGwgPyB2b2lkIDAgOiBjcmVkZW50aWFscy51c2VybmFtZSkgfHwgXCJcIjtcbiAgdXJsLnBhc3N3b3JkID0gKGNyZWRlbnRpYWxzID09IG51bGwgPyB2b2lkIDAgOiBjcmVkZW50aWFscy5wYXNzd29yZCkgfHwgXCJcIjtcbiAgbG9nZ2VyLmluZm8oXCJjcmVhdGVkIHVybDpcIiwgdXJsKTtcbiAgcmV0dXJuIHVybDtcbn1cblxuLy8gc3JjL3V0aWxzL2Nsb25lT2JqZWN0LnRzXG5pbXBvcnQgeyBMb2dnZXIgYXMgTG9nZ2VyMiB9IGZyb20gXCJAb3Blbi1kcmFmdC9sb2dnZXJcIjtcbnZhciBsb2dnZXIyID0gbmV3IExvZ2dlcjIoXCJjbG9uZU9iamVjdFwiKTtcbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3Qob2JqKSB7XG4gIHZhciBfYTtcbiAgbG9nZ2VyMi5pbmZvKFwiaXMgcGxhaW4gb2JqZWN0P1wiLCBvYmopO1xuICBpZiAob2JqID09IG51bGwgfHwgISgoX2EgPSBvYmouY29uc3RydWN0b3IpID09IG51bGwgPyB2b2lkIDAgOiBfYS5uYW1lKSkge1xuICAgIGxvZ2dlcjIuaW5mbyhcImdpdmVuIG9iamVjdCBpcyB1bmRlZmluZWQsIG5vdCBhIHBsYWluIG9iamVjdC4uLlwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbG9nZ2VyMi5pbmZvKFwiY2hlY2tpbmcgdGhlIG9iamVjdCBjb25zdHJ1Y3RvcjpcIiwgb2JqLmNvbnN0cnVjdG9yLm5hbWUpO1xuICByZXR1cm4gb2JqLmNvbnN0cnVjdG9yLm5hbWUgPT09IFwiT2JqZWN0XCI7XG59XG5mdW5jdGlvbiBjbG9uZU9iamVjdChvYmopIHtcbiAgbG9nZ2VyMi5pbmZvKFwiY2xvbmluZyBvYmplY3Q6XCIsIG9iaik7XG4gIGNvbnN0IGVudW1lcmFibGVQcm9wZXJ0aWVzID0gT2JqZWN0LmVudHJpZXMob2JqKS5yZWR1Y2UoXG4gICAgKGFjYywgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICBsb2dnZXIyLmluZm8oXCJhbmFseXppbmcga2V5LXZhbHVlIHBhaXI6XCIsIGtleSwgdmFsdWUpO1xuICAgICAgYWNjW2tleV0gPSBpc1BsYWluT2JqZWN0KHZhbHVlKSA/IGNsb25lT2JqZWN0KHZhbHVlKSA6IHZhbHVlO1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LFxuICAgIHt9XG4gICk7XG4gIHJldHVybiBpc1BsYWluT2JqZWN0KG9iaikgPyBlbnVtZXJhYmxlUHJvcGVydGllcyA6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaiksIGVudW1lcmFibGVQcm9wZXJ0aWVzKTtcbn1cblxuLy8gc3JjL3V0aWxzL2lzT2JqZWN0LnRzXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSwgbG9vc2UgPSBmYWxzZSkge1xuICByZXR1cm4gbG9vc2UgPyBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLnN0YXJ0c1dpdGgoXCJbb2JqZWN0IFwiKSA6IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBPYmplY3RdXCI7XG59XG5cbi8vIHNyYy9pbnRlcmNlcHRvcnMvQ2xpZW50UmVxdWVzdC91dGlscy9ub3JtYWxpemVDbGllbnRSZXF1ZXN0QXJncy50c1xudmFyIGxvZ2dlcjMgPSBuZXcgTG9nZ2VyMyhcImh0dHAgbm9ybWFsaXplQ2xpZW50UmVxdWVzdEFyZ3NcIik7XG5mdW5jdGlvbiByZXNvbHZlUmVxdWVzdE9wdGlvbnMoYXJncywgdXJsKSB7XG4gIGlmICh0eXBlb2YgYXJnc1sxXSA9PT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgYXJnc1sxXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgbG9nZ2VyMy5pbmZvKFwicmVxdWVzdCBvcHRpb25zIG5vdCBwcm92aWRlZCwgZGVyaXZpbmcgZnJvbSB0aGUgdXJsXCIsIHVybCk7XG4gICAgcmV0dXJuIHVybFRvSHR0cE9wdGlvbnModXJsKTtcbiAgfVxuICBpZiAoYXJnc1sxXSkge1xuICAgIGxvZ2dlcjMuaW5mbyhcImhhcyBjdXN0b20gUmVxdWVzdE9wdGlvbnMhXCIsIGFyZ3NbMV0pO1xuICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zRnJvbVVybCA9IHVybFRvSHR0cE9wdGlvbnModXJsKTtcbiAgICBsb2dnZXIzLmluZm8oXCJkZXJpdmVkIFJlcXVlc3RPcHRpb25zIGZyb20gdGhlIFVSTDpcIiwgcmVxdWVzdE9wdGlvbnNGcm9tVXJsKTtcbiAgICBsb2dnZXIzLmluZm8oXCJjbG9uaW5nIFJlcXVlc3RPcHRpb25zLi4uXCIpO1xuICAgIGNvbnN0IGNsb25lZFJlcXVlc3RPcHRpb25zID0gY2xvbmVPYmplY3QoYXJnc1sxXSk7XG4gICAgbG9nZ2VyMy5pbmZvKFwic3VjY2Vzc2Z1bGx5IGNsb25lZCBSZXF1ZXN0T3B0aW9ucyFcIiwgY2xvbmVkUmVxdWVzdE9wdGlvbnMpO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5yZXF1ZXN0T3B0aW9uc0Zyb21VcmwsXG4gICAgICAuLi5jbG9uZWRSZXF1ZXN0T3B0aW9uc1xuICAgIH07XG4gIH1cbiAgbG9nZ2VyMy5pbmZvKFwidXNpbmcgYW4gZW1wdHkgb2JqZWN0IGFzIHJlcXVlc3Qgb3B0aW9uc1wiKTtcbiAgcmV0dXJuIHt9O1xufVxuZnVuY3Rpb24gb3ZlcnJpZGVVcmxCeVJlcXVlc3RPcHRpb25zKHVybCwgb3B0aW9ucykge1xuICB1cmwuaG9zdCA9IG9wdGlvbnMuaG9zdCB8fCB1cmwuaG9zdDtcbiAgdXJsLmhvc3RuYW1lID0gb3B0aW9ucy5ob3N0bmFtZSB8fCB1cmwuaG9zdG5hbWU7XG4gIHVybC5wb3J0ID0gb3B0aW9ucy5wb3J0ID8gb3B0aW9ucy5wb3J0LnRvU3RyaW5nKCkgOiB1cmwucG9ydDtcbiAgaWYgKG9wdGlvbnMucGF0aCkge1xuICAgIGNvbnN0IHBhcnNlZE9wdGlvbnNQYXRoID0gcGFyc2VVcmwob3B0aW9ucy5wYXRoLCBmYWxzZSk7XG4gICAgdXJsLnBhdGhuYW1lID0gcGFyc2VkT3B0aW9uc1BhdGgucGF0aG5hbWUgfHwgXCJcIjtcbiAgICB1cmwuc2VhcmNoID0gcGFyc2VkT3B0aW9uc1BhdGguc2VhcmNoIHx8IFwiXCI7XG4gIH1cbiAgcmV0dXJuIHVybDtcbn1cbmZ1bmN0aW9uIHJlc29sdmVDYWxsYmFjayhhcmdzKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnc1sxXSA9PT0gXCJmdW5jdGlvblwiID8gYXJnc1sxXSA6IGFyZ3NbMl07XG59XG5mdW5jdGlvbiBub3JtYWxpemVDbGllbnRSZXF1ZXN0QXJncyhkZWZhdWx0UHJvdG9jb2wsIGFyZ3MpIHtcbiAgbGV0IHVybDtcbiAgbGV0IG9wdGlvbnM7XG4gIGxldCBjYWxsYmFjaztcbiAgbG9nZ2VyMy5pbmZvKFwiYXJndW1lbnRzXCIsIGFyZ3MpO1xuICBsb2dnZXIzLmluZm8oXCJ1c2luZyBkZWZhdWx0IHByb3RvY29sOlwiLCBkZWZhdWx0UHJvdG9jb2wpO1xuICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICBjb25zdCB1cmwyID0gbmV3IFVSTDIoXCJodHRwOi8vbG9jYWxob3N0XCIpO1xuICAgIGNvbnN0IG9wdGlvbnMyID0gcmVzb2x2ZVJlcXVlc3RPcHRpb25zKGFyZ3MsIHVybDIpO1xuICAgIHJldHVybiBbdXJsMiwgb3B0aW9uczJdO1xuICB9XG4gIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gXCJzdHJpbmdcIikge1xuICAgIGxvZ2dlcjMuaW5mbyhcImZpcnN0IGFyZ3VtZW50IGlzIGEgbG9jYXRpb24gc3RyaW5nOlwiLCBhcmdzWzBdKTtcbiAgICB1cmwgPSBuZXcgVVJMMihhcmdzWzBdKTtcbiAgICBsb2dnZXIzLmluZm8oXCJjcmVhdGVkIGEgdXJsOlwiLCB1cmwpO1xuICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zRnJvbVVybCA9IHVybFRvSHR0cE9wdGlvbnModXJsKTtcbiAgICBsb2dnZXIzLmluZm8oXCJyZXF1ZXN0IG9wdGlvbnMgZnJvbSB1cmw6XCIsIHJlcXVlc3RPcHRpb25zRnJvbVVybCk7XG4gICAgb3B0aW9ucyA9IHJlc29sdmVSZXF1ZXN0T3B0aW9ucyhhcmdzLCB1cmwpO1xuICAgIGxvZ2dlcjMuaW5mbyhcInJlc29sdmVkIHJlcXVlc3Qgb3B0aW9uczpcIiwgb3B0aW9ucyk7XG4gICAgY2FsbGJhY2sgPSByZXNvbHZlQ2FsbGJhY2soYXJncyk7XG4gIH0gZWxzZSBpZiAoYXJnc1swXSBpbnN0YW5jZW9mIFVSTDIpIHtcbiAgICB1cmwgPSBhcmdzWzBdO1xuICAgIGxvZ2dlcjMuaW5mbyhcImZpcnN0IGFyZ3VtZW50IGlzIGEgVVJMOlwiLCB1cmwpO1xuICAgIGlmICh0eXBlb2YgYXJnc1sxXSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBpc09iamVjdChhcmdzWzFdKSkge1xuICAgICAgdXJsID0gb3ZlcnJpZGVVcmxCeVJlcXVlc3RPcHRpb25zKHVybCwgYXJnc1sxXSk7XG4gICAgfVxuICAgIG9wdGlvbnMgPSByZXNvbHZlUmVxdWVzdE9wdGlvbnMoYXJncywgdXJsKTtcbiAgICBsb2dnZXIzLmluZm8oXCJkZXJpdmVkIHJlcXVlc3Qgb3B0aW9uczpcIiwgb3B0aW9ucyk7XG4gICAgY2FsbGJhY2sgPSByZXNvbHZlQ2FsbGJhY2soYXJncyk7XG4gIH0gZWxzZSBpZiAoXCJoYXNoXCIgaW4gYXJnc1swXSAmJiAhKFwibWV0aG9kXCIgaW4gYXJnc1swXSkpIHtcbiAgICBjb25zdCBbbGVnYWN5VXJsXSA9IGFyZ3M7XG4gICAgbG9nZ2VyMy5pbmZvKFwiZmlyc3QgYXJndW1lbnQgaXMgYSBsZWdhY3kgVVJMOlwiLCBsZWdhY3lVcmwpO1xuICAgIGlmIChsZWdhY3lVcmwuaG9zdG5hbWUgPT09IG51bGwpIHtcbiAgICAgIGxvZ2dlcjMuaW5mbyhcImdpdmVuIGxlZ2FjeSBVUkwgaXMgcmVsYXRpdmUgKG5vIGhvc3RuYW1lKVwiKTtcbiAgICAgIHJldHVybiBpc09iamVjdChhcmdzWzFdKSA/IG5vcm1hbGl6ZUNsaWVudFJlcXVlc3RBcmdzKGRlZmF1bHRQcm90b2NvbCwgW1xuICAgICAgICB7IHBhdGg6IGxlZ2FjeVVybC5wYXRoLCAuLi5hcmdzWzFdIH0sXG4gICAgICAgIGFyZ3NbMl1cbiAgICAgIF0pIDogbm9ybWFsaXplQ2xpZW50UmVxdWVzdEFyZ3MoZGVmYXVsdFByb3RvY29sLCBbXG4gICAgICAgIHsgcGF0aDogbGVnYWN5VXJsLnBhdGggfSxcbiAgICAgICAgYXJnc1sxXVxuICAgICAgXSk7XG4gICAgfVxuICAgIGxvZ2dlcjMuaW5mbyhcImdpdmVuIGxlZ2FjeSB1cmwgaXMgYWJzb2x1dGVcIik7XG4gICAgY29uc3QgcmVzb2x2ZWRVcmwgPSBuZXcgVVJMMihsZWdhY3lVcmwuaHJlZik7XG4gICAgcmV0dXJuIGFyZ3NbMV0gPT09IHZvaWQgMCA/IG5vcm1hbGl6ZUNsaWVudFJlcXVlc3RBcmdzKGRlZmF1bHRQcm90b2NvbCwgW3Jlc29sdmVkVXJsXSkgOiB0eXBlb2YgYXJnc1sxXSA9PT0gXCJmdW5jdGlvblwiID8gbm9ybWFsaXplQ2xpZW50UmVxdWVzdEFyZ3MoZGVmYXVsdFByb3RvY29sLCBbcmVzb2x2ZWRVcmwsIGFyZ3NbMV1dKSA6IG5vcm1hbGl6ZUNsaWVudFJlcXVlc3RBcmdzKGRlZmF1bHRQcm90b2NvbCwgW1xuICAgICAgcmVzb2x2ZWRVcmwsXG4gICAgICBhcmdzWzFdLFxuICAgICAgYXJnc1syXVxuICAgIF0pO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGFyZ3NbMF0pKSB7XG4gICAgb3B0aW9ucyA9IHsgLi4uYXJnc1swXSB9O1xuICAgIGxvZ2dlcjMuaW5mbyhcImZpcnN0IGFyZ3VtZW50IGlzIFJlcXVlc3RPcHRpb25zOlwiLCBvcHRpb25zKTtcbiAgICBvcHRpb25zLnByb3RvY29sID0gb3B0aW9ucy5wcm90b2NvbCB8fCBkZWZhdWx0UHJvdG9jb2w7XG4gICAgbG9nZ2VyMy5pbmZvKFwibm9ybWFsaXplZCByZXF1ZXN0IG9wdGlvbnM6XCIsIG9wdGlvbnMpO1xuICAgIHVybCA9IGdldFVybEJ5UmVxdWVzdE9wdGlvbnMob3B0aW9ucyk7XG4gICAgbG9nZ2VyMy5pbmZvKFwiY3JlYXRlZCBhIFVSTCBmcm9tIFJlcXVlc3RPcHRpb25zOlwiLCB1cmwuaHJlZik7XG4gICAgY2FsbGJhY2sgPSByZXNvbHZlQ2FsbGJhY2soYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEZhaWxlZCB0byBjb25zdHJ1Y3QgQ2xpZW50UmVxdWVzdCB3aXRoIHRoZXNlIHBhcmFtZXRlcnM6ICR7YXJnc31gXG4gICAgKTtcbiAgfVxuICBvcHRpb25zLnByb3RvY29sID0gb3B0aW9ucy5wcm90b2NvbCB8fCB1cmwucHJvdG9jb2w7XG4gIG9wdGlvbnMubWV0aG9kID0gb3B0aW9ucy5tZXRob2QgfHwgXCJHRVRcIjtcbiAgaWYgKHR5cGVvZiBvcHRpb25zLmFnZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY29uc3QgYWdlbnQgPSBvcHRpb25zLnByb3RvY29sID09PSBcImh0dHBzOlwiID8gbmV3IEh0dHBzQWdlbnQoe1xuICAgICAgLy8gQW55IG90aGVyIHZhbHVlIG90aGVyIHRoYW4gZmFsc2UgaXMgY29uc2lkZXJlZCBhcyB0cnVlLCBzbyB3ZSBkb24ndCBhZGQgdGhpcyBwcm9wZXJ0eSBpZiB1bmRlZmluZWQuXG4gICAgICAuLi5cInJlamVjdFVuYXV0aG9yaXplZFwiIGluIG9wdGlvbnMgJiYge1xuICAgICAgICByZWplY3RVbmF1dGhvcml6ZWQ6IG9wdGlvbnMucmVqZWN0VW5hdXRob3JpemVkXG4gICAgICB9XG4gICAgfSkgOiBuZXcgSHR0cEFnZW50KCk7XG4gICAgb3B0aW9ucy5hZ2VudCA9IGFnZW50O1xuICAgIGxvZ2dlcjMuaW5mbyhcInJlc29sdmVkIGZhbGxiYWNrIGFnZW50OlwiLCBhZ2VudCk7XG4gIH1cbiAgaWYgKCFvcHRpb25zLl9kZWZhdWx0QWdlbnQpIHtcbiAgICBsb2dnZXIzLmluZm8oXG4gICAgICAnaGFzIG5vIGRlZmF1bHQgYWdlbnQsIHNldHRpbmcgdGhlIGRlZmF1bHQgYWdlbnQgZm9yIFwiJXNcIicsXG4gICAgICBvcHRpb25zLnByb3RvY29sXG4gICAgKTtcbiAgICBvcHRpb25zLl9kZWZhdWx0QWdlbnQgPSBvcHRpb25zLnByb3RvY29sID09PSBcImh0dHBzOlwiID8gaHR0cHNHbG9iYWxBZ2VudCA6IGh0dHBHbG9iYWxBZ2VudDtcbiAgfVxuICBsb2dnZXIzLmluZm8oXCJzdWNjZXNzZnVsbHkgcmVzb2x2ZWQgdXJsOlwiLCB1cmwuaHJlZik7XG4gIGxvZ2dlcjMuaW5mbyhcInN1Y2Nlc3NmdWxseSByZXNvbHZlZCBvcHRpb25zOlwiLCBvcHRpb25zKTtcbiAgbG9nZ2VyMy5pbmZvKFwic3VjY2Vzc2Z1bGx5IHJlc29sdmVkIGNhbGxiYWNrOlwiLCBjYWxsYmFjayk7XG4gIGlmICghKHVybCBpbnN0YW5jZW9mIFVSTDIpKSB7XG4gICAgdXJsID0gdXJsLnRvU3RyaW5nKCk7XG4gIH1cbiAgcmV0dXJuIFt1cmwsIG9wdGlvbnMsIGNhbGxiYWNrXTtcbn1cblxuLy8gc3JjL2ludGVyY2VwdG9ycy9DbGllbnRSZXF1ZXN0L2luZGV4LnRzXG52YXIgX0NsaWVudFJlcXVlc3RJbnRlcmNlcHRvciA9IGNsYXNzIGV4dGVuZHMgSW50ZXJjZXB0b3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihfQ2xpZW50UmVxdWVzdEludGVyY2VwdG9yLnN5bWJvbCk7XG4gICAgdGhpcy5vblJlcXVlc3QgPSBhc3luYyAoe1xuICAgICAgcmVxdWVzdCxcbiAgICAgIHNvY2tldFxuICAgIH0pID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3RJZCA9IFJlZmxlY3QuZ2V0KHJlcXVlc3QsIGtSZXF1ZXN0SWQpO1xuICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBSZXF1ZXN0Q29udHJvbGxlcihyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGlzUmVxdWVzdEhhbmRsZWQgPSBhd2FpdCBoYW5kbGVSZXF1ZXN0KHtcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICBjb250cm9sbGVyLFxuICAgICAgICBlbWl0dGVyOiB0aGlzLmVtaXR0ZXIsXG4gICAgICAgIG9uUmVzcG9uc2U6IChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHNvY2tldC5yZXNwb25kV2l0aChyZXNwb25zZSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUmVxdWVzdEVycm9yOiAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBzb2NrZXQucmVzcG9uZFdpdGgocmVzcG9uc2UpO1xuICAgICAgICB9LFxuICAgICAgICBvbkVycm9yOiAoZXJyb3IpID0+IHtcbiAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgc29ja2V0LmVycm9yV2l0aChlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghaXNSZXF1ZXN0SGFuZGxlZCkge1xuICAgICAgICByZXR1cm4gc29ja2V0LnBhc3N0aHJvdWdoKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLm9uUmVzcG9uc2UgPSBhc3luYyAoe1xuICAgICAgcmVxdWVzdElkLFxuICAgICAgcmVxdWVzdCxcbiAgICAgIHJlc3BvbnNlLFxuICAgICAgaXNNb2NrZWRSZXNwb25zZVxuICAgIH0pID0+IHtcbiAgICAgIHJldHVybiBlbWl0QXN5bmModGhpcy5lbWl0dGVyLCBcInJlc3BvbnNlXCIsIHtcbiAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICByZXNwb25zZSxcbiAgICAgICAgaXNNb2NrZWRSZXNwb25zZVxuICAgICAgfSk7XG4gICAgfTtcbiAgfVxuICBzZXR1cCgpIHtcbiAgICBjb25zdCB7IGdldDogb3JpZ2luYWxHZXQsIHJlcXVlc3Q6IG9yaWdpbmFsUmVxdWVzdCB9ID0gaHR0cDI7XG4gICAgY29uc3QgeyBnZXQ6IG9yaWdpbmFsSHR0cHNHZXQsIHJlcXVlc3Q6IG9yaWdpbmFsSHR0cHNSZXF1ZXN0IH0gPSBodHRwczI7XG4gICAgY29uc3Qgb25SZXF1ZXN0ID0gdGhpcy5vblJlcXVlc3QuYmluZCh0aGlzKTtcbiAgICBjb25zdCBvblJlc3BvbnNlID0gdGhpcy5vblJlc3BvbnNlLmJpbmQodGhpcyk7XG4gICAgaHR0cDIucmVxdWVzdCA9IG5ldyBQcm94eShodHRwMi5yZXF1ZXN0LCB7XG4gICAgICBhcHBseTogKHRhcmdldCwgdGhpc0FyZywgYXJncykgPT4ge1xuICAgICAgICBjb25zdCBbdXJsLCBvcHRpb25zLCBjYWxsYmFja10gPSBub3JtYWxpemVDbGllbnRSZXF1ZXN0QXJncyhcbiAgICAgICAgICBcImh0dHA6XCIsXG4gICAgICAgICAgYXJnc1xuICAgICAgICApO1xuICAgICAgICBjb25zdCBtb2NrQWdlbnQgPSBuZXcgTW9ja0FnZW50KHtcbiAgICAgICAgICBjdXN0b21BZ2VudDogb3B0aW9ucy5hZ2VudCxcbiAgICAgICAgICBvblJlcXVlc3QsXG4gICAgICAgICAgb25SZXNwb25zZVxuICAgICAgICB9KTtcbiAgICAgICAgb3B0aW9ucy5hZ2VudCA9IG1vY2tBZ2VudDtcbiAgICAgICAgcmV0dXJuIFJlZmxlY3QuYXBwbHkodGFyZ2V0LCB0aGlzQXJnLCBbdXJsLCBvcHRpb25zLCBjYWxsYmFja10pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGh0dHAyLmdldCA9IG5ldyBQcm94eShodHRwMi5nZXQsIHtcbiAgICAgIGFwcGx5OiAodGFyZ2V0LCB0aGlzQXJnLCBhcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IFt1cmwsIG9wdGlvbnMsIGNhbGxiYWNrXSA9IG5vcm1hbGl6ZUNsaWVudFJlcXVlc3RBcmdzKFxuICAgICAgICAgIFwiaHR0cDpcIixcbiAgICAgICAgICBhcmdzXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IG1vY2tBZ2VudCA9IG5ldyBNb2NrQWdlbnQoe1xuICAgICAgICAgIGN1c3RvbUFnZW50OiBvcHRpb25zLmFnZW50LFxuICAgICAgICAgIG9uUmVxdWVzdCxcbiAgICAgICAgICBvblJlc3BvbnNlXG4gICAgICAgIH0pO1xuICAgICAgICBvcHRpb25zLmFnZW50ID0gbW9ja0FnZW50O1xuICAgICAgICByZXR1cm4gUmVmbGVjdC5hcHBseSh0YXJnZXQsIHRoaXNBcmcsIFt1cmwsIG9wdGlvbnMsIGNhbGxiYWNrXSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaHR0cHMyLnJlcXVlc3QgPSBuZXcgUHJveHkoaHR0cHMyLnJlcXVlc3QsIHtcbiAgICAgIGFwcGx5OiAodGFyZ2V0LCB0aGlzQXJnLCBhcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IFt1cmwsIG9wdGlvbnMsIGNhbGxiYWNrXSA9IG5vcm1hbGl6ZUNsaWVudFJlcXVlc3RBcmdzKFxuICAgICAgICAgIFwiaHR0cHM6XCIsXG4gICAgICAgICAgYXJnc1xuICAgICAgICApO1xuICAgICAgICBjb25zdCBtb2NrQWdlbnQgPSBuZXcgTW9ja0h0dHBzQWdlbnQoe1xuICAgICAgICAgIGN1c3RvbUFnZW50OiBvcHRpb25zLmFnZW50LFxuICAgICAgICAgIG9uUmVxdWVzdCxcbiAgICAgICAgICBvblJlc3BvbnNlXG4gICAgICAgIH0pO1xuICAgICAgICBvcHRpb25zLmFnZW50ID0gbW9ja0FnZW50O1xuICAgICAgICByZXR1cm4gUmVmbGVjdC5hcHBseSh0YXJnZXQsIHRoaXNBcmcsIFt1cmwsIG9wdGlvbnMsIGNhbGxiYWNrXSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaHR0cHMyLmdldCA9IG5ldyBQcm94eShodHRwczIuZ2V0LCB7XG4gICAgICBhcHBseTogKHRhcmdldCwgdGhpc0FyZywgYXJncykgPT4ge1xuICAgICAgICBjb25zdCBbdXJsLCBvcHRpb25zLCBjYWxsYmFja10gPSBub3JtYWxpemVDbGllbnRSZXF1ZXN0QXJncyhcbiAgICAgICAgICBcImh0dHBzOlwiLFxuICAgICAgICAgIGFyZ3NcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgbW9ja0FnZW50ID0gbmV3IE1vY2tIdHRwc0FnZW50KHtcbiAgICAgICAgICBjdXN0b21BZ2VudDogb3B0aW9ucy5hZ2VudCxcbiAgICAgICAgICBvblJlcXVlc3QsXG4gICAgICAgICAgb25SZXNwb25zZVxuICAgICAgICB9KTtcbiAgICAgICAgb3B0aW9ucy5hZ2VudCA9IG1vY2tBZ2VudDtcbiAgICAgICAgcmV0dXJuIFJlZmxlY3QuYXBwbHkodGFyZ2V0LCB0aGlzQXJnLCBbdXJsLCBvcHRpb25zLCBjYWxsYmFja10pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJlY29yZFJhd0ZldGNoSGVhZGVycygpO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKCgpID0+IHtcbiAgICAgIGh0dHAyLmdldCA9IG9yaWdpbmFsR2V0O1xuICAgICAgaHR0cDIucmVxdWVzdCA9IG9yaWdpbmFsUmVxdWVzdDtcbiAgICAgIGh0dHBzMi5nZXQgPSBvcmlnaW5hbEh0dHBzR2V0O1xuICAgICAgaHR0cHMyLnJlcXVlc3QgPSBvcmlnaW5hbEh0dHBzUmVxdWVzdDtcbiAgICAgIHJlc3RvcmVIZWFkZXJzUHJvdG90eXBlKCk7XG4gICAgfSk7XG4gIH1cbn07XG52YXIgQ2xpZW50UmVxdWVzdEludGVyY2VwdG9yID0gX0NsaWVudFJlcXVlc3RJbnRlcmNlcHRvcjtcbkNsaWVudFJlcXVlc3RJbnRlcmNlcHRvci5zeW1ib2wgPSBTeW1ib2woXCJjbGllbnQtcmVxdWVzdC1pbnRlcmNlcHRvclwiKTtcblxuZXhwb3J0IHtcbiAgQ2xpZW50UmVxdWVzdEludGVyY2VwdG9yXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstRldKU0MyUUQubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-FWJSC2QD.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-I7HQIBT7.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@mswjs/interceptors/lib/node/chunk-I7HQIBT7.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FetchResponse: () => (/* binding */ FetchResponse),\n/* harmony export */   INTERNAL_REQUEST_ID_HEADER_NAME: () => (/* binding */ INTERNAL_REQUEST_ID_HEADER_NAME),\n/* harmony export */   Interceptor: () => (/* binding */ Interceptor),\n/* harmony export */   InterceptorReadyState: () => (/* binding */ InterceptorReadyState),\n/* harmony export */   createRequestId: () => (/* binding */ createRequestId),\n/* harmony export */   deleteGlobalSymbol: () => (/* binding */ deleteGlobalSymbol),\n/* harmony export */   getGlobalSymbol: () => (/* binding */ getGlobalSymbol)\n/* harmony export */ });\n/* harmony import */ var _open_draft_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @open-draft/logger */ \"(rsc)/./node_modules/@open-draft/logger/lib/index.mjs\");\n/* harmony import */ var strict_event_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! strict-event-emitter */ \"(rsc)/./node_modules/strict-event-emitter/lib/index.mjs\");\n// src/Interceptor.ts\n\n\nvar INTERNAL_REQUEST_ID_HEADER_NAME = \"x-interceptors-internal-request-id\";\nfunction getGlobalSymbol(symbol) {\n  return (\n    // @ts-ignore https://github.com/Microsoft/TypeScript/issues/24587\n    globalThis[symbol] || void 0\n  );\n}\nfunction setGlobalSymbol(symbol, value) {\n  globalThis[symbol] = value;\n}\nfunction deleteGlobalSymbol(symbol) {\n  delete globalThis[symbol];\n}\nvar InterceptorReadyState = /* @__PURE__ */ ((InterceptorReadyState2) => {\n  InterceptorReadyState2[\"INACTIVE\"] = \"INACTIVE\";\n  InterceptorReadyState2[\"APPLYING\"] = \"APPLYING\";\n  InterceptorReadyState2[\"APPLIED\"] = \"APPLIED\";\n  InterceptorReadyState2[\"DISPOSING\"] = \"DISPOSING\";\n  InterceptorReadyState2[\"DISPOSED\"] = \"DISPOSED\";\n  return InterceptorReadyState2;\n})(InterceptorReadyState || {});\nvar Interceptor = class {\n  constructor(symbol) {\n    this.symbol = symbol;\n    this.readyState = \"INACTIVE\" /* INACTIVE */;\n    this.emitter = new strict_event_emitter__WEBPACK_IMPORTED_MODULE_1__.Emitter();\n    this.subscriptions = [];\n    this.logger = new _open_draft_logger__WEBPACK_IMPORTED_MODULE_0__.Logger(symbol.description);\n    this.emitter.setMaxListeners(0);\n    this.logger.info(\"constructing the interceptor...\");\n  }\n  /**\n   * Determine if this interceptor can be applied\n   * in the current environment.\n   */\n  checkEnvironment() {\n    return true;\n  }\n  /**\n   * Apply this interceptor to the current process.\n   * Returns an already running interceptor instance if it's present.\n   */\n  apply() {\n    const logger = this.logger.extend(\"apply\");\n    logger.info(\"applying the interceptor...\");\n    if (this.readyState === \"APPLIED\" /* APPLIED */) {\n      logger.info(\"intercepted already applied!\");\n      return;\n    }\n    const shouldApply = this.checkEnvironment();\n    if (!shouldApply) {\n      logger.info(\"the interceptor cannot be applied in this environment!\");\n      return;\n    }\n    this.readyState = \"APPLYING\" /* APPLYING */;\n    const runningInstance = this.getInstance();\n    if (runningInstance) {\n      logger.info(\"found a running instance, reusing...\");\n      this.on = (event, listener) => {\n        logger.info('proxying the \"%s\" listener', event);\n        runningInstance.emitter.addListener(event, listener);\n        this.subscriptions.push(() => {\n          runningInstance.emitter.removeListener(event, listener);\n          logger.info('removed proxied \"%s\" listener!', event);\n        });\n        return this;\n      };\n      this.readyState = \"APPLIED\" /* APPLIED */;\n      return;\n    }\n    logger.info(\"no running instance found, setting up a new instance...\");\n    this.setup();\n    this.setInstance();\n    this.readyState = \"APPLIED\" /* APPLIED */;\n  }\n  /**\n   * Setup the module augments and stubs necessary for this interceptor.\n   * This method is not run if there's a running interceptor instance\n   * to prevent instantiating an interceptor multiple times.\n   */\n  setup() {\n  }\n  /**\n   * Listen to the interceptor's public events.\n   */\n  on(event, listener) {\n    const logger = this.logger.extend(\"on\");\n    if (this.readyState === \"DISPOSING\" /* DISPOSING */ || this.readyState === \"DISPOSED\" /* DISPOSED */) {\n      logger.info(\"cannot listen to events, already disposed!\");\n      return this;\n    }\n    logger.info('adding \"%s\" event listener:', event, listener);\n    this.emitter.on(event, listener);\n    return this;\n  }\n  once(event, listener) {\n    this.emitter.once(event, listener);\n    return this;\n  }\n  off(event, listener) {\n    this.emitter.off(event, listener);\n    return this;\n  }\n  removeAllListeners(event) {\n    this.emitter.removeAllListeners(event);\n    return this;\n  }\n  /**\n   * Disposes of any side-effects this interceptor has introduced.\n   */\n  dispose() {\n    const logger = this.logger.extend(\"dispose\");\n    if (this.readyState === \"DISPOSED\" /* DISPOSED */) {\n      logger.info(\"cannot dispose, already disposed!\");\n      return;\n    }\n    logger.info(\"disposing the interceptor...\");\n    this.readyState = \"DISPOSING\" /* DISPOSING */;\n    if (!this.getInstance()) {\n      logger.info(\"no interceptors running, skipping dispose...\");\n      return;\n    }\n    this.clearInstance();\n    logger.info(\"global symbol deleted:\", getGlobalSymbol(this.symbol));\n    if (this.subscriptions.length > 0) {\n      logger.info(\"disposing of %d subscriptions...\", this.subscriptions.length);\n      for (const dispose of this.subscriptions) {\n        dispose();\n      }\n      this.subscriptions = [];\n      logger.info(\"disposed of all subscriptions!\", this.subscriptions.length);\n    }\n    this.emitter.removeAllListeners();\n    logger.info(\"destroyed the listener!\");\n    this.readyState = \"DISPOSED\" /* DISPOSED */;\n  }\n  getInstance() {\n    var _a;\n    const instance = getGlobalSymbol(this.symbol);\n    this.logger.info(\"retrieved global instance:\", (_a = instance == null ? void 0 : instance.constructor) == null ? void 0 : _a.name);\n    return instance;\n  }\n  setInstance() {\n    setGlobalSymbol(this.symbol, this);\n    this.logger.info(\"set global instance!\", this.symbol.description);\n  }\n  clearInstance() {\n    deleteGlobalSymbol(this.symbol);\n    this.logger.info(\"cleared global instance!\", this.symbol.description);\n  }\n};\n\n// src/createRequestId.ts\nfunction createRequestId() {\n  return Math.random().toString(16).slice(2);\n}\n\n// src/utils/fetchUtils.ts\nvar _FetchResponse = class extends Response {\n  static isConfigurableStatusCode(status) {\n    return status >= 200 && status <= 599;\n  }\n  static isRedirectResponse(status) {\n    return _FetchResponse.STATUS_CODES_WITH_REDIRECT.includes(status);\n  }\n  /**\n   * Returns a boolean indicating whether the given response status\n   * code represents a response that can have a body.\n   */\n  static isResponseWithBody(status) {\n    return !_FetchResponse.STATUS_CODES_WITHOUT_BODY.includes(status);\n  }\n  static setUrl(url, response) {\n    if (!url) {\n      return;\n    }\n    if (response.url != \"\") {\n      return;\n    }\n    Object.defineProperty(response, \"url\", {\n      value: url,\n      enumerable: true,\n      configurable: true,\n      writable: false\n    });\n  }\n  /**\n   * Parses the given raw HTTP headers into a Fetch API `Headers` instance.\n   */\n  static parseRawHeaders(rawHeaders) {\n    const headers = new Headers();\n    for (let line = 0; line < rawHeaders.length; line += 2) {\n      headers.append(rawHeaders[line], rawHeaders[line + 1]);\n    }\n    return headers;\n  }\n  constructor(body, init = {}) {\n    var _a;\n    const status = (_a = init.status) != null ? _a : 200;\n    const safeStatus = _FetchResponse.isConfigurableStatusCode(status) ? status : 200;\n    const finalBody = _FetchResponse.isResponseWithBody(status) ? body : null;\n    super(finalBody, {\n      ...init,\n      status: safeStatus\n    });\n    if (status !== safeStatus) {\n      const stateSymbol = Object.getOwnPropertySymbols(this).find(\n        (symbol) => symbol.description === \"state\"\n      );\n      if (stateSymbol) {\n        const state = Reflect.get(this, stateSymbol);\n        Reflect.set(state, \"status\", status);\n      } else {\n        Object.defineProperty(this, \"status\", {\n          value: status,\n          enumerable: true,\n          configurable: true,\n          writable: false\n        });\n      }\n    }\n    _FetchResponse.setUrl(init.url, this);\n  }\n};\nvar FetchResponse = _FetchResponse;\n/**\n * Response status codes for responses that cannot have body.\n * @see https://fetch.spec.whatwg.org/#statuses\n */\nFetchResponse.STATUS_CODES_WITHOUT_BODY = [101, 103, 204, 205, 304];\nFetchResponse.STATUS_CODES_WITH_REDIRECT = [301, 302, 303, 307, 308];\n\n\n//# sourceMappingURL=chunk-I7HQIBT7.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvbm9kZS9jaHVuay1JN0hRSUJUNy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDNEM7QUFDRztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw2QkFBNkI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIseURBQU87QUFDOUI7QUFDQSxzQkFBc0Isc0RBQU07QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwwQkFBMEI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBVUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvcmlrdXNlbi93b3Jrc3BhY2UvbmV4dGpzLW1zdy1yZXByb2R1Y3Rpb24vbm9kZV9tb2R1bGVzL0Btc3dqcy9pbnRlcmNlcHRvcnMvbGliL25vZGUvY2h1bmstSTdIUUlCVDcubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9JbnRlcmNlcHRvci50c1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIkBvcGVuLWRyYWZ0L2xvZ2dlclwiO1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gXCJzdHJpY3QtZXZlbnQtZW1pdHRlclwiO1xudmFyIElOVEVSTkFMX1JFUVVFU1RfSURfSEVBREVSX05BTUUgPSBcIngtaW50ZXJjZXB0b3JzLWludGVybmFsLXJlcXVlc3QtaWRcIjtcbmZ1bmN0aW9uIGdldEdsb2JhbFN5bWJvbChzeW1ib2wpIHtcbiAgcmV0dXJuIChcbiAgICAvLyBAdHMtaWdub3JlIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjQ1ODdcbiAgICBnbG9iYWxUaGlzW3N5bWJvbF0gfHwgdm9pZCAwXG4gICk7XG59XG5mdW5jdGlvbiBzZXRHbG9iYWxTeW1ib2woc3ltYm9sLCB2YWx1ZSkge1xuICBnbG9iYWxUaGlzW3N5bWJvbF0gPSB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGRlbGV0ZUdsb2JhbFN5bWJvbChzeW1ib2wpIHtcbiAgZGVsZXRlIGdsb2JhbFRoaXNbc3ltYm9sXTtcbn1cbnZhciBJbnRlcmNlcHRvclJlYWR5U3RhdGUgPSAvKiBAX19QVVJFX18gKi8gKChJbnRlcmNlcHRvclJlYWR5U3RhdGUyKSA9PiB7XG4gIEludGVyY2VwdG9yUmVhZHlTdGF0ZTJbXCJJTkFDVElWRVwiXSA9IFwiSU5BQ1RJVkVcIjtcbiAgSW50ZXJjZXB0b3JSZWFkeVN0YXRlMltcIkFQUExZSU5HXCJdID0gXCJBUFBMWUlOR1wiO1xuICBJbnRlcmNlcHRvclJlYWR5U3RhdGUyW1wiQVBQTElFRFwiXSA9IFwiQVBQTElFRFwiO1xuICBJbnRlcmNlcHRvclJlYWR5U3RhdGUyW1wiRElTUE9TSU5HXCJdID0gXCJESVNQT1NJTkdcIjtcbiAgSW50ZXJjZXB0b3JSZWFkeVN0YXRlMltcIkRJU1BPU0VEXCJdID0gXCJESVNQT1NFRFwiO1xuICByZXR1cm4gSW50ZXJjZXB0b3JSZWFkeVN0YXRlMjtcbn0pKEludGVyY2VwdG9yUmVhZHlTdGF0ZSB8fCB7fSk7XG52YXIgSW50ZXJjZXB0b3IgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHN5bWJvbCkge1xuICAgIHRoaXMuc3ltYm9sID0gc3ltYm9sO1xuICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwiSU5BQ1RJVkVcIiAvKiBJTkFDVElWRSAqLztcbiAgICB0aGlzLmVtaXR0ZXIgPSBuZXcgRW1pdHRlcigpO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgIHRoaXMubG9nZ2VyID0gbmV3IExvZ2dlcihzeW1ib2wuZGVzY3JpcHRpb24pO1xuICAgIHRoaXMuZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoMCk7XG4gICAgdGhpcy5sb2dnZXIuaW5mbyhcImNvbnN0cnVjdGluZyB0aGUgaW50ZXJjZXB0b3IuLi5cIik7XG4gIH1cbiAgLyoqXG4gICAqIERldGVybWluZSBpZiB0aGlzIGludGVyY2VwdG9yIGNhbiBiZSBhcHBsaWVkXG4gICAqIGluIHRoZSBjdXJyZW50IGVudmlyb25tZW50LlxuICAgKi9cbiAgY2hlY2tFbnZpcm9ubWVudCgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogQXBwbHkgdGhpcyBpbnRlcmNlcHRvciB0byB0aGUgY3VycmVudCBwcm9jZXNzLlxuICAgKiBSZXR1cm5zIGFuIGFscmVhZHkgcnVubmluZyBpbnRlcmNlcHRvciBpbnN0YW5jZSBpZiBpdCdzIHByZXNlbnQuXG4gICAqL1xuICBhcHBseSgpIHtcbiAgICBjb25zdCBsb2dnZXIgPSB0aGlzLmxvZ2dlci5leHRlbmQoXCJhcHBseVwiKTtcbiAgICBsb2dnZXIuaW5mbyhcImFwcGx5aW5nIHRoZSBpbnRlcmNlcHRvci4uLlwiKTtcbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBcIkFQUExJRURcIiAvKiBBUFBMSUVEICovKSB7XG4gICAgICBsb2dnZXIuaW5mbyhcImludGVyY2VwdGVkIGFscmVhZHkgYXBwbGllZCFcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNob3VsZEFwcGx5ID0gdGhpcy5jaGVja0Vudmlyb25tZW50KCk7XG4gICAgaWYgKCFzaG91bGRBcHBseSkge1xuICAgICAgbG9nZ2VyLmluZm8oXCJ0aGUgaW50ZXJjZXB0b3IgY2Fubm90IGJlIGFwcGxpZWQgaW4gdGhpcyBlbnZpcm9ubWVudCFcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwiQVBQTFlJTkdcIiAvKiBBUFBMWUlORyAqLztcbiAgICBjb25zdCBydW5uaW5nSW5zdGFuY2UgPSB0aGlzLmdldEluc3RhbmNlKCk7XG4gICAgaWYgKHJ1bm5pbmdJbnN0YW5jZSkge1xuICAgICAgbG9nZ2VyLmluZm8oXCJmb3VuZCBhIHJ1bm5pbmcgaW5zdGFuY2UsIHJldXNpbmcuLi5cIik7XG4gICAgICB0aGlzLm9uID0gKGV2ZW50LCBsaXN0ZW5lcikgPT4ge1xuICAgICAgICBsb2dnZXIuaW5mbygncHJveHlpbmcgdGhlIFwiJXNcIiBsaXN0ZW5lcicsIGV2ZW50KTtcbiAgICAgICAgcnVubmluZ0luc3RhbmNlLmVtaXR0ZXIuYWRkTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goKCkgPT4ge1xuICAgICAgICAgIHJ1bm5pbmdJbnN0YW5jZS5lbWl0dGVyLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICAgICAgbG9nZ2VyLmluZm8oJ3JlbW92ZWQgcHJveGllZCBcIiVzXCIgbGlzdGVuZXIhJywgZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9O1xuICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJBUFBMSUVEXCIgLyogQVBQTElFRCAqLztcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbG9nZ2VyLmluZm8oXCJubyBydW5uaW5nIGluc3RhbmNlIGZvdW5kLCBzZXR0aW5nIHVwIGEgbmV3IGluc3RhbmNlLi4uXCIpO1xuICAgIHRoaXMuc2V0dXAoKTtcbiAgICB0aGlzLnNldEluc3RhbmNlKCk7XG4gICAgdGhpcy5yZWFkeVN0YXRlID0gXCJBUFBMSUVEXCIgLyogQVBQTElFRCAqLztcbiAgfVxuICAvKipcbiAgICogU2V0dXAgdGhlIG1vZHVsZSBhdWdtZW50cyBhbmQgc3R1YnMgbmVjZXNzYXJ5IGZvciB0aGlzIGludGVyY2VwdG9yLlxuICAgKiBUaGlzIG1ldGhvZCBpcyBub3QgcnVuIGlmIHRoZXJlJ3MgYSBydW5uaW5nIGludGVyY2VwdG9yIGluc3RhbmNlXG4gICAqIHRvIHByZXZlbnQgaW5zdGFudGlhdGluZyBhbiBpbnRlcmNlcHRvciBtdWx0aXBsZSB0aW1lcy5cbiAgICovXG4gIHNldHVwKCkge1xuICB9XG4gIC8qKlxuICAgKiBMaXN0ZW4gdG8gdGhlIGludGVyY2VwdG9yJ3MgcHVibGljIGV2ZW50cy5cbiAgICovXG4gIG9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgIGNvbnN0IGxvZ2dlciA9IHRoaXMubG9nZ2VyLmV4dGVuZChcIm9uXCIpO1xuICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IFwiRElTUE9TSU5HXCIgLyogRElTUE9TSU5HICovIHx8IHRoaXMucmVhZHlTdGF0ZSA9PT0gXCJESVNQT1NFRFwiIC8qIERJU1BPU0VEICovKSB7XG4gICAgICBsb2dnZXIuaW5mbyhcImNhbm5vdCBsaXN0ZW4gdG8gZXZlbnRzLCBhbHJlYWR5IGRpc3Bvc2VkIVwiKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBsb2dnZXIuaW5mbygnYWRkaW5nIFwiJXNcIiBldmVudCBsaXN0ZW5lcjonLCBldmVudCwgbGlzdGVuZXIpO1xuICAgIHRoaXMuZW1pdHRlci5vbihldmVudCwgbGlzdGVuZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIG9uY2UoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgdGhpcy5lbWl0dGVyLm9uY2UoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBvZmYoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgdGhpcy5lbWl0dGVyLm9mZihldmVudCwgbGlzdGVuZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICAgIHRoaXMuZW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBEaXNwb3NlcyBvZiBhbnkgc2lkZS1lZmZlY3RzIHRoaXMgaW50ZXJjZXB0b3IgaGFzIGludHJvZHVjZWQuXG4gICAqL1xuICBkaXNwb3NlKCkge1xuICAgIGNvbnN0IGxvZ2dlciA9IHRoaXMubG9nZ2VyLmV4dGVuZChcImRpc3Bvc2VcIik7XG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gXCJESVNQT1NFRFwiIC8qIERJU1BPU0VEICovKSB7XG4gICAgICBsb2dnZXIuaW5mbyhcImNhbm5vdCBkaXNwb3NlLCBhbHJlYWR5IGRpc3Bvc2VkIVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbG9nZ2VyLmluZm8oXCJkaXNwb3NpbmcgdGhlIGludGVyY2VwdG9yLi4uXCIpO1xuICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwiRElTUE9TSU5HXCIgLyogRElTUE9TSU5HICovO1xuICAgIGlmICghdGhpcy5nZXRJbnN0YW5jZSgpKSB7XG4gICAgICBsb2dnZXIuaW5mbyhcIm5vIGludGVyY2VwdG9ycyBydW5uaW5nLCBza2lwcGluZyBkaXNwb3NlLi4uXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNsZWFySW5zdGFuY2UoKTtcbiAgICBsb2dnZXIuaW5mbyhcImdsb2JhbCBzeW1ib2wgZGVsZXRlZDpcIiwgZ2V0R2xvYmFsU3ltYm9sKHRoaXMuc3ltYm9sKSk7XG4gICAgaWYgKHRoaXMuc3Vic2NyaXB0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICBsb2dnZXIuaW5mbyhcImRpc3Bvc2luZyBvZiAlZCBzdWJzY3JpcHRpb25zLi4uXCIsIHRoaXMuc3Vic2NyaXB0aW9ucy5sZW5ndGgpO1xuICAgICAgZm9yIChjb25zdCBkaXNwb3NlIG9mIHRoaXMuc3Vic2NyaXB0aW9ucykge1xuICAgICAgICBkaXNwb3NlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICAgIGxvZ2dlci5pbmZvKFwiZGlzcG9zZWQgb2YgYWxsIHN1YnNjcmlwdGlvbnMhXCIsIHRoaXMuc3Vic2NyaXB0aW9ucy5sZW5ndGgpO1xuICAgIH1cbiAgICB0aGlzLmVtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgbG9nZ2VyLmluZm8oXCJkZXN0cm95ZWQgdGhlIGxpc3RlbmVyIVwiKTtcbiAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIkRJU1BPU0VEXCIgLyogRElTUE9TRUQgKi87XG4gIH1cbiAgZ2V0SW5zdGFuY2UoKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0R2xvYmFsU3ltYm9sKHRoaXMuc3ltYm9sKTtcbiAgICB0aGlzLmxvZ2dlci5pbmZvKFwicmV0cmlldmVkIGdsb2JhbCBpbnN0YW5jZTpcIiwgKF9hID0gaW5zdGFuY2UgPT0gbnVsbCA/IHZvaWQgMCA6IGluc3RhbmNlLmNvbnN0cnVjdG9yKSA9PSBudWxsID8gdm9pZCAwIDogX2EubmFtZSk7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9XG4gIHNldEluc3RhbmNlKCkge1xuICAgIHNldEdsb2JhbFN5bWJvbCh0aGlzLnN5bWJvbCwgdGhpcyk7XG4gICAgdGhpcy5sb2dnZXIuaW5mbyhcInNldCBnbG9iYWwgaW5zdGFuY2UhXCIsIHRoaXMuc3ltYm9sLmRlc2NyaXB0aW9uKTtcbiAgfVxuICBjbGVhckluc3RhbmNlKCkge1xuICAgIGRlbGV0ZUdsb2JhbFN5bWJvbCh0aGlzLnN5bWJvbCk7XG4gICAgdGhpcy5sb2dnZXIuaW5mbyhcImNsZWFyZWQgZ2xvYmFsIGluc3RhbmNlIVwiLCB0aGlzLnN5bWJvbC5kZXNjcmlwdGlvbik7XG4gIH1cbn07XG5cbi8vIHNyYy9jcmVhdGVSZXF1ZXN0SWQudHNcbmZ1bmN0aW9uIGNyZWF0ZVJlcXVlc3RJZCgpIHtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnNsaWNlKDIpO1xufVxuXG4vLyBzcmMvdXRpbHMvZmV0Y2hVdGlscy50c1xudmFyIF9GZXRjaFJlc3BvbnNlID0gY2xhc3MgZXh0ZW5kcyBSZXNwb25zZSB7XG4gIHN0YXRpYyBpc0NvbmZpZ3VyYWJsZVN0YXR1c0NvZGUoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDw9IDU5OTtcbiAgfVxuICBzdGF0aWMgaXNSZWRpcmVjdFJlc3BvbnNlKHN0YXR1cykge1xuICAgIHJldHVybiBfRmV0Y2hSZXNwb25zZS5TVEFUVVNfQ09ERVNfV0lUSF9SRURJUkVDVC5pbmNsdWRlcyhzdGF0dXMpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGdpdmVuIHJlc3BvbnNlIHN0YXR1c1xuICAgKiBjb2RlIHJlcHJlc2VudHMgYSByZXNwb25zZSB0aGF0IGNhbiBoYXZlIGEgYm9keS5cbiAgICovXG4gIHN0YXRpYyBpc1Jlc3BvbnNlV2l0aEJvZHkoc3RhdHVzKSB7XG4gICAgcmV0dXJuICFfRmV0Y2hSZXNwb25zZS5TVEFUVVNfQ09ERVNfV0lUSE9VVF9CT0RZLmluY2x1ZGVzKHN0YXR1cyk7XG4gIH1cbiAgc3RhdGljIHNldFVybCh1cmwsIHJlc3BvbnNlKSB7XG4gICAgaWYgKCF1cmwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHJlc3BvbnNlLnVybCAhPSBcIlwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXNwb25zZSwgXCJ1cmxcIiwge1xuICAgICAgdmFsdWU6IHVybCxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogZmFsc2VcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUGFyc2VzIHRoZSBnaXZlbiByYXcgSFRUUCBoZWFkZXJzIGludG8gYSBGZXRjaCBBUEkgYEhlYWRlcnNgIGluc3RhbmNlLlxuICAgKi9cbiAgc3RhdGljIHBhcnNlUmF3SGVhZGVycyhyYXdIZWFkZXJzKSB7XG4gICAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gICAgZm9yIChsZXQgbGluZSA9IDA7IGxpbmUgPCByYXdIZWFkZXJzLmxlbmd0aDsgbGluZSArPSAyKSB7XG4gICAgICBoZWFkZXJzLmFwcGVuZChyYXdIZWFkZXJzW2xpbmVdLCByYXdIZWFkZXJzW2xpbmUgKyAxXSk7XG4gICAgfVxuICAgIHJldHVybiBoZWFkZXJzO1xuICB9XG4gIGNvbnN0cnVjdG9yKGJvZHksIGluaXQgPSB7fSkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBzdGF0dXMgPSAoX2EgPSBpbml0LnN0YXR1cykgIT0gbnVsbCA/IF9hIDogMjAwO1xuICAgIGNvbnN0IHNhZmVTdGF0dXMgPSBfRmV0Y2hSZXNwb25zZS5pc0NvbmZpZ3VyYWJsZVN0YXR1c0NvZGUoc3RhdHVzKSA/IHN0YXR1cyA6IDIwMDtcbiAgICBjb25zdCBmaW5hbEJvZHkgPSBfRmV0Y2hSZXNwb25zZS5pc1Jlc3BvbnNlV2l0aEJvZHkoc3RhdHVzKSA/IGJvZHkgOiBudWxsO1xuICAgIHN1cGVyKGZpbmFsQm9keSwge1xuICAgICAgLi4uaW5pdCxcbiAgICAgIHN0YXR1czogc2FmZVN0YXR1c1xuICAgIH0pO1xuICAgIGlmIChzdGF0dXMgIT09IHNhZmVTdGF0dXMpIHtcbiAgICAgIGNvbnN0IHN0YXRlU3ltYm9sID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0aGlzKS5maW5kKFxuICAgICAgICAoc3ltYm9sKSA9PiBzeW1ib2wuZGVzY3JpcHRpb24gPT09IFwic3RhdGVcIlxuICAgICAgKTtcbiAgICAgIGlmIChzdGF0ZVN5bWJvbCkge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IFJlZmxlY3QuZ2V0KHRoaXMsIHN0YXRlU3ltYm9sKTtcbiAgICAgICAgUmVmbGVjdC5zZXQoc3RhdGUsIFwic3RhdHVzXCIsIHN0YXR1cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdGF0dXNcIiwge1xuICAgICAgICAgIHZhbHVlOiBzdGF0dXMsXG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgd3JpdGFibGU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBfRmV0Y2hSZXNwb25zZS5zZXRVcmwoaW5pdC51cmwsIHRoaXMpO1xuICB9XG59O1xudmFyIEZldGNoUmVzcG9uc2UgPSBfRmV0Y2hSZXNwb25zZTtcbi8qKlxuICogUmVzcG9uc2Ugc3RhdHVzIGNvZGVzIGZvciByZXNwb25zZXMgdGhhdCBjYW5ub3QgaGF2ZSBib2R5LlxuICogQHNlZSBodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jc3RhdHVzZXNcbiAqL1xuRmV0Y2hSZXNwb25zZS5TVEFUVVNfQ09ERVNfV0lUSE9VVF9CT0RZID0gWzEwMSwgMTAzLCAyMDQsIDIwNSwgMzA0XTtcbkZldGNoUmVzcG9uc2UuU1RBVFVTX0NPREVTX1dJVEhfUkVESVJFQ1QgPSBbMzAxLCAzMDIsIDMwMywgMzA3LCAzMDhdO1xuXG5leHBvcnQge1xuICBJTlRFUk5BTF9SRVFVRVNUX0lEX0hFQURFUl9OQU1FLFxuICBnZXRHbG9iYWxTeW1ib2wsXG4gIGRlbGV0ZUdsb2JhbFN5bWJvbCxcbiAgSW50ZXJjZXB0b3JSZWFkeVN0YXRlLFxuICBJbnRlcmNlcHRvcixcbiAgY3JlYXRlUmVxdWVzdElkLFxuICBGZXRjaFJlc3BvbnNlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstSTdIUUlCVDcubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-I7HQIBT7.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-OMWE7UVM.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@mswjs/interceptors/lib/node/chunk-OMWE7UVM.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   XMLHttpRequestInterceptor: () => (/* binding */ XMLHttpRequestInterceptor)\n/* harmony export */ });\n/* harmony import */ var _chunk_6HYIRFX2_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-6HYIRFX2.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-6HYIRFX2.mjs\");\n/* harmony import */ var _chunk_TX5GBTFY_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-TX5GBTFY.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-TX5GBTFY.mjs\");\n/* harmony import */ var _chunk_6YM4PLBI_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-6YM4PLBI.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-6YM4PLBI.mjs\");\n/* harmony import */ var _chunk_5KMS5CTP_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-5KMS5CTP.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-5KMS5CTP.mjs\");\n/* harmony import */ var _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-I7HQIBT7.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-I7HQIBT7.mjs\");\n/* harmony import */ var outvariant__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! outvariant */ \"(rsc)/./node_modules/outvariant/lib/index.mjs\");\n/* harmony import */ var is_node_process__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! is-node-process */ \"(rsc)/./node_modules/is-node-process/lib/index.mjs\");\n\n\n\n\n\n\n// src/interceptors/XMLHttpRequest/index.ts\n\n\n// src/interceptors/XMLHttpRequest/XMLHttpRequestController.ts\n\n\n\n// src/interceptors/XMLHttpRequest/utils/concatArrayBuffer.ts\nfunction concatArrayBuffer(left, right) {\n  const result = new Uint8Array(left.byteLength + right.byteLength);\n  result.set(left, 0);\n  result.set(right, left.byteLength);\n  return result;\n}\n\n// src/interceptors/XMLHttpRequest/polyfills/EventPolyfill.ts\nvar EventPolyfill = class {\n  constructor(type, options) {\n    this.NONE = 0;\n    this.CAPTURING_PHASE = 1;\n    this.AT_TARGET = 2;\n    this.BUBBLING_PHASE = 3;\n    this.type = \"\";\n    this.srcElement = null;\n    this.currentTarget = null;\n    this.eventPhase = 0;\n    this.isTrusted = true;\n    this.composed = false;\n    this.cancelable = true;\n    this.defaultPrevented = false;\n    this.bubbles = true;\n    this.lengthComputable = true;\n    this.loaded = 0;\n    this.total = 0;\n    this.cancelBubble = false;\n    this.returnValue = true;\n    this.type = type;\n    this.target = (options == null ? void 0 : options.target) || null;\n    this.currentTarget = (options == null ? void 0 : options.currentTarget) || null;\n    this.timeStamp = Date.now();\n  }\n  composedPath() {\n    return [];\n  }\n  initEvent(type, bubbles, cancelable) {\n    this.type = type;\n    this.bubbles = !!bubbles;\n    this.cancelable = !!cancelable;\n  }\n  preventDefault() {\n    this.defaultPrevented = true;\n  }\n  stopPropagation() {\n  }\n  stopImmediatePropagation() {\n  }\n};\n\n// src/interceptors/XMLHttpRequest/polyfills/ProgressEventPolyfill.ts\nvar ProgressEventPolyfill = class extends EventPolyfill {\n  constructor(type, init) {\n    super(type);\n    this.lengthComputable = (init == null ? void 0 : init.lengthComputable) || false;\n    this.composed = (init == null ? void 0 : init.composed) || false;\n    this.loaded = (init == null ? void 0 : init.loaded) || 0;\n    this.total = (init == null ? void 0 : init.total) || 0;\n  }\n};\n\n// src/interceptors/XMLHttpRequest/utils/createEvent.ts\nvar SUPPORTS_PROGRESS_EVENT = typeof ProgressEvent !== \"undefined\";\nfunction createEvent(target, type, init) {\n  const progressEvents = [\n    \"error\",\n    \"progress\",\n    \"loadstart\",\n    \"loadend\",\n    \"load\",\n    \"timeout\",\n    \"abort\"\n  ];\n  const ProgressEventClass = SUPPORTS_PROGRESS_EVENT ? ProgressEvent : ProgressEventPolyfill;\n  const event = progressEvents.includes(type) ? new ProgressEventClass(type, {\n    lengthComputable: true,\n    loaded: (init == null ? void 0 : init.loaded) || 0,\n    total: (init == null ? void 0 : init.total) || 0\n  }) : new EventPolyfill(type, {\n    target,\n    currentTarget: target\n  });\n  return event;\n}\n\n// src/utils/findPropertySource.ts\nfunction findPropertySource(target, propertyName) {\n  if (!(propertyName in target)) {\n    return null;\n  }\n  const hasProperty = Object.prototype.hasOwnProperty.call(target, propertyName);\n  if (hasProperty) {\n    return target;\n  }\n  const prototype = Reflect.getPrototypeOf(target);\n  return prototype ? findPropertySource(prototype, propertyName) : null;\n}\n\n// src/utils/createProxy.ts\nfunction createProxy(target, options) {\n  const proxy = new Proxy(target, optionsToProxyHandler(options));\n  return proxy;\n}\nfunction optionsToProxyHandler(options) {\n  const { constructorCall, methodCall, getProperty, setProperty } = options;\n  const handler = {};\n  if (typeof constructorCall !== \"undefined\") {\n    handler.construct = function(target, args, newTarget) {\n      const next = Reflect.construct.bind(null, target, args, newTarget);\n      return constructorCall.call(newTarget, args, next);\n    };\n  }\n  handler.set = function(target, propertyName, nextValue) {\n    const next = () => {\n      const propertySource = findPropertySource(target, propertyName) || target;\n      const ownDescriptors = Reflect.getOwnPropertyDescriptor(\n        propertySource,\n        propertyName\n      );\n      if (typeof (ownDescriptors == null ? void 0 : ownDescriptors.set) !== \"undefined\") {\n        ownDescriptors.set.apply(target, [nextValue]);\n        return true;\n      }\n      return Reflect.defineProperty(propertySource, propertyName, {\n        writable: true,\n        enumerable: true,\n        configurable: true,\n        value: nextValue\n      });\n    };\n    if (typeof setProperty !== \"undefined\") {\n      return setProperty.call(target, [propertyName, nextValue], next);\n    }\n    return next();\n  };\n  handler.get = function(target, propertyName, receiver) {\n    const next = () => target[propertyName];\n    const value = typeof getProperty !== \"undefined\" ? getProperty.call(target, [propertyName, receiver], next) : next();\n    if (typeof value === \"function\") {\n      return (...args) => {\n        const next2 = value.bind(target, ...args);\n        if (typeof methodCall !== \"undefined\") {\n          return methodCall.call(target, [propertyName, args], next2);\n        }\n        return next2();\n      };\n    }\n    return value;\n  };\n  return handler;\n}\n\n// src/interceptors/XMLHttpRequest/utils/isDomParserSupportedType.ts\nfunction isDomParserSupportedType(type) {\n  const supportedTypes = [\n    \"application/xhtml+xml\",\n    \"application/xml\",\n    \"image/svg+xml\",\n    \"text/html\",\n    \"text/xml\"\n  ];\n  return supportedTypes.some((supportedType) => {\n    return type.startsWith(supportedType);\n  });\n}\n\n// src/utils/parseJson.ts\nfunction parseJson(data) {\n  try {\n    const json = JSON.parse(data);\n    return json;\n  } catch (_) {\n    return null;\n  }\n}\n\n// src/interceptors/XMLHttpRequest/utils/createResponse.ts\nfunction createResponse(request, body) {\n  const responseBodyOrNull = _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_4__.FetchResponse.isResponseWithBody(request.status) ? body : null;\n  return new _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_4__.FetchResponse(responseBodyOrNull, {\n    url: request.responseURL,\n    status: request.status,\n    statusText: request.statusText,\n    headers: createHeadersFromXMLHttpReqestHeaders(\n      request.getAllResponseHeaders()\n    )\n  });\n}\nfunction createHeadersFromXMLHttpReqestHeaders(headersString) {\n  const headers = new Headers();\n  const lines = headersString.split(/[\\r\\n]+/);\n  for (const line of lines) {\n    if (line.trim() === \"\") {\n      continue;\n    }\n    const [name, ...parts] = line.split(\": \");\n    const value = parts.join(\": \");\n    headers.append(name, value);\n  }\n  return headers;\n}\n\n// src/interceptors/XMLHttpRequest/utils/getBodyByteLength.ts\nasync function getBodyByteLength(input) {\n  const explicitContentLength = input.headers.get(\"content-length\");\n  if (explicitContentLength != null && explicitContentLength !== \"\") {\n    return Number(explicitContentLength);\n  }\n  const buffer = await input.arrayBuffer();\n  return buffer.byteLength;\n}\n\n// src/interceptors/XMLHttpRequest/XMLHttpRequestController.ts\nvar kIsRequestHandled = Symbol(\"kIsRequestHandled\");\nvar IS_NODE = (0,is_node_process__WEBPACK_IMPORTED_MODULE_6__.isNodeProcess)();\nvar kFetchRequest = Symbol(\"kFetchRequest\");\nvar XMLHttpRequestController = class {\n  constructor(initialRequest, logger) {\n    this.initialRequest = initialRequest;\n    this.logger = logger;\n    this.method = \"GET\";\n    this.url = null;\n    this[kIsRequestHandled] = false;\n    this.events = /* @__PURE__ */ new Map();\n    this.uploadEvents = /* @__PURE__ */ new Map();\n    this.requestId = (0,_chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_4__.createRequestId)();\n    this.requestHeaders = new Headers();\n    this.responseBuffer = new Uint8Array();\n    this.request = createProxy(initialRequest, {\n      setProperty: ([propertyName, nextValue], invoke) => {\n        switch (propertyName) {\n          case \"ontimeout\": {\n            const eventName = propertyName.slice(\n              2\n            );\n            this.request.addEventListener(eventName, nextValue);\n            return invoke();\n          }\n          default: {\n            return invoke();\n          }\n        }\n      },\n      methodCall: ([methodName, args], invoke) => {\n        var _a;\n        switch (methodName) {\n          case \"open\": {\n            const [method, url] = args;\n            if (typeof url === \"undefined\") {\n              this.method = \"GET\";\n              this.url = toAbsoluteUrl(method);\n            } else {\n              this.method = method;\n              this.url = toAbsoluteUrl(url);\n            }\n            this.logger = this.logger.extend(`${this.method} ${this.url.href}`);\n            this.logger.info(\"open\", this.method, this.url.href);\n            return invoke();\n          }\n          case \"addEventListener\": {\n            const [eventName, listener] = args;\n            this.registerEvent(eventName, listener);\n            this.logger.info(\"addEventListener\", eventName, listener);\n            return invoke();\n          }\n          case \"setRequestHeader\": {\n            const [name, value] = args;\n            this.requestHeaders.set(name, value);\n            this.logger.info(\"setRequestHeader\", name, value);\n            return invoke();\n          }\n          case \"send\": {\n            const [body] = args;\n            this.request.addEventListener(\"load\", () => {\n              if (typeof this.onResponse !== \"undefined\") {\n                const fetchResponse = createResponse(\n                  this.request,\n                  /**\n                   * The `response` property is the right way to read\n                   * the ambiguous response body, as the request's \"responseType\" may differ.\n                   * @see https://xhr.spec.whatwg.org/#the-response-attribute\n                   */\n                  this.request.response\n                );\n                this.onResponse.call(this, {\n                  response: fetchResponse,\n                  isMockedResponse: this[kIsRequestHandled],\n                  request: fetchRequest,\n                  requestId: this.requestId\n                });\n              }\n            });\n            const requestBody = typeof body === \"string\" ? (0,_chunk_6HYIRFX2_mjs__WEBPACK_IMPORTED_MODULE_0__.encodeBuffer)(body) : body;\n            const fetchRequest = this.toFetchApiRequest(requestBody);\n            this[kFetchRequest] = fetchRequest.clone();\n            const onceRequestSettled = ((_a = this.onRequest) == null ? void 0 : _a.call(this, {\n              request: fetchRequest,\n              requestId: this.requestId\n            })) || Promise.resolve();\n            onceRequestSettled.finally(() => {\n              if (!this[kIsRequestHandled]) {\n                this.logger.info(\n                  \"request callback settled but request has not been handled (readystate %d), performing as-is...\",\n                  this.request.readyState\n                );\n                if (IS_NODE) {\n                  this.request.setRequestHeader(\n                    _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_4__.INTERNAL_REQUEST_ID_HEADER_NAME,\n                    this.requestId\n                  );\n                }\n                return invoke();\n              }\n            });\n            break;\n          }\n          default: {\n            return invoke();\n          }\n        }\n      }\n    });\n    define(\n      this.request,\n      \"upload\",\n      createProxy(this.request.upload, {\n        setProperty: ([propertyName, nextValue], invoke) => {\n          switch (propertyName) {\n            case \"onloadstart\":\n            case \"onprogress\":\n            case \"onaboart\":\n            case \"onerror\":\n            case \"onload\":\n            case \"ontimeout\":\n            case \"onloadend\": {\n              const eventName = propertyName.slice(\n                2\n              );\n              this.registerUploadEvent(eventName, nextValue);\n            }\n          }\n          return invoke();\n        },\n        methodCall: ([methodName, args], invoke) => {\n          switch (methodName) {\n            case \"addEventListener\": {\n              const [eventName, listener] = args;\n              this.registerUploadEvent(eventName, listener);\n              this.logger.info(\"upload.addEventListener\", eventName, listener);\n              return invoke();\n            }\n          }\n        }\n      })\n    );\n  }\n  registerEvent(eventName, listener) {\n    const prevEvents = this.events.get(eventName) || [];\n    const nextEvents = prevEvents.concat(listener);\n    this.events.set(eventName, nextEvents);\n    this.logger.info('registered event \"%s\"', eventName, listener);\n  }\n  registerUploadEvent(eventName, listener) {\n    const prevEvents = this.uploadEvents.get(eventName) || [];\n    const nextEvents = prevEvents.concat(listener);\n    this.uploadEvents.set(eventName, nextEvents);\n    this.logger.info('registered upload event \"%s\"', eventName, listener);\n  }\n  /**\n   * Responds to the current request with the given\n   * Fetch API `Response` instance.\n   */\n  async respondWith(response) {\n    this[kIsRequestHandled] = true;\n    if (this[kFetchRequest]) {\n      const totalRequestBodyLength = await getBodyByteLength(\n        this[kFetchRequest]\n      );\n      this.trigger(\"loadstart\", this.request.upload, {\n        loaded: 0,\n        total: totalRequestBodyLength\n      });\n      this.trigger(\"progress\", this.request.upload, {\n        loaded: totalRequestBodyLength,\n        total: totalRequestBodyLength\n      });\n      this.trigger(\"load\", this.request.upload, {\n        loaded: totalRequestBodyLength,\n        total: totalRequestBodyLength\n      });\n      this.trigger(\"loadend\", this.request.upload, {\n        loaded: totalRequestBodyLength,\n        total: totalRequestBodyLength\n      });\n    }\n    this.logger.info(\n      \"responding with a mocked response: %d %s\",\n      response.status,\n      response.statusText\n    );\n    define(this.request, \"status\", response.status);\n    define(this.request, \"statusText\", response.statusText);\n    define(this.request, \"responseURL\", this.url.href);\n    this.request.getResponseHeader = new Proxy(this.request.getResponseHeader, {\n      apply: (_, __, args) => {\n        this.logger.info(\"getResponseHeader\", args[0]);\n        if (this.request.readyState < this.request.HEADERS_RECEIVED) {\n          this.logger.info(\"headers not received yet, returning null\");\n          return null;\n        }\n        const headerValue = response.headers.get(args[0]);\n        this.logger.info(\n          'resolved response header \"%s\" to',\n          args[0],\n          headerValue\n        );\n        return headerValue;\n      }\n    });\n    this.request.getAllResponseHeaders = new Proxy(\n      this.request.getAllResponseHeaders,\n      {\n        apply: () => {\n          this.logger.info(\"getAllResponseHeaders\");\n          if (this.request.readyState < this.request.HEADERS_RECEIVED) {\n            this.logger.info(\"headers not received yet, returning empty string\");\n            return \"\";\n          }\n          const headersList = Array.from(response.headers.entries());\n          const allHeaders = headersList.map(([headerName, headerValue]) => {\n            return `${headerName}: ${headerValue}`;\n          }).join(\"\\r\\n\");\n          this.logger.info(\"resolved all response headers to\", allHeaders);\n          return allHeaders;\n        }\n      }\n    );\n    Object.defineProperties(this.request, {\n      response: {\n        enumerable: true,\n        configurable: false,\n        get: () => this.response\n      },\n      responseText: {\n        enumerable: true,\n        configurable: false,\n        get: () => this.responseText\n      },\n      responseXML: {\n        enumerable: true,\n        configurable: false,\n        get: () => this.responseXML\n      }\n    });\n    const totalResponseBodyLength = await getBodyByteLength(response.clone());\n    this.logger.info(\"calculated response body length\", totalResponseBodyLength);\n    this.trigger(\"loadstart\", this.request, {\n      loaded: 0,\n      total: totalResponseBodyLength\n    });\n    this.setReadyState(this.request.HEADERS_RECEIVED);\n    this.setReadyState(this.request.LOADING);\n    const finalizeResponse = () => {\n      this.logger.info(\"finalizing the mocked response...\");\n      this.setReadyState(this.request.DONE);\n      this.trigger(\"load\", this.request, {\n        loaded: this.responseBuffer.byteLength,\n        total: totalResponseBodyLength\n      });\n      this.trigger(\"loadend\", this.request, {\n        loaded: this.responseBuffer.byteLength,\n        total: totalResponseBodyLength\n      });\n    };\n    if (response.body) {\n      this.logger.info(\"mocked response has body, streaming...\");\n      const reader = response.body.getReader();\n      const readNextResponseBodyChunk = async () => {\n        const { value, done } = await reader.read();\n        if (done) {\n          this.logger.info(\"response body stream done!\");\n          finalizeResponse();\n          return;\n        }\n        if (value) {\n          this.logger.info(\"read response body chunk:\", value);\n          this.responseBuffer = concatArrayBuffer(this.responseBuffer, value);\n          this.trigger(\"progress\", this.request, {\n            loaded: this.responseBuffer.byteLength,\n            total: totalResponseBodyLength\n          });\n        }\n        readNextResponseBodyChunk();\n      };\n      readNextResponseBodyChunk();\n    } else {\n      finalizeResponse();\n    }\n  }\n  responseBufferToText() {\n    return (0,_chunk_6HYIRFX2_mjs__WEBPACK_IMPORTED_MODULE_0__.decodeBuffer)(this.responseBuffer);\n  }\n  get response() {\n    this.logger.info(\n      \"getResponse (responseType: %s)\",\n      this.request.responseType\n    );\n    if (this.request.readyState !== this.request.DONE) {\n      return null;\n    }\n    switch (this.request.responseType) {\n      case \"json\": {\n        const responseJson = parseJson(this.responseBufferToText());\n        this.logger.info(\"resolved response JSON\", responseJson);\n        return responseJson;\n      }\n      case \"arraybuffer\": {\n        const arrayBuffer = (0,_chunk_6HYIRFX2_mjs__WEBPACK_IMPORTED_MODULE_0__.toArrayBuffer)(this.responseBuffer);\n        this.logger.info(\"resolved response ArrayBuffer\", arrayBuffer);\n        return arrayBuffer;\n      }\n      case \"blob\": {\n        const mimeType = this.request.getResponseHeader(\"Content-Type\") || \"text/plain\";\n        const responseBlob = new Blob([this.responseBufferToText()], {\n          type: mimeType\n        });\n        this.logger.info(\n          \"resolved response Blob (mime type: %s)\",\n          responseBlob,\n          mimeType\n        );\n        return responseBlob;\n      }\n      default: {\n        const responseText = this.responseBufferToText();\n        this.logger.info(\n          'resolving \"%s\" response type as text',\n          this.request.responseType,\n          responseText\n        );\n        return responseText;\n      }\n    }\n  }\n  get responseText() {\n    (0,outvariant__WEBPACK_IMPORTED_MODULE_5__.invariant)(\n      this.request.responseType === \"\" || this.request.responseType === \"text\",\n      \"InvalidStateError: The object is in invalid state.\"\n    );\n    if (this.request.readyState !== this.request.LOADING && this.request.readyState !== this.request.DONE) {\n      return \"\";\n    }\n    const responseText = this.responseBufferToText();\n    this.logger.info('getResponseText: \"%s\"', responseText);\n    return responseText;\n  }\n  get responseXML() {\n    (0,outvariant__WEBPACK_IMPORTED_MODULE_5__.invariant)(\n      this.request.responseType === \"\" || this.request.responseType === \"document\",\n      \"InvalidStateError: The object is in invalid state.\"\n    );\n    if (this.request.readyState !== this.request.DONE) {\n      return null;\n    }\n    const contentType = this.request.getResponseHeader(\"Content-Type\") || \"\";\n    if (typeof DOMParser === \"undefined\") {\n      console.warn(\n        \"Cannot retrieve XMLHttpRequest response body as XML: DOMParser is not defined. You are likely using an environment that is not browser or does not polyfill browser globals correctly.\"\n      );\n      return null;\n    }\n    if (isDomParserSupportedType(contentType)) {\n      return new DOMParser().parseFromString(\n        this.responseBufferToText(),\n        contentType\n      );\n    }\n    return null;\n  }\n  errorWith(error) {\n    this[kIsRequestHandled] = true;\n    this.logger.info(\"responding with an error\");\n    this.setReadyState(this.request.DONE);\n    this.trigger(\"error\", this.request);\n    this.trigger(\"loadend\", this.request);\n  }\n  /**\n   * Transitions this request's `readyState` to the given one.\n   */\n  setReadyState(nextReadyState) {\n    this.logger.info(\n      \"setReadyState: %d -> %d\",\n      this.request.readyState,\n      nextReadyState\n    );\n    if (this.request.readyState === nextReadyState) {\n      this.logger.info(\"ready state identical, skipping transition...\");\n      return;\n    }\n    define(this.request, \"readyState\", nextReadyState);\n    this.logger.info(\"set readyState to: %d\", nextReadyState);\n    if (nextReadyState !== this.request.UNSENT) {\n      this.logger.info('triggerring \"readystatechange\" event...');\n      this.trigger(\"readystatechange\", this.request);\n    }\n  }\n  /**\n   * Triggers given event on the `XMLHttpRequest` instance.\n   */\n  trigger(eventName, target, options) {\n    const callback = target[`on${eventName}`];\n    const event = createEvent(target, eventName, options);\n    this.logger.info('trigger \"%s\"', eventName, options || \"\");\n    if (typeof callback === \"function\") {\n      this.logger.info('found a direct \"%s\" callback, calling...', eventName);\n      callback.call(target, event);\n    }\n    const events = target instanceof XMLHttpRequestUpload ? this.uploadEvents : this.events;\n    for (const [registeredEventName, listeners] of events) {\n      if (registeredEventName === eventName) {\n        this.logger.info(\n          'found %d listener(s) for \"%s\" event, calling...',\n          listeners.length,\n          eventName\n        );\n        listeners.forEach((listener) => listener.call(target, event));\n      }\n    }\n  }\n  /**\n   * Converts this `XMLHttpRequest` instance into a Fetch API `Request` instance.\n   */\n  toFetchApiRequest(body) {\n    this.logger.info(\"converting request to a Fetch API Request...\");\n    const resolvedBody = body instanceof Document ? body.documentElement.innerText : body;\n    const fetchRequest = new Request(this.url.href, {\n      method: this.method,\n      headers: this.requestHeaders,\n      /**\n       * @see https://xhr.spec.whatwg.org/#cross-origin-credentials\n       */\n      credentials: this.request.withCredentials ? \"include\" : \"same-origin\",\n      body: [\"GET\", \"HEAD\"].includes(this.method.toUpperCase()) ? null : resolvedBody\n    });\n    const proxyHeaders = createProxy(fetchRequest.headers, {\n      methodCall: ([methodName, args], invoke) => {\n        switch (methodName) {\n          case \"append\":\n          case \"set\": {\n            const [headerName, headerValue] = args;\n            this.request.setRequestHeader(headerName, headerValue);\n            break;\n          }\n          case \"delete\": {\n            const [headerName] = args;\n            console.warn(\n              `XMLHttpRequest: Cannot remove a \"${headerName}\" header from the Fetch API representation of the \"${fetchRequest.method} ${fetchRequest.url}\" request. XMLHttpRequest headers cannot be removed.`\n            );\n            break;\n          }\n        }\n        return invoke();\n      }\n    });\n    define(fetchRequest, \"headers\", proxyHeaders);\n    this.logger.info(\"converted request to a Fetch API Request!\", fetchRequest);\n    return fetchRequest;\n  }\n};\nkIsRequestHandled, kFetchRequest;\nfunction toAbsoluteUrl(url) {\n  if (typeof location === \"undefined\") {\n    return new URL(url);\n  }\n  return new URL(url.toString(), location.href);\n}\nfunction define(target, property, value) {\n  Reflect.defineProperty(target, property, {\n    // Ensure writable properties to allow redefining readonly properties.\n    writable: true,\n    enumerable: true,\n    value\n  });\n}\n\n// src/interceptors/XMLHttpRequest/XMLHttpRequestProxy.ts\nfunction createXMLHttpRequestProxy({\n  emitter,\n  logger\n}) {\n  const XMLHttpRequestProxy = new Proxy(globalThis.XMLHttpRequest, {\n    construct(target, args, newTarget) {\n      logger.info(\"constructed new XMLHttpRequest\");\n      const originalRequest = Reflect.construct(\n        target,\n        args,\n        newTarget\n      );\n      const prototypeDescriptors = Object.getOwnPropertyDescriptors(\n        target.prototype\n      );\n      for (const propertyName in prototypeDescriptors) {\n        Reflect.defineProperty(\n          originalRequest,\n          propertyName,\n          prototypeDescriptors[propertyName]\n        );\n      }\n      const xhrRequestController = new XMLHttpRequestController(\n        originalRequest,\n        logger\n      );\n      xhrRequestController.onRequest = async function({ request, requestId }) {\n        const controller = new _chunk_5KMS5CTP_mjs__WEBPACK_IMPORTED_MODULE_3__.RequestController(request);\n        this.logger.info(\"awaiting mocked response...\");\n        this.logger.info(\n          'emitting the \"request\" event for %s listener(s)...',\n          emitter.listenerCount(\"request\")\n        );\n        const isRequestHandled = await (0,_chunk_5KMS5CTP_mjs__WEBPACK_IMPORTED_MODULE_3__.handleRequest)({\n          request,\n          requestId,\n          controller,\n          emitter,\n          onResponse: async (response) => {\n            await this.respondWith(response);\n          },\n          onRequestError: () => {\n            this.errorWith(new TypeError(\"Network error\"));\n          },\n          onError: (error) => {\n            this.logger.info(\"request errored!\", { error });\n            if (error instanceof Error) {\n              this.errorWith(error);\n            }\n          }\n        });\n        if (!isRequestHandled) {\n          this.logger.info(\n            \"no mocked response received, performing request as-is...\"\n          );\n        }\n      };\n      xhrRequestController.onResponse = async function({\n        response,\n        isMockedResponse,\n        request,\n        requestId\n      }) {\n        this.logger.info(\n          'emitting the \"response\" event for %s listener(s)...',\n          emitter.listenerCount(\"response\")\n        );\n        emitter.emit(\"response\", {\n          response,\n          isMockedResponse,\n          request,\n          requestId\n        });\n      };\n      return xhrRequestController.request;\n    }\n  });\n  return XMLHttpRequestProxy;\n}\n\n// src/interceptors/XMLHttpRequest/index.ts\nvar _XMLHttpRequestInterceptor = class extends _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_4__.Interceptor {\n  constructor() {\n    super(_XMLHttpRequestInterceptor.interceptorSymbol);\n  }\n  checkEnvironment() {\n    return (0,_chunk_TX5GBTFY_mjs__WEBPACK_IMPORTED_MODULE_1__.hasConfigurableGlobal)(\"XMLHttpRequest\");\n  }\n  setup() {\n    const logger = this.logger.extend(\"setup\");\n    logger.info('patching \"XMLHttpRequest\" module...');\n    const PureXMLHttpRequest = globalThis.XMLHttpRequest;\n    (0,outvariant__WEBPACK_IMPORTED_MODULE_5__.invariant)(\n      !PureXMLHttpRequest[_chunk_6YM4PLBI_mjs__WEBPACK_IMPORTED_MODULE_2__.IS_PATCHED_MODULE],\n      'Failed to patch the \"XMLHttpRequest\" module: already patched.'\n    );\n    globalThis.XMLHttpRequest = createXMLHttpRequestProxy({\n      emitter: this.emitter,\n      logger: this.logger\n    });\n    logger.info(\n      'native \"XMLHttpRequest\" module patched!',\n      globalThis.XMLHttpRequest.name\n    );\n    Object.defineProperty(globalThis.XMLHttpRequest, _chunk_6YM4PLBI_mjs__WEBPACK_IMPORTED_MODULE_2__.IS_PATCHED_MODULE, {\n      enumerable: true,\n      configurable: true,\n      value: true\n    });\n    this.subscriptions.push(() => {\n      Object.defineProperty(globalThis.XMLHttpRequest, _chunk_6YM4PLBI_mjs__WEBPACK_IMPORTED_MODULE_2__.IS_PATCHED_MODULE, {\n        value: void 0\n      });\n      globalThis.XMLHttpRequest = PureXMLHttpRequest;\n      logger.info(\n        'native \"XMLHttpRequest\" module restored!',\n        globalThis.XMLHttpRequest.name\n      );\n    });\n  }\n};\nvar XMLHttpRequestInterceptor = _XMLHttpRequestInterceptor;\nXMLHttpRequestInterceptor.interceptorSymbol = Symbol(\"xhr\");\n\n\n//# sourceMappingURL=chunk-OMWE7UVM.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvbm9kZS9jaHVuay1PTVdFN1VWTS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFJOEI7QUFHQTtBQUdBO0FBSUE7QUFNQTs7QUFFOUI7QUFDcUQ7O0FBRXJEO0FBQ3VDO0FBQ1M7O0FBRWhEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx3REFBd0Q7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw2QkFBNkIsOERBQWE7QUFDMUMsYUFBYSw4REFBYTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWMsOERBQWE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsb0VBQWU7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsYUFBYSxFQUFFLGNBQWM7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiLDJEQUEyRCxpRUFBWTtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0ZBQStCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsV0FBVyxJQUFJLFlBQVk7QUFDakQsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGNBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUVBQVk7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsa0VBQWE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHFEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUkscURBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxVQUFVO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELFdBQVcscURBQXFELHFCQUFxQixFQUFFLGlCQUFpQjtBQUMxSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELG9CQUFvQjtBQUM1RSwrQkFBK0Isa0VBQWlCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsa0VBQWE7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxtREFBbUQsT0FBTztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyw0REFBVztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsMEVBQXFCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHFEQUFVO0FBQ2QsMEJBQTBCLGtFQUFpQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELGtFQUFpQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSx1REFBdUQsa0VBQWlCO0FBQ3hFO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvcmlrdXNlbi93b3Jrc3BhY2UvbmV4dGpzLW1zdy1yZXByb2R1Y3Rpb24vbm9kZV9tb2R1bGVzL0Btc3dqcy9pbnRlcmNlcHRvcnMvbGliL25vZGUvY2h1bmstT01XRTdVVk0ubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGRlY29kZUJ1ZmZlcixcbiAgZW5jb2RlQnVmZmVyLFxuICB0b0FycmF5QnVmZmVyXG59IGZyb20gXCIuL2NodW5rLTZIWUlSRlgyLm1qc1wiO1xuaW1wb3J0IHtcbiAgaGFzQ29uZmlndXJhYmxlR2xvYmFsXG59IGZyb20gXCIuL2NodW5rLVRYNUdCVEZZLm1qc1wiO1xuaW1wb3J0IHtcbiAgSVNfUEFUQ0hFRF9NT0RVTEVcbn0gZnJvbSBcIi4vY2h1bmstNllNNFBMQkkubWpzXCI7XG5pbXBvcnQge1xuICBSZXF1ZXN0Q29udHJvbGxlcixcbiAgaGFuZGxlUmVxdWVzdFxufSBmcm9tIFwiLi9jaHVuay01S01TNUNUUC5tanNcIjtcbmltcG9ydCB7XG4gIEZldGNoUmVzcG9uc2UsXG4gIElOVEVSTkFMX1JFUVVFU1RfSURfSEVBREVSX05BTUUsXG4gIEludGVyY2VwdG9yLFxuICBjcmVhdGVSZXF1ZXN0SWRcbn0gZnJvbSBcIi4vY2h1bmstSTdIUUlCVDcubWpzXCI7XG5cbi8vIHNyYy9pbnRlcmNlcHRvcnMvWE1MSHR0cFJlcXVlc3QvaW5kZXgudHNcbmltcG9ydCB7IGludmFyaWFudCBhcyBpbnZhcmlhbnQyIH0gZnJvbSBcIm91dHZhcmlhbnRcIjtcblxuLy8gc3JjL2ludGVyY2VwdG9ycy9YTUxIdHRwUmVxdWVzdC9YTUxIdHRwUmVxdWVzdENvbnRyb2xsZXIudHNcbmltcG9ydCB7IGludmFyaWFudCB9IGZyb20gXCJvdXR2YXJpYW50XCI7XG5pbXBvcnQgeyBpc05vZGVQcm9jZXNzIH0gZnJvbSBcImlzLW5vZGUtcHJvY2Vzc1wiO1xuXG4vLyBzcmMvaW50ZXJjZXB0b3JzL1hNTEh0dHBSZXF1ZXN0L3V0aWxzL2NvbmNhdEFycmF5QnVmZmVyLnRzXG5mdW5jdGlvbiBjb25jYXRBcnJheUJ1ZmZlcihsZWZ0LCByaWdodCkge1xuICBjb25zdCByZXN1bHQgPSBuZXcgVWludDhBcnJheShsZWZ0LmJ5dGVMZW5ndGggKyByaWdodC5ieXRlTGVuZ3RoKTtcbiAgcmVzdWx0LnNldChsZWZ0LCAwKTtcbiAgcmVzdWx0LnNldChyaWdodCwgbGVmdC5ieXRlTGVuZ3RoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gc3JjL2ludGVyY2VwdG9ycy9YTUxIdHRwUmVxdWVzdC9wb2x5ZmlsbHMvRXZlbnRQb2x5ZmlsbC50c1xudmFyIEV2ZW50UG9seWZpbGwgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHR5cGUsIG9wdGlvbnMpIHtcbiAgICB0aGlzLk5PTkUgPSAwO1xuICAgIHRoaXMuQ0FQVFVSSU5HX1BIQVNFID0gMTtcbiAgICB0aGlzLkFUX1RBUkdFVCA9IDI7XG4gICAgdGhpcy5CVUJCTElOR19QSEFTRSA9IDM7XG4gICAgdGhpcy50eXBlID0gXCJcIjtcbiAgICB0aGlzLnNyY0VsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgdGhpcy5ldmVudFBoYXNlID0gMDtcbiAgICB0aGlzLmlzVHJ1c3RlZCA9IHRydWU7XG4gICAgdGhpcy5jb21wb3NlZCA9IGZhbHNlO1xuICAgIHRoaXMuY2FuY2VsYWJsZSA9IHRydWU7XG4gICAgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gZmFsc2U7XG4gICAgdGhpcy5idWJibGVzID0gdHJ1ZTtcbiAgICB0aGlzLmxlbmd0aENvbXB1dGFibGUgPSB0cnVlO1xuICAgIHRoaXMubG9hZGVkID0gMDtcbiAgICB0aGlzLnRvdGFsID0gMDtcbiAgICB0aGlzLmNhbmNlbEJ1YmJsZSA9IGZhbHNlO1xuICAgIHRoaXMucmV0dXJuVmFsdWUgPSB0cnVlO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy50YXJnZXQgPSAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy50YXJnZXQpIHx8IG51bGw7XG4gICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuY3VycmVudFRhcmdldCkgfHwgbnVsbDtcbiAgICB0aGlzLnRpbWVTdGFtcCA9IERhdGUubm93KCk7XG4gIH1cbiAgY29tcG9zZWRQYXRoKCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBpbml0RXZlbnQodHlwZSwgYnViYmxlcywgY2FuY2VsYWJsZSkge1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5idWJibGVzID0gISFidWJibGVzO1xuICAgIHRoaXMuY2FuY2VsYWJsZSA9ICEhY2FuY2VsYWJsZTtcbiAgfVxuICBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICB9XG4gIHN0b3BQcm9wYWdhdGlvbigpIHtcbiAgfVxuICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSB7XG4gIH1cbn07XG5cbi8vIHNyYy9pbnRlcmNlcHRvcnMvWE1MSHR0cFJlcXVlc3QvcG9seWZpbGxzL1Byb2dyZXNzRXZlbnRQb2x5ZmlsbC50c1xudmFyIFByb2dyZXNzRXZlbnRQb2x5ZmlsbCA9IGNsYXNzIGV4dGVuZHMgRXZlbnRQb2x5ZmlsbCB7XG4gIGNvbnN0cnVjdG9yKHR5cGUsIGluaXQpIHtcbiAgICBzdXBlcih0eXBlKTtcbiAgICB0aGlzLmxlbmd0aENvbXB1dGFibGUgPSAoaW5pdCA9PSBudWxsID8gdm9pZCAwIDogaW5pdC5sZW5ndGhDb21wdXRhYmxlKSB8fCBmYWxzZTtcbiAgICB0aGlzLmNvbXBvc2VkID0gKGluaXQgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXQuY29tcG9zZWQpIHx8IGZhbHNlO1xuICAgIHRoaXMubG9hZGVkID0gKGluaXQgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXQubG9hZGVkKSB8fCAwO1xuICAgIHRoaXMudG90YWwgPSAoaW5pdCA9PSBudWxsID8gdm9pZCAwIDogaW5pdC50b3RhbCkgfHwgMDtcbiAgfVxufTtcblxuLy8gc3JjL2ludGVyY2VwdG9ycy9YTUxIdHRwUmVxdWVzdC91dGlscy9jcmVhdGVFdmVudC50c1xudmFyIFNVUFBPUlRTX1BST0dSRVNTX0VWRU5UID0gdHlwZW9mIFByb2dyZXNzRXZlbnQgIT09IFwidW5kZWZpbmVkXCI7XG5mdW5jdGlvbiBjcmVhdGVFdmVudCh0YXJnZXQsIHR5cGUsIGluaXQpIHtcbiAgY29uc3QgcHJvZ3Jlc3NFdmVudHMgPSBbXG4gICAgXCJlcnJvclwiLFxuICAgIFwicHJvZ3Jlc3NcIixcbiAgICBcImxvYWRzdGFydFwiLFxuICAgIFwibG9hZGVuZFwiLFxuICAgIFwibG9hZFwiLFxuICAgIFwidGltZW91dFwiLFxuICAgIFwiYWJvcnRcIlxuICBdO1xuICBjb25zdCBQcm9ncmVzc0V2ZW50Q2xhc3MgPSBTVVBQT1JUU19QUk9HUkVTU19FVkVOVCA/IFByb2dyZXNzRXZlbnQgOiBQcm9ncmVzc0V2ZW50UG9seWZpbGw7XG4gIGNvbnN0IGV2ZW50ID0gcHJvZ3Jlc3NFdmVudHMuaW5jbHVkZXModHlwZSkgPyBuZXcgUHJvZ3Jlc3NFdmVudENsYXNzKHR5cGUsIHtcbiAgICBsZW5ndGhDb21wdXRhYmxlOiB0cnVlLFxuICAgIGxvYWRlZDogKGluaXQgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXQubG9hZGVkKSB8fCAwLFxuICAgIHRvdGFsOiAoaW5pdCA9PSBudWxsID8gdm9pZCAwIDogaW5pdC50b3RhbCkgfHwgMFxuICB9KSA6IG5ldyBFdmVudFBvbHlmaWxsKHR5cGUsIHtcbiAgICB0YXJnZXQsXG4gICAgY3VycmVudFRhcmdldDogdGFyZ2V0XG4gIH0pO1xuICByZXR1cm4gZXZlbnQ7XG59XG5cbi8vIHNyYy91dGlscy9maW5kUHJvcGVydHlTb3VyY2UudHNcbmZ1bmN0aW9uIGZpbmRQcm9wZXJ0eVNvdXJjZSh0YXJnZXQsIHByb3BlcnR5TmFtZSkge1xuICBpZiAoIShwcm9wZXJ0eU5hbWUgaW4gdGFyZ2V0KSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IGhhc1Byb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwgcHJvcGVydHlOYW1lKTtcbiAgaWYgKGhhc1Byb3BlcnR5KSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICBjb25zdCBwcm90b3R5cGUgPSBSZWZsZWN0LmdldFByb3RvdHlwZU9mKHRhcmdldCk7XG4gIHJldHVybiBwcm90b3R5cGUgPyBmaW5kUHJvcGVydHlTb3VyY2UocHJvdG90eXBlLCBwcm9wZXJ0eU5hbWUpIDogbnVsbDtcbn1cblxuLy8gc3JjL3V0aWxzL2NyZWF0ZVByb3h5LnRzXG5mdW5jdGlvbiBjcmVhdGVQcm94eSh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgY29uc3QgcHJveHkgPSBuZXcgUHJveHkodGFyZ2V0LCBvcHRpb25zVG9Qcm94eUhhbmRsZXIob3B0aW9ucykpO1xuICByZXR1cm4gcHJveHk7XG59XG5mdW5jdGlvbiBvcHRpb25zVG9Qcm94eUhhbmRsZXIob3B0aW9ucykge1xuICBjb25zdCB7IGNvbnN0cnVjdG9yQ2FsbCwgbWV0aG9kQ2FsbCwgZ2V0UHJvcGVydHksIHNldFByb3BlcnR5IH0gPSBvcHRpb25zO1xuICBjb25zdCBoYW5kbGVyID0ge307XG4gIGlmICh0eXBlb2YgY29uc3RydWN0b3JDYWxsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgaGFuZGxlci5jb25zdHJ1Y3QgPSBmdW5jdGlvbih0YXJnZXQsIGFyZ3MsIG5ld1RhcmdldCkge1xuICAgICAgY29uc3QgbmV4dCA9IFJlZmxlY3QuY29uc3RydWN0LmJpbmQobnVsbCwgdGFyZ2V0LCBhcmdzLCBuZXdUYXJnZXQpO1xuICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yQ2FsbC5jYWxsKG5ld1RhcmdldCwgYXJncywgbmV4dCk7XG4gICAgfTtcbiAgfVxuICBoYW5kbGVyLnNldCA9IGZ1bmN0aW9uKHRhcmdldCwgcHJvcGVydHlOYW1lLCBuZXh0VmFsdWUpIHtcbiAgICBjb25zdCBuZXh0ID0gKCkgPT4ge1xuICAgICAgY29uc3QgcHJvcGVydHlTb3VyY2UgPSBmaW5kUHJvcGVydHlTb3VyY2UodGFyZ2V0LCBwcm9wZXJ0eU5hbWUpIHx8IHRhcmdldDtcbiAgICAgIGNvbnN0IG93bkRlc2NyaXB0b3JzID0gUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXG4gICAgICAgIHByb3BlcnR5U291cmNlLFxuICAgICAgICBwcm9wZXJ0eU5hbWVcbiAgICAgICk7XG4gICAgICBpZiAodHlwZW9mIChvd25EZXNjcmlwdG9ycyA9PSBudWxsID8gdm9pZCAwIDogb3duRGVzY3JpcHRvcnMuc2V0KSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBvd25EZXNjcmlwdG9ycy5zZXQuYXBwbHkodGFyZ2V0LCBbbmV4dFZhbHVlXSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkocHJvcGVydHlTb3VyY2UsIHByb3BlcnR5TmFtZSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogbmV4dFZhbHVlXG4gICAgICB9KTtcbiAgICB9O1xuICAgIGlmICh0eXBlb2Ygc2V0UHJvcGVydHkgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiBzZXRQcm9wZXJ0eS5jYWxsKHRhcmdldCwgW3Byb3BlcnR5TmFtZSwgbmV4dFZhbHVlXSwgbmV4dCk7XG4gICAgfVxuICAgIHJldHVybiBuZXh0KCk7XG4gIH07XG4gIGhhbmRsZXIuZ2V0ID0gZnVuY3Rpb24odGFyZ2V0LCBwcm9wZXJ0eU5hbWUsIHJlY2VpdmVyKSB7XG4gICAgY29uc3QgbmV4dCA9ICgpID0+IHRhcmdldFtwcm9wZXJ0eU5hbWVdO1xuICAgIGNvbnN0IHZhbHVlID0gdHlwZW9mIGdldFByb3BlcnR5ICE9PSBcInVuZGVmaW5lZFwiID8gZ2V0UHJvcGVydHkuY2FsbCh0YXJnZXQsIFtwcm9wZXJ0eU5hbWUsIHJlY2VpdmVyXSwgbmV4dCkgOiBuZXh0KCk7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgbmV4dDIgPSB2YWx1ZS5iaW5kKHRhcmdldCwgLi4uYXJncyk7XG4gICAgICAgIGlmICh0eXBlb2YgbWV0aG9kQ2FsbCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIHJldHVybiBtZXRob2RDYWxsLmNhbGwodGFyZ2V0LCBbcHJvcGVydHlOYW1lLCBhcmdzXSwgbmV4dDIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0MigpO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuICByZXR1cm4gaGFuZGxlcjtcbn1cblxuLy8gc3JjL2ludGVyY2VwdG9ycy9YTUxIdHRwUmVxdWVzdC91dGlscy9pc0RvbVBhcnNlclN1cHBvcnRlZFR5cGUudHNcbmZ1bmN0aW9uIGlzRG9tUGFyc2VyU3VwcG9ydGVkVHlwZSh0eXBlKSB7XG4gIGNvbnN0IHN1cHBvcnRlZFR5cGVzID0gW1xuICAgIFwiYXBwbGljYXRpb24veGh0bWwreG1sXCIsXG4gICAgXCJhcHBsaWNhdGlvbi94bWxcIixcbiAgICBcImltYWdlL3N2Zyt4bWxcIixcbiAgICBcInRleHQvaHRtbFwiLFxuICAgIFwidGV4dC94bWxcIlxuICBdO1xuICByZXR1cm4gc3VwcG9ydGVkVHlwZXMuc29tZSgoc3VwcG9ydGVkVHlwZSkgPT4ge1xuICAgIHJldHVybiB0eXBlLnN0YXJ0c1dpdGgoc3VwcG9ydGVkVHlwZSk7XG4gIH0pO1xufVxuXG4vLyBzcmMvdXRpbHMvcGFyc2VKc29uLnRzXG5mdW5jdGlvbiBwYXJzZUpzb24oZGF0YSkge1xuICB0cnkge1xuICAgIGNvbnN0IGpzb24gPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgIHJldHVybiBqc29uO1xuICB9IGNhdGNoIChfKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLy8gc3JjL2ludGVyY2VwdG9ycy9YTUxIdHRwUmVxdWVzdC91dGlscy9jcmVhdGVSZXNwb25zZS50c1xuZnVuY3Rpb24gY3JlYXRlUmVzcG9uc2UocmVxdWVzdCwgYm9keSkge1xuICBjb25zdCByZXNwb25zZUJvZHlPck51bGwgPSBGZXRjaFJlc3BvbnNlLmlzUmVzcG9uc2VXaXRoQm9keShyZXF1ZXN0LnN0YXR1cykgPyBib2R5IDogbnVsbDtcbiAgcmV0dXJuIG5ldyBGZXRjaFJlc3BvbnNlKHJlc3BvbnNlQm9keU9yTnVsbCwge1xuICAgIHVybDogcmVxdWVzdC5yZXNwb25zZVVSTCxcbiAgICBzdGF0dXM6IHJlcXVlc3Quc3RhdHVzLFxuICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICBoZWFkZXJzOiBjcmVhdGVIZWFkZXJzRnJvbVhNTEh0dHBSZXFlc3RIZWFkZXJzKFxuICAgICAgcmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgIClcbiAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVIZWFkZXJzRnJvbVhNTEh0dHBSZXFlc3RIZWFkZXJzKGhlYWRlcnNTdHJpbmcpIHtcbiAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gIGNvbnN0IGxpbmVzID0gaGVhZGVyc1N0cmluZy5zcGxpdCgvW1xcclxcbl0rLyk7XG4gIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgIGlmIChsaW5lLnRyaW0oKSA9PT0gXCJcIikge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IFtuYW1lLCAuLi5wYXJ0c10gPSBsaW5lLnNwbGl0KFwiOiBcIik7XG4gICAgY29uc3QgdmFsdWUgPSBwYXJ0cy5qb2luKFwiOiBcIik7XG4gICAgaGVhZGVycy5hcHBlbmQobmFtZSwgdmFsdWUpO1xuICB9XG4gIHJldHVybiBoZWFkZXJzO1xufVxuXG4vLyBzcmMvaW50ZXJjZXB0b3JzL1hNTEh0dHBSZXF1ZXN0L3V0aWxzL2dldEJvZHlCeXRlTGVuZ3RoLnRzXG5hc3luYyBmdW5jdGlvbiBnZXRCb2R5Qnl0ZUxlbmd0aChpbnB1dCkge1xuICBjb25zdCBleHBsaWNpdENvbnRlbnRMZW5ndGggPSBpbnB1dC5oZWFkZXJzLmdldChcImNvbnRlbnQtbGVuZ3RoXCIpO1xuICBpZiAoZXhwbGljaXRDb250ZW50TGVuZ3RoICE9IG51bGwgJiYgZXhwbGljaXRDb250ZW50TGVuZ3RoICE9PSBcIlwiKSB7XG4gICAgcmV0dXJuIE51bWJlcihleHBsaWNpdENvbnRlbnRMZW5ndGgpO1xuICB9XG4gIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IGlucHV0LmFycmF5QnVmZmVyKCk7XG4gIHJldHVybiBidWZmZXIuYnl0ZUxlbmd0aDtcbn1cblxuLy8gc3JjL2ludGVyY2VwdG9ycy9YTUxIdHRwUmVxdWVzdC9YTUxIdHRwUmVxdWVzdENvbnRyb2xsZXIudHNcbnZhciBrSXNSZXF1ZXN0SGFuZGxlZCA9IFN5bWJvbChcImtJc1JlcXVlc3RIYW5kbGVkXCIpO1xudmFyIElTX05PREUgPSBpc05vZGVQcm9jZXNzKCk7XG52YXIga0ZldGNoUmVxdWVzdCA9IFN5bWJvbChcImtGZXRjaFJlcXVlc3RcIik7XG52YXIgWE1MSHR0cFJlcXVlc3RDb250cm9sbGVyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihpbml0aWFsUmVxdWVzdCwgbG9nZ2VyKSB7XG4gICAgdGhpcy5pbml0aWFsUmVxdWVzdCA9IGluaXRpYWxSZXF1ZXN0O1xuICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xuICAgIHRoaXMubWV0aG9kID0gXCJHRVRcIjtcbiAgICB0aGlzLnVybCA9IG51bGw7XG4gICAgdGhpc1trSXNSZXF1ZXN0SGFuZGxlZF0gPSBmYWxzZTtcbiAgICB0aGlzLmV2ZW50cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgdGhpcy51cGxvYWRFdmVudHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIHRoaXMucmVxdWVzdElkID0gY3JlYXRlUmVxdWVzdElkKCk7XG4gICAgdGhpcy5yZXF1ZXN0SGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gICAgdGhpcy5yZXNwb25zZUJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KCk7XG4gICAgdGhpcy5yZXF1ZXN0ID0gY3JlYXRlUHJveHkoaW5pdGlhbFJlcXVlc3QsIHtcbiAgICAgIHNldFByb3BlcnR5OiAoW3Byb3BlcnR5TmFtZSwgbmV4dFZhbHVlXSwgaW52b2tlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAocHJvcGVydHlOYW1lKSB7XG4gICAgICAgICAgY2FzZSBcIm9udGltZW91dFwiOiB7XG4gICAgICAgICAgICBjb25zdCBldmVudE5hbWUgPSBwcm9wZXJ0eU5hbWUuc2xpY2UoXG4gICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIG5leHRWYWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gaW52b2tlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIHJldHVybiBpbnZva2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBtZXRob2RDYWxsOiAoW21ldGhvZE5hbWUsIGFyZ3NdLCBpbnZva2UpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzd2l0Y2ggKG1ldGhvZE5hbWUpIHtcbiAgICAgICAgICBjYXNlIFwib3BlblwiOiB7XG4gICAgICAgICAgICBjb25zdCBbbWV0aG9kLCB1cmxdID0gYXJncztcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXJsID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgIHRoaXMubWV0aG9kID0gXCJHRVRcIjtcbiAgICAgICAgICAgICAgdGhpcy51cmwgPSB0b0Fic29sdXRlVXJsKG1ldGhvZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgICAgICAgdGhpcy51cmwgPSB0b0Fic29sdXRlVXJsKHVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxvZ2dlciA9IHRoaXMubG9nZ2VyLmV4dGVuZChgJHt0aGlzLm1ldGhvZH0gJHt0aGlzLnVybC5ocmVmfWApO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcIm9wZW5cIiwgdGhpcy5tZXRob2QsIHRoaXMudXJsLmhyZWYpO1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiYWRkRXZlbnRMaXN0ZW5lclwiOiB7XG4gICAgICAgICAgICBjb25zdCBbZXZlbnROYW1lLCBsaXN0ZW5lcl0gPSBhcmdzO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50KGV2ZW50TmFtZSwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcImFkZEV2ZW50TGlzdGVuZXJcIiwgZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICByZXR1cm4gaW52b2tlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJzZXRSZXF1ZXN0SGVhZGVyXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IFtuYW1lLCB2YWx1ZV0gPSBhcmdzO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0SGVhZGVycy5zZXQobmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcInNldFJlcXVlc3RIZWFkZXJcIiwgbmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwic2VuZFwiOiB7XG4gICAgICAgICAgICBjb25zdCBbYm9keV0gPSBhcmdzO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9uUmVzcG9uc2UgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmZXRjaFJlc3BvbnNlID0gY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3QsXG4gICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAqIFRoZSBgcmVzcG9uc2VgIHByb3BlcnR5IGlzIHRoZSByaWdodCB3YXkgdG8gcmVhZFxuICAgICAgICAgICAgICAgICAgICogdGhlIGFtYmlndW91cyByZXNwb25zZSBib2R5LCBhcyB0aGUgcmVxdWVzdCdzIFwicmVzcG9uc2VUeXBlXCIgbWF5IGRpZmZlci5cbiAgICAgICAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly94aHIuc3BlYy53aGF0d2cub3JnLyN0aGUtcmVzcG9uc2UtYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdC5yZXNwb25zZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdGhpcy5vblJlc3BvbnNlLmNhbGwodGhpcywge1xuICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IGZldGNoUmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICBpc01vY2tlZFJlc3BvbnNlOiB0aGlzW2tJc1JlcXVlc3RIYW5kbGVkXSxcbiAgICAgICAgICAgICAgICAgIHJlcXVlc3Q6IGZldGNoUmVxdWVzdCxcbiAgICAgICAgICAgICAgICAgIHJlcXVlc3RJZDogdGhpcy5yZXF1ZXN0SWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0Qm9keSA9IHR5cGVvZiBib2R5ID09PSBcInN0cmluZ1wiID8gZW5jb2RlQnVmZmVyKGJvZHkpIDogYm9keTtcbiAgICAgICAgICAgIGNvbnN0IGZldGNoUmVxdWVzdCA9IHRoaXMudG9GZXRjaEFwaVJlcXVlc3QocmVxdWVzdEJvZHkpO1xuICAgICAgICAgICAgdGhpc1trRmV0Y2hSZXF1ZXN0XSA9IGZldGNoUmVxdWVzdC5jbG9uZSgpO1xuICAgICAgICAgICAgY29uc3Qgb25jZVJlcXVlc3RTZXR0bGVkID0gKChfYSA9IHRoaXMub25SZXF1ZXN0KSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICAgIHJlcXVlc3Q6IGZldGNoUmVxdWVzdCxcbiAgICAgICAgICAgICAgcmVxdWVzdElkOiB0aGlzLnJlcXVlc3RJZFxuICAgICAgICAgICAgfSkpIHx8IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgb25jZVJlcXVlc3RTZXR0bGVkLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIXRoaXNba0lzUmVxdWVzdEhhbmRsZWRdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcbiAgICAgICAgICAgICAgICAgIFwicmVxdWVzdCBjYWxsYmFjayBzZXR0bGVkIGJ1dCByZXF1ZXN0IGhhcyBub3QgYmVlbiBoYW5kbGVkIChyZWFkeXN0YXRlICVkKSwgcGVyZm9ybWluZyBhcy1pcy4uLlwiLFxuICAgICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0LnJlYWR5U3RhdGVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmIChJU19OT0RFKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihcbiAgICAgICAgICAgICAgICAgICAgSU5URVJOQUxfUkVRVUVTVF9JRF9IRUFERVJfTkFNRSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0SWRcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBpbnZva2UoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGRlZmluZShcbiAgICAgIHRoaXMucmVxdWVzdCxcbiAgICAgIFwidXBsb2FkXCIsXG4gICAgICBjcmVhdGVQcm94eSh0aGlzLnJlcXVlc3QudXBsb2FkLCB7XG4gICAgICAgIHNldFByb3BlcnR5OiAoW3Byb3BlcnR5TmFtZSwgbmV4dFZhbHVlXSwgaW52b2tlKSA9PiB7XG4gICAgICAgICAgc3dpdGNoIChwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJvbmxvYWRzdGFydFwiOlxuICAgICAgICAgICAgY2FzZSBcIm9ucHJvZ3Jlc3NcIjpcbiAgICAgICAgICAgIGNhc2UgXCJvbmFib2FydFwiOlxuICAgICAgICAgICAgY2FzZSBcIm9uZXJyb3JcIjpcbiAgICAgICAgICAgIGNhc2UgXCJvbmxvYWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJvbnRpbWVvdXRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJvbmxvYWRlbmRcIjoge1xuICAgICAgICAgICAgICBjb25zdCBldmVudE5hbWUgPSBwcm9wZXJ0eU5hbWUuc2xpY2UoXG4gICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkRXZlbnQoZXZlbnROYW1lLCBuZXh0VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaW52b2tlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIG1ldGhvZENhbGw6IChbbWV0aG9kTmFtZSwgYXJnc10sIGludm9rZSkgPT4ge1xuICAgICAgICAgIHN3aXRjaCAobWV0aG9kTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBcImFkZEV2ZW50TGlzdGVuZXJcIjoge1xuICAgICAgICAgICAgICBjb25zdCBbZXZlbnROYW1lLCBsaXN0ZW5lcl0gPSBhcmdzO1xuICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkRXZlbnQoZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJ1cGxvYWQuYWRkRXZlbnRMaXN0ZW5lclwiLCBldmVudE5hbWUsIGxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGludm9rZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICB9XG4gIHJlZ2lzdGVyRXZlbnQoZXZlbnROYW1lLCBsaXN0ZW5lcikge1xuICAgIGNvbnN0IHByZXZFdmVudHMgPSB0aGlzLmV2ZW50cy5nZXQoZXZlbnROYW1lKSB8fCBbXTtcbiAgICBjb25zdCBuZXh0RXZlbnRzID0gcHJldkV2ZW50cy5jb25jYXQobGlzdGVuZXIpO1xuICAgIHRoaXMuZXZlbnRzLnNldChldmVudE5hbWUsIG5leHRFdmVudHMpO1xuICAgIHRoaXMubG9nZ2VyLmluZm8oJ3JlZ2lzdGVyZWQgZXZlbnQgXCIlc1wiJywgZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gIH1cbiAgcmVnaXN0ZXJVcGxvYWRFdmVudChldmVudE5hbWUsIGxpc3RlbmVyKSB7XG4gICAgY29uc3QgcHJldkV2ZW50cyA9IHRoaXMudXBsb2FkRXZlbnRzLmdldChldmVudE5hbWUpIHx8IFtdO1xuICAgIGNvbnN0IG5leHRFdmVudHMgPSBwcmV2RXZlbnRzLmNvbmNhdChsaXN0ZW5lcik7XG4gICAgdGhpcy51cGxvYWRFdmVudHMuc2V0KGV2ZW50TmFtZSwgbmV4dEV2ZW50cyk7XG4gICAgdGhpcy5sb2dnZXIuaW5mbygncmVnaXN0ZXJlZCB1cGxvYWQgZXZlbnQgXCIlc1wiJywgZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gIH1cbiAgLyoqXG4gICAqIFJlc3BvbmRzIHRvIHRoZSBjdXJyZW50IHJlcXVlc3Qgd2l0aCB0aGUgZ2l2ZW5cbiAgICogRmV0Y2ggQVBJIGBSZXNwb25zZWAgaW5zdGFuY2UuXG4gICAqL1xuICBhc3luYyByZXNwb25kV2l0aChyZXNwb25zZSkge1xuICAgIHRoaXNba0lzUmVxdWVzdEhhbmRsZWRdID0gdHJ1ZTtcbiAgICBpZiAodGhpc1trRmV0Y2hSZXF1ZXN0XSkge1xuICAgICAgY29uc3QgdG90YWxSZXF1ZXN0Qm9keUxlbmd0aCA9IGF3YWl0IGdldEJvZHlCeXRlTGVuZ3RoKFxuICAgICAgICB0aGlzW2tGZXRjaFJlcXVlc3RdXG4gICAgICApO1xuICAgICAgdGhpcy50cmlnZ2VyKFwibG9hZHN0YXJ0XCIsIHRoaXMucmVxdWVzdC51cGxvYWQsIHtcbiAgICAgICAgbG9hZGVkOiAwLFxuICAgICAgICB0b3RhbDogdG90YWxSZXF1ZXN0Qm9keUxlbmd0aFxuICAgICAgfSk7XG4gICAgICB0aGlzLnRyaWdnZXIoXCJwcm9ncmVzc1wiLCB0aGlzLnJlcXVlc3QudXBsb2FkLCB7XG4gICAgICAgIGxvYWRlZDogdG90YWxSZXF1ZXN0Qm9keUxlbmd0aCxcbiAgICAgICAgdG90YWw6IHRvdGFsUmVxdWVzdEJvZHlMZW5ndGhcbiAgICAgIH0pO1xuICAgICAgdGhpcy50cmlnZ2VyKFwibG9hZFwiLCB0aGlzLnJlcXVlc3QudXBsb2FkLCB7XG4gICAgICAgIGxvYWRlZDogdG90YWxSZXF1ZXN0Qm9keUxlbmd0aCxcbiAgICAgICAgdG90YWw6IHRvdGFsUmVxdWVzdEJvZHlMZW5ndGhcbiAgICAgIH0pO1xuICAgICAgdGhpcy50cmlnZ2VyKFwibG9hZGVuZFwiLCB0aGlzLnJlcXVlc3QudXBsb2FkLCB7XG4gICAgICAgIGxvYWRlZDogdG90YWxSZXF1ZXN0Qm9keUxlbmd0aCxcbiAgICAgICAgdG90YWw6IHRvdGFsUmVxdWVzdEJvZHlMZW5ndGhcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLmxvZ2dlci5pbmZvKFxuICAgICAgXCJyZXNwb25kaW5nIHdpdGggYSBtb2NrZWQgcmVzcG9uc2U6ICVkICVzXCIsXG4gICAgICByZXNwb25zZS5zdGF0dXMsXG4gICAgICByZXNwb25zZS5zdGF0dXNUZXh0XG4gICAgKTtcbiAgICBkZWZpbmUodGhpcy5yZXF1ZXN0LCBcInN0YXR1c1wiLCByZXNwb25zZS5zdGF0dXMpO1xuICAgIGRlZmluZSh0aGlzLnJlcXVlc3QsIFwic3RhdHVzVGV4dFwiLCByZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICBkZWZpbmUodGhpcy5yZXF1ZXN0LCBcInJlc3BvbnNlVVJMXCIsIHRoaXMudXJsLmhyZWYpO1xuICAgIHRoaXMucmVxdWVzdC5nZXRSZXNwb25zZUhlYWRlciA9IG5ldyBQcm94eSh0aGlzLnJlcXVlc3QuZ2V0UmVzcG9uc2VIZWFkZXIsIHtcbiAgICAgIGFwcGx5OiAoXywgX18sIGFyZ3MpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcImdldFJlc3BvbnNlSGVhZGVyXCIsIGFyZ3NbMF0pO1xuICAgICAgICBpZiAodGhpcy5yZXF1ZXN0LnJlYWR5U3RhdGUgPCB0aGlzLnJlcXVlc3QuSEVBREVSU19SRUNFSVZFRCkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJoZWFkZXJzIG5vdCByZWNlaXZlZCB5ZXQsIHJldHVybmluZyBudWxsXCIpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhlYWRlclZhbHVlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoYXJnc1swXSk7XG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXG4gICAgICAgICAgJ3Jlc29sdmVkIHJlc3BvbnNlIGhlYWRlciBcIiVzXCIgdG8nLFxuICAgICAgICAgIGFyZ3NbMF0sXG4gICAgICAgICAgaGVhZGVyVmFsdWVcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGhlYWRlclZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMucmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMgPSBuZXcgUHJveHkoXG4gICAgICB0aGlzLnJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzLFxuICAgICAge1xuICAgICAgICBhcHBseTogKCkgPT4ge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJnZXRBbGxSZXNwb25zZUhlYWRlcnNcIik7XG4gICAgICAgICAgaWYgKHRoaXMucmVxdWVzdC5yZWFkeVN0YXRlIDwgdGhpcy5yZXF1ZXN0LkhFQURFUlNfUkVDRUlWRUQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJoZWFkZXJzIG5vdCByZWNlaXZlZCB5ZXQsIHJldHVybmluZyBlbXB0eSBzdHJpbmdcIik7XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgaGVhZGVyc0xpc3QgPSBBcnJheS5mcm9tKHJlc3BvbnNlLmhlYWRlcnMuZW50cmllcygpKTtcbiAgICAgICAgICBjb25zdCBhbGxIZWFkZXJzID0gaGVhZGVyc0xpc3QubWFwKChbaGVhZGVyTmFtZSwgaGVhZGVyVmFsdWVdKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYCR7aGVhZGVyTmFtZX06ICR7aGVhZGVyVmFsdWV9YDtcbiAgICAgICAgICB9KS5qb2luKFwiXFxyXFxuXCIpO1xuICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJyZXNvbHZlZCBhbGwgcmVzcG9uc2UgaGVhZGVycyB0b1wiLCBhbGxIZWFkZXJzKTtcbiAgICAgICAgICByZXR1cm4gYWxsSGVhZGVycztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcy5yZXF1ZXN0LCB7XG4gICAgICByZXNwb25zZToge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICBnZXQ6ICgpID0+IHRoaXMucmVzcG9uc2VcbiAgICAgIH0sXG4gICAgICByZXNwb25zZVRleHQ6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgZ2V0OiAoKSA9PiB0aGlzLnJlc3BvbnNlVGV4dFxuICAgICAgfSxcbiAgICAgIHJlc3BvbnNlWE1MOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgIGdldDogKCkgPT4gdGhpcy5yZXNwb25zZVhNTFxuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHRvdGFsUmVzcG9uc2VCb2R5TGVuZ3RoID0gYXdhaXQgZ2V0Qm9keUJ5dGVMZW5ndGgocmVzcG9uc2UuY2xvbmUoKSk7XG4gICAgdGhpcy5sb2dnZXIuaW5mbyhcImNhbGN1bGF0ZWQgcmVzcG9uc2UgYm9keSBsZW5ndGhcIiwgdG90YWxSZXNwb25zZUJvZHlMZW5ndGgpO1xuICAgIHRoaXMudHJpZ2dlcihcImxvYWRzdGFydFwiLCB0aGlzLnJlcXVlc3QsIHtcbiAgICAgIGxvYWRlZDogMCxcbiAgICAgIHRvdGFsOiB0b3RhbFJlc3BvbnNlQm9keUxlbmd0aFxuICAgIH0pO1xuICAgIHRoaXMuc2V0UmVhZHlTdGF0ZSh0aGlzLnJlcXVlc3QuSEVBREVSU19SRUNFSVZFRCk7XG4gICAgdGhpcy5zZXRSZWFkeVN0YXRlKHRoaXMucmVxdWVzdC5MT0FESU5HKTtcbiAgICBjb25zdCBmaW5hbGl6ZVJlc3BvbnNlID0gKCkgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcImZpbmFsaXppbmcgdGhlIG1vY2tlZCByZXNwb25zZS4uLlwiKTtcbiAgICAgIHRoaXMuc2V0UmVhZHlTdGF0ZSh0aGlzLnJlcXVlc3QuRE9ORSk7XG4gICAgICB0aGlzLnRyaWdnZXIoXCJsb2FkXCIsIHRoaXMucmVxdWVzdCwge1xuICAgICAgICBsb2FkZWQ6IHRoaXMucmVzcG9uc2VCdWZmZXIuYnl0ZUxlbmd0aCxcbiAgICAgICAgdG90YWw6IHRvdGFsUmVzcG9uc2VCb2R5TGVuZ3RoXG4gICAgICB9KTtcbiAgICAgIHRoaXMudHJpZ2dlcihcImxvYWRlbmRcIiwgdGhpcy5yZXF1ZXN0LCB7XG4gICAgICAgIGxvYWRlZDogdGhpcy5yZXNwb25zZUJ1ZmZlci5ieXRlTGVuZ3RoLFxuICAgICAgICB0b3RhbDogdG90YWxSZXNwb25zZUJvZHlMZW5ndGhcbiAgICAgIH0pO1xuICAgIH07XG4gICAgaWYgKHJlc3BvbnNlLmJvZHkpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJtb2NrZWQgcmVzcG9uc2UgaGFzIGJvZHksIHN0cmVhbWluZy4uLlwiKTtcbiAgICAgIGNvbnN0IHJlYWRlciA9IHJlc3BvbnNlLmJvZHkuZ2V0UmVhZGVyKCk7XG4gICAgICBjb25zdCByZWFkTmV4dFJlc3BvbnNlQm9keUNodW5rID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJyZXNwb25zZSBib2R5IHN0cmVhbSBkb25lIVwiKTtcbiAgICAgICAgICBmaW5hbGl6ZVJlc3BvbnNlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJyZWFkIHJlc3BvbnNlIGJvZHkgY2h1bms6XCIsIHZhbHVlKTtcbiAgICAgICAgICB0aGlzLnJlc3BvbnNlQnVmZmVyID0gY29uY2F0QXJyYXlCdWZmZXIodGhpcy5yZXNwb25zZUJ1ZmZlciwgdmFsdWUpO1xuICAgICAgICAgIHRoaXMudHJpZ2dlcihcInByb2dyZXNzXCIsIHRoaXMucmVxdWVzdCwge1xuICAgICAgICAgICAgbG9hZGVkOiB0aGlzLnJlc3BvbnNlQnVmZmVyLmJ5dGVMZW5ndGgsXG4gICAgICAgICAgICB0b3RhbDogdG90YWxSZXNwb25zZUJvZHlMZW5ndGhcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZWFkTmV4dFJlc3BvbnNlQm9keUNodW5rKCk7XG4gICAgICB9O1xuICAgICAgcmVhZE5leHRSZXNwb25zZUJvZHlDaHVuaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaW5hbGl6ZVJlc3BvbnNlKCk7XG4gICAgfVxuICB9XG4gIHJlc3BvbnNlQnVmZmVyVG9UZXh0KCkge1xuICAgIHJldHVybiBkZWNvZGVCdWZmZXIodGhpcy5yZXNwb25zZUJ1ZmZlcik7XG4gIH1cbiAgZ2V0IHJlc3BvbnNlKCkge1xuICAgIHRoaXMubG9nZ2VyLmluZm8oXG4gICAgICBcImdldFJlc3BvbnNlIChyZXNwb25zZVR5cGU6ICVzKVwiLFxuICAgICAgdGhpcy5yZXF1ZXN0LnJlc3BvbnNlVHlwZVxuICAgICk7XG4gICAgaWYgKHRoaXMucmVxdWVzdC5yZWFkeVN0YXRlICE9PSB0aGlzLnJlcXVlc3QuRE9ORSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHN3aXRjaCAodGhpcy5yZXF1ZXN0LnJlc3BvbnNlVHlwZSkge1xuICAgICAgY2FzZSBcImpzb25cIjoge1xuICAgICAgICBjb25zdCByZXNwb25zZUpzb24gPSBwYXJzZUpzb24odGhpcy5yZXNwb25zZUJ1ZmZlclRvVGV4dCgpKTtcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcInJlc29sdmVkIHJlc3BvbnNlIEpTT05cIiwgcmVzcG9uc2VKc29uKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlSnNvbjtcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJhcnJheWJ1ZmZlclwiOiB7XG4gICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gdG9BcnJheUJ1ZmZlcih0aGlzLnJlc3BvbnNlQnVmZmVyKTtcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcInJlc29sdmVkIHJlc3BvbnNlIEFycmF5QnVmZmVyXCIsIGFycmF5QnVmZmVyKTtcbiAgICAgICAgcmV0dXJuIGFycmF5QnVmZmVyO1xuICAgICAgfVxuICAgICAgY2FzZSBcImJsb2JcIjoge1xuICAgICAgICBjb25zdCBtaW1lVHlwZSA9IHRoaXMucmVxdWVzdC5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKSB8fCBcInRleHQvcGxhaW5cIjtcbiAgICAgICAgY29uc3QgcmVzcG9uc2VCbG9iID0gbmV3IEJsb2IoW3RoaXMucmVzcG9uc2VCdWZmZXJUb1RleHQoKV0sIHtcbiAgICAgICAgICB0eXBlOiBtaW1lVHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcbiAgICAgICAgICBcInJlc29sdmVkIHJlc3BvbnNlIEJsb2IgKG1pbWUgdHlwZTogJXMpXCIsXG4gICAgICAgICAgcmVzcG9uc2VCbG9iLFxuICAgICAgICAgIG1pbWVUeXBlXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiByZXNwb25zZUJsb2I7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlVGV4dCA9IHRoaXMucmVzcG9uc2VCdWZmZXJUb1RleHQoKTtcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcbiAgICAgICAgICAncmVzb2x2aW5nIFwiJXNcIiByZXNwb25zZSB0eXBlIGFzIHRleHQnLFxuICAgICAgICAgIHRoaXMucmVxdWVzdC5yZXNwb25zZVR5cGUsXG4gICAgICAgICAgcmVzcG9uc2VUZXh0XG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiByZXNwb25zZVRleHQ7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdldCByZXNwb25zZVRleHQoKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgdGhpcy5yZXF1ZXN0LnJlc3BvbnNlVHlwZSA9PT0gXCJcIiB8fCB0aGlzLnJlcXVlc3QucmVzcG9uc2VUeXBlID09PSBcInRleHRcIixcbiAgICAgIFwiSW52YWxpZFN0YXRlRXJyb3I6IFRoZSBvYmplY3QgaXMgaW4gaW52YWxpZCBzdGF0ZS5cIlxuICAgICk7XG4gICAgaWYgKHRoaXMucmVxdWVzdC5yZWFkeVN0YXRlICE9PSB0aGlzLnJlcXVlc3QuTE9BRElORyAmJiB0aGlzLnJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gdGhpcy5yZXF1ZXN0LkRPTkUpIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBjb25zdCByZXNwb25zZVRleHQgPSB0aGlzLnJlc3BvbnNlQnVmZmVyVG9UZXh0KCk7XG4gICAgdGhpcy5sb2dnZXIuaW5mbygnZ2V0UmVzcG9uc2VUZXh0OiBcIiVzXCInLCByZXNwb25zZVRleHQpO1xuICAgIHJldHVybiByZXNwb25zZVRleHQ7XG4gIH1cbiAgZ2V0IHJlc3BvbnNlWE1MKCkge1xuICAgIGludmFyaWFudChcbiAgICAgIHRoaXMucmVxdWVzdC5yZXNwb25zZVR5cGUgPT09IFwiXCIgfHwgdGhpcy5yZXF1ZXN0LnJlc3BvbnNlVHlwZSA9PT0gXCJkb2N1bWVudFwiLFxuICAgICAgXCJJbnZhbGlkU3RhdGVFcnJvcjogVGhlIG9iamVjdCBpcyBpbiBpbnZhbGlkIHN0YXRlLlwiXG4gICAgKTtcbiAgICBpZiAodGhpcy5yZXF1ZXN0LnJlYWR5U3RhdGUgIT09IHRoaXMucmVxdWVzdC5ET05FKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgY29udGVudFR5cGUgPSB0aGlzLnJlcXVlc3QuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVR5cGVcIikgfHwgXCJcIjtcbiAgICBpZiAodHlwZW9mIERPTVBhcnNlciA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBcIkNhbm5vdCByZXRyaWV2ZSBYTUxIdHRwUmVxdWVzdCByZXNwb25zZSBib2R5IGFzIFhNTDogRE9NUGFyc2VyIGlzIG5vdCBkZWZpbmVkLiBZb3UgYXJlIGxpa2VseSB1c2luZyBhbiBlbnZpcm9ubWVudCB0aGF0IGlzIG5vdCBicm93c2VyIG9yIGRvZXMgbm90IHBvbHlmaWxsIGJyb3dzZXIgZ2xvYmFscyBjb3JyZWN0bHkuXCJcbiAgICAgICk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGlzRG9tUGFyc2VyU3VwcG9ydGVkVHlwZShjb250ZW50VHlwZSkpIHtcbiAgICAgIHJldHVybiBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKFxuICAgICAgICB0aGlzLnJlc3BvbnNlQnVmZmVyVG9UZXh0KCksXG4gICAgICAgIGNvbnRlbnRUeXBlXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBlcnJvcldpdGgoZXJyb3IpIHtcbiAgICB0aGlzW2tJc1JlcXVlc3RIYW5kbGVkXSA9IHRydWU7XG4gICAgdGhpcy5sb2dnZXIuaW5mbyhcInJlc3BvbmRpbmcgd2l0aCBhbiBlcnJvclwiKTtcbiAgICB0aGlzLnNldFJlYWR5U3RhdGUodGhpcy5yZXF1ZXN0LkRPTkUpO1xuICAgIHRoaXMudHJpZ2dlcihcImVycm9yXCIsIHRoaXMucmVxdWVzdCk7XG4gICAgdGhpcy50cmlnZ2VyKFwibG9hZGVuZFwiLCB0aGlzLnJlcXVlc3QpO1xuICB9XG4gIC8qKlxuICAgKiBUcmFuc2l0aW9ucyB0aGlzIHJlcXVlc3QncyBgcmVhZHlTdGF0ZWAgdG8gdGhlIGdpdmVuIG9uZS5cbiAgICovXG4gIHNldFJlYWR5U3RhdGUobmV4dFJlYWR5U3RhdGUpIHtcbiAgICB0aGlzLmxvZ2dlci5pbmZvKFxuICAgICAgXCJzZXRSZWFkeVN0YXRlOiAlZCAtPiAlZFwiLFxuICAgICAgdGhpcy5yZXF1ZXN0LnJlYWR5U3RhdGUsXG4gICAgICBuZXh0UmVhZHlTdGF0ZVxuICAgICk7XG4gICAgaWYgKHRoaXMucmVxdWVzdC5yZWFkeVN0YXRlID09PSBuZXh0UmVhZHlTdGF0ZSkge1xuICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcInJlYWR5IHN0YXRlIGlkZW50aWNhbCwgc2tpcHBpbmcgdHJhbnNpdGlvbi4uLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGVmaW5lKHRoaXMucmVxdWVzdCwgXCJyZWFkeVN0YXRlXCIsIG5leHRSZWFkeVN0YXRlKTtcbiAgICB0aGlzLmxvZ2dlci5pbmZvKFwic2V0IHJlYWR5U3RhdGUgdG86ICVkXCIsIG5leHRSZWFkeVN0YXRlKTtcbiAgICBpZiAobmV4dFJlYWR5U3RhdGUgIT09IHRoaXMucmVxdWVzdC5VTlNFTlQpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ3RyaWdnZXJyaW5nIFwicmVhZHlzdGF0ZWNoYW5nZVwiIGV2ZW50Li4uJyk7XG4gICAgICB0aGlzLnRyaWdnZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsIHRoaXMucmVxdWVzdCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBUcmlnZ2VycyBnaXZlbiBldmVudCBvbiB0aGUgYFhNTEh0dHBSZXF1ZXN0YCBpbnN0YW5jZS5cbiAgICovXG4gIHRyaWdnZXIoZXZlbnROYW1lLCB0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBjYWxsYmFjayA9IHRhcmdldFtgb24ke2V2ZW50TmFtZX1gXTtcbiAgICBjb25zdCBldmVudCA9IGNyZWF0ZUV2ZW50KHRhcmdldCwgZXZlbnROYW1lLCBvcHRpb25zKTtcbiAgICB0aGlzLmxvZ2dlci5pbmZvKCd0cmlnZ2VyIFwiJXNcIicsIGV2ZW50TmFtZSwgb3B0aW9ucyB8fCBcIlwiKTtcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ2ZvdW5kIGEgZGlyZWN0IFwiJXNcIiBjYWxsYmFjaywgY2FsbGluZy4uLicsIGV2ZW50TmFtZSk7XG4gICAgICBjYWxsYmFjay5jYWxsKHRhcmdldCwgZXZlbnQpO1xuICAgIH1cbiAgICBjb25zdCBldmVudHMgPSB0YXJnZXQgaW5zdGFuY2VvZiBYTUxIdHRwUmVxdWVzdFVwbG9hZCA/IHRoaXMudXBsb2FkRXZlbnRzIDogdGhpcy5ldmVudHM7XG4gICAgZm9yIChjb25zdCBbcmVnaXN0ZXJlZEV2ZW50TmFtZSwgbGlzdGVuZXJzXSBvZiBldmVudHMpIHtcbiAgICAgIGlmIChyZWdpc3RlcmVkRXZlbnROYW1lID09PSBldmVudE5hbWUpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcbiAgICAgICAgICAnZm91bmQgJWQgbGlzdGVuZXIocykgZm9yIFwiJXNcIiBldmVudCwgY2FsbGluZy4uLicsXG4gICAgICAgICAgbGlzdGVuZXJzLmxlbmd0aCxcbiAgICAgICAgICBldmVudE5hbWVcbiAgICAgICAgKTtcbiAgICAgICAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lci5jYWxsKHRhcmdldCwgZXZlbnQpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnRzIHRoaXMgYFhNTEh0dHBSZXF1ZXN0YCBpbnN0YW5jZSBpbnRvIGEgRmV0Y2ggQVBJIGBSZXF1ZXN0YCBpbnN0YW5jZS5cbiAgICovXG4gIHRvRmV0Y2hBcGlSZXF1ZXN0KGJvZHkpIHtcbiAgICB0aGlzLmxvZ2dlci5pbmZvKFwiY29udmVydGluZyByZXF1ZXN0IHRvIGEgRmV0Y2ggQVBJIFJlcXVlc3QuLi5cIik7XG4gICAgY29uc3QgcmVzb2x2ZWRCb2R5ID0gYm9keSBpbnN0YW5jZW9mIERvY3VtZW50ID8gYm9keS5kb2N1bWVudEVsZW1lbnQuaW5uZXJUZXh0IDogYm9keTtcbiAgICBjb25zdCBmZXRjaFJlcXVlc3QgPSBuZXcgUmVxdWVzdCh0aGlzLnVybC5ocmVmLCB7XG4gICAgICBtZXRob2Q6IHRoaXMubWV0aG9kLFxuICAgICAgaGVhZGVyczogdGhpcy5yZXF1ZXN0SGVhZGVycyxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3hoci5zcGVjLndoYXR3Zy5vcmcvI2Nyb3NzLW9yaWdpbi1jcmVkZW50aWFsc1xuICAgICAgICovXG4gICAgICBjcmVkZW50aWFsczogdGhpcy5yZXF1ZXN0LndpdGhDcmVkZW50aWFscyA/IFwiaW5jbHVkZVwiIDogXCJzYW1lLW9yaWdpblwiLFxuICAgICAgYm9keTogW1wiR0VUXCIsIFwiSEVBRFwiXS5pbmNsdWRlcyh0aGlzLm1ldGhvZC50b1VwcGVyQ2FzZSgpKSA/IG51bGwgOiByZXNvbHZlZEJvZHlcbiAgICB9KTtcbiAgICBjb25zdCBwcm94eUhlYWRlcnMgPSBjcmVhdGVQcm94eShmZXRjaFJlcXVlc3QuaGVhZGVycywge1xuICAgICAgbWV0aG9kQ2FsbDogKFttZXRob2ROYW1lLCBhcmdzXSwgaW52b2tlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAobWV0aG9kTmFtZSkge1xuICAgICAgICAgIGNhc2UgXCJhcHBlbmRcIjpcbiAgICAgICAgICBjYXNlIFwic2V0XCI6IHtcbiAgICAgICAgICAgIGNvbnN0IFtoZWFkZXJOYW1lLCBoZWFkZXJWYWx1ZV0gPSBhcmdzO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoaGVhZGVyTmFtZSwgaGVhZGVyVmFsdWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJkZWxldGVcIjoge1xuICAgICAgICAgICAgY29uc3QgW2hlYWRlck5hbWVdID0gYXJncztcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgYFhNTEh0dHBSZXF1ZXN0OiBDYW5ub3QgcmVtb3ZlIGEgXCIke2hlYWRlck5hbWV9XCIgaGVhZGVyIGZyb20gdGhlIEZldGNoIEFQSSByZXByZXNlbnRhdGlvbiBvZiB0aGUgXCIke2ZldGNoUmVxdWVzdC5tZXRob2R9ICR7ZmV0Y2hSZXF1ZXN0LnVybH1cIiByZXF1ZXN0LiBYTUxIdHRwUmVxdWVzdCBoZWFkZXJzIGNhbm5vdCBiZSByZW1vdmVkLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGludm9rZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGRlZmluZShmZXRjaFJlcXVlc3QsIFwiaGVhZGVyc1wiLCBwcm94eUhlYWRlcnMpO1xuICAgIHRoaXMubG9nZ2VyLmluZm8oXCJjb252ZXJ0ZWQgcmVxdWVzdCB0byBhIEZldGNoIEFQSSBSZXF1ZXN0IVwiLCBmZXRjaFJlcXVlc3QpO1xuICAgIHJldHVybiBmZXRjaFJlcXVlc3Q7XG4gIH1cbn07XG5rSXNSZXF1ZXN0SGFuZGxlZCwga0ZldGNoUmVxdWVzdDtcbmZ1bmN0aW9uIHRvQWJzb2x1dGVVcmwodXJsKSB7XG4gIGlmICh0eXBlb2YgbG9jYXRpb24gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gbmV3IFVSTCh1cmwpO1xuICB9XG4gIHJldHVybiBuZXcgVVJMKHVybC50b1N0cmluZygpLCBsb2NhdGlvbi5ocmVmKTtcbn1cbmZ1bmN0aW9uIGRlZmluZSh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSkge1xuICBSZWZsZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHtcbiAgICAvLyBFbnN1cmUgd3JpdGFibGUgcHJvcGVydGllcyB0byBhbGxvdyByZWRlZmluaW5nIHJlYWRvbmx5IHByb3BlcnRpZXMuXG4gICAgd3JpdGFibGU6IHRydWUsXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICB2YWx1ZVxuICB9KTtcbn1cblxuLy8gc3JjL2ludGVyY2VwdG9ycy9YTUxIdHRwUmVxdWVzdC9YTUxIdHRwUmVxdWVzdFByb3h5LnRzXG5mdW5jdGlvbiBjcmVhdGVYTUxIdHRwUmVxdWVzdFByb3h5KHtcbiAgZW1pdHRlcixcbiAgbG9nZ2VyXG59KSB7XG4gIGNvbnN0IFhNTEh0dHBSZXF1ZXN0UHJveHkgPSBuZXcgUHJveHkoZ2xvYmFsVGhpcy5YTUxIdHRwUmVxdWVzdCwge1xuICAgIGNvbnN0cnVjdCh0YXJnZXQsIGFyZ3MsIG5ld1RhcmdldCkge1xuICAgICAgbG9nZ2VyLmluZm8oXCJjb25zdHJ1Y3RlZCBuZXcgWE1MSHR0cFJlcXVlc3RcIik7XG4gICAgICBjb25zdCBvcmlnaW5hbFJlcXVlc3QgPSBSZWZsZWN0LmNvbnN0cnVjdChcbiAgICAgICAgdGFyZ2V0LFxuICAgICAgICBhcmdzLFxuICAgICAgICBuZXdUYXJnZXRcbiAgICAgICk7XG4gICAgICBjb25zdCBwcm90b3R5cGVEZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKFxuICAgICAgICB0YXJnZXQucHJvdG90eXBlXG4gICAgICApO1xuICAgICAgZm9yIChjb25zdCBwcm9wZXJ0eU5hbWUgaW4gcHJvdG90eXBlRGVzY3JpcHRvcnMpIHtcbiAgICAgICAgUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICBvcmlnaW5hbFJlcXVlc3QsXG4gICAgICAgICAgcHJvcGVydHlOYW1lLFxuICAgICAgICAgIHByb3RvdHlwZURlc2NyaXB0b3JzW3Byb3BlcnR5TmFtZV1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHhoclJlcXVlc3RDb250cm9sbGVyID0gbmV3IFhNTEh0dHBSZXF1ZXN0Q29udHJvbGxlcihcbiAgICAgICAgb3JpZ2luYWxSZXF1ZXN0LFxuICAgICAgICBsb2dnZXJcbiAgICAgICk7XG4gICAgICB4aHJSZXF1ZXN0Q29udHJvbGxlci5vblJlcXVlc3QgPSBhc3luYyBmdW5jdGlvbih7IHJlcXVlc3QsIHJlcXVlc3RJZCB9KSB7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgUmVxdWVzdENvbnRyb2xsZXIocmVxdWVzdCk7XG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJhd2FpdGluZyBtb2NrZWQgcmVzcG9uc2UuLi5cIik7XG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXG4gICAgICAgICAgJ2VtaXR0aW5nIHRoZSBcInJlcXVlc3RcIiBldmVudCBmb3IgJXMgbGlzdGVuZXIocykuLi4nLFxuICAgICAgICAgIGVtaXR0ZXIubGlzdGVuZXJDb3VudChcInJlcXVlc3RcIilcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgaXNSZXF1ZXN0SGFuZGxlZCA9IGF3YWl0IGhhbmRsZVJlcXVlc3Qoe1xuICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICAgIGNvbnRyb2xsZXIsXG4gICAgICAgICAgZW1pdHRlcixcbiAgICAgICAgICBvblJlc3BvbnNlOiBhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVzcG9uZFdpdGgocmVzcG9uc2UpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25SZXF1ZXN0RXJyb3I6ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3JXaXRoKG5ldyBUeXBlRXJyb3IoXCJOZXR3b3JrIGVycm9yXCIpKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uRXJyb3I6IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcInJlcXVlc3QgZXJyb3JlZCFcIiwgeyBlcnJvciB9KTtcbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgIHRoaXMuZXJyb3JXaXRoKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWlzUmVxdWVzdEhhbmRsZWQpIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFxuICAgICAgICAgICAgXCJubyBtb2NrZWQgcmVzcG9uc2UgcmVjZWl2ZWQsIHBlcmZvcm1pbmcgcmVxdWVzdCBhcy1pcy4uLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHhoclJlcXVlc3RDb250cm9sbGVyLm9uUmVzcG9uc2UgPSBhc3luYyBmdW5jdGlvbih7XG4gICAgICAgIHJlc3BvbnNlLFxuICAgICAgICBpc01vY2tlZFJlc3BvbnNlLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICByZXF1ZXN0SWRcbiAgICAgIH0pIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcbiAgICAgICAgICAnZW1pdHRpbmcgdGhlIFwicmVzcG9uc2VcIiBldmVudCBmb3IgJXMgbGlzdGVuZXIocykuLi4nLFxuICAgICAgICAgIGVtaXR0ZXIubGlzdGVuZXJDb3VudChcInJlc3BvbnNlXCIpXG4gICAgICAgICk7XG4gICAgICAgIGVtaXR0ZXIuZW1pdChcInJlc3BvbnNlXCIsIHtcbiAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICBpc01vY2tlZFJlc3BvbnNlLFxuICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgcmVxdWVzdElkXG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIHJldHVybiB4aHJSZXF1ZXN0Q29udHJvbGxlci5yZXF1ZXN0O1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBYTUxIdHRwUmVxdWVzdFByb3h5O1xufVxuXG4vLyBzcmMvaW50ZXJjZXB0b3JzL1hNTEh0dHBSZXF1ZXN0L2luZGV4LnRzXG52YXIgX1hNTEh0dHBSZXF1ZXN0SW50ZXJjZXB0b3IgPSBjbGFzcyBleHRlbmRzIEludGVyY2VwdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoX1hNTEh0dHBSZXF1ZXN0SW50ZXJjZXB0b3IuaW50ZXJjZXB0b3JTeW1ib2wpO1xuICB9XG4gIGNoZWNrRW52aXJvbm1lbnQoKSB7XG4gICAgcmV0dXJuIGhhc0NvbmZpZ3VyYWJsZUdsb2JhbChcIlhNTEh0dHBSZXF1ZXN0XCIpO1xuICB9XG4gIHNldHVwKCkge1xuICAgIGNvbnN0IGxvZ2dlciA9IHRoaXMubG9nZ2VyLmV4dGVuZChcInNldHVwXCIpO1xuICAgIGxvZ2dlci5pbmZvKCdwYXRjaGluZyBcIlhNTEh0dHBSZXF1ZXN0XCIgbW9kdWxlLi4uJyk7XG4gICAgY29uc3QgUHVyZVhNTEh0dHBSZXF1ZXN0ID0gZ2xvYmFsVGhpcy5YTUxIdHRwUmVxdWVzdDtcbiAgICBpbnZhcmlhbnQyKFxuICAgICAgIVB1cmVYTUxIdHRwUmVxdWVzdFtJU19QQVRDSEVEX01PRFVMRV0sXG4gICAgICAnRmFpbGVkIHRvIHBhdGNoIHRoZSBcIlhNTEh0dHBSZXF1ZXN0XCIgbW9kdWxlOiBhbHJlYWR5IHBhdGNoZWQuJ1xuICAgICk7XG4gICAgZ2xvYmFsVGhpcy5YTUxIdHRwUmVxdWVzdCA9IGNyZWF0ZVhNTEh0dHBSZXF1ZXN0UHJveHkoe1xuICAgICAgZW1pdHRlcjogdGhpcy5lbWl0dGVyLFxuICAgICAgbG9nZ2VyOiB0aGlzLmxvZ2dlclxuICAgIH0pO1xuICAgIGxvZ2dlci5pbmZvKFxuICAgICAgJ25hdGl2ZSBcIlhNTEh0dHBSZXF1ZXN0XCIgbW9kdWxlIHBhdGNoZWQhJyxcbiAgICAgIGdsb2JhbFRoaXMuWE1MSHR0cFJlcXVlc3QubmFtZVxuICAgICk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGdsb2JhbFRoaXMuWE1MSHR0cFJlcXVlc3QsIElTX1BBVENIRURfTU9EVUxFLCB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaCgoKSA9PiB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZ2xvYmFsVGhpcy5YTUxIdHRwUmVxdWVzdCwgSVNfUEFUQ0hFRF9NT0RVTEUsIHtcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBnbG9iYWxUaGlzLlhNTEh0dHBSZXF1ZXN0ID0gUHVyZVhNTEh0dHBSZXF1ZXN0O1xuICAgICAgbG9nZ2VyLmluZm8oXG4gICAgICAgICduYXRpdmUgXCJYTUxIdHRwUmVxdWVzdFwiIG1vZHVsZSByZXN0b3JlZCEnLFxuICAgICAgICBnbG9iYWxUaGlzLlhNTEh0dHBSZXF1ZXN0Lm5hbWVcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbn07XG52YXIgWE1MSHR0cFJlcXVlc3RJbnRlcmNlcHRvciA9IF9YTUxIdHRwUmVxdWVzdEludGVyY2VwdG9yO1xuWE1MSHR0cFJlcXVlc3RJbnRlcmNlcHRvci5pbnRlcmNlcHRvclN5bWJvbCA9IFN5bWJvbChcInhoclwiKTtcblxuZXhwb3J0IHtcbiAgWE1MSHR0cFJlcXVlc3RJbnRlcmNlcHRvclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLU9NV0U3VVZNLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-OMWE7UVM.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-PJA4E426.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@mswjs/interceptors/lib/node/chunk-PJA4E426.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BatchInterceptor: () => (/* binding */ BatchInterceptor)\n/* harmony export */ });\n/* harmony import */ var _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-I7HQIBT7.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-I7HQIBT7.mjs\");\n\n\n// src/BatchInterceptor.ts\nvar BatchInterceptor = class extends _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_0__.Interceptor {\n  constructor(options) {\n    BatchInterceptor.symbol = Symbol(options.name);\n    super(BatchInterceptor.symbol);\n    this.interceptors = options.interceptors;\n  }\n  setup() {\n    const logger = this.logger.extend(\"setup\");\n    logger.info(\"applying all %d interceptors...\", this.interceptors.length);\n    for (const interceptor of this.interceptors) {\n      logger.info('applying \"%s\" interceptor...', interceptor.constructor.name);\n      interceptor.apply();\n      logger.info(\"adding interceptor dispose subscription\");\n      this.subscriptions.push(() => interceptor.dispose());\n    }\n  }\n  on(event, listener) {\n    for (const interceptor of this.interceptors) {\n      interceptor.on(event, listener);\n    }\n    return this;\n  }\n  once(event, listener) {\n    for (const interceptor of this.interceptors) {\n      interceptor.once(event, listener);\n    }\n    return this;\n  }\n  off(event, listener) {\n    for (const interceptor of this.interceptors) {\n      interceptor.off(event, listener);\n    }\n    return this;\n  }\n  removeAllListeners(event) {\n    for (const interceptors of this.interceptors) {\n      interceptors.removeAllListeners(event);\n    }\n    return this;\n  }\n};\n\n\n//# sourceMappingURL=chunk-PJA4E426.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvbm9kZS9jaHVuay1QSkE0RTQyNi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFOEI7O0FBRTlCO0FBQ0EscUNBQXFDLDREQUFXO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL3Jpa3VzZW4vd29ya3NwYWNlL25leHRqcy1tc3ctcmVwcm9kdWN0aW9uL25vZGVfbW9kdWxlcy9AbXN3anMvaW50ZXJjZXB0b3JzL2xpYi9ub2RlL2NodW5rLVBKQTRFNDI2Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBJbnRlcmNlcHRvclxufSBmcm9tIFwiLi9jaHVuay1JN0hRSUJUNy5tanNcIjtcblxuLy8gc3JjL0JhdGNoSW50ZXJjZXB0b3IudHNcbnZhciBCYXRjaEludGVyY2VwdG9yID0gY2xhc3MgZXh0ZW5kcyBJbnRlcmNlcHRvciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBCYXRjaEludGVyY2VwdG9yLnN5bWJvbCA9IFN5bWJvbChvcHRpb25zLm5hbWUpO1xuICAgIHN1cGVyKEJhdGNoSW50ZXJjZXB0b3Iuc3ltYm9sKTtcbiAgICB0aGlzLmludGVyY2VwdG9ycyA9IG9wdGlvbnMuaW50ZXJjZXB0b3JzO1xuICB9XG4gIHNldHVwKCkge1xuICAgIGNvbnN0IGxvZ2dlciA9IHRoaXMubG9nZ2VyLmV4dGVuZChcInNldHVwXCIpO1xuICAgIGxvZ2dlci5pbmZvKFwiYXBwbHlpbmcgYWxsICVkIGludGVyY2VwdG9ycy4uLlwiLCB0aGlzLmludGVyY2VwdG9ycy5sZW5ndGgpO1xuICAgIGZvciAoY29uc3QgaW50ZXJjZXB0b3Igb2YgdGhpcy5pbnRlcmNlcHRvcnMpIHtcbiAgICAgIGxvZ2dlci5pbmZvKCdhcHBseWluZyBcIiVzXCIgaW50ZXJjZXB0b3IuLi4nLCBpbnRlcmNlcHRvci5jb25zdHJ1Y3Rvci5uYW1lKTtcbiAgICAgIGludGVyY2VwdG9yLmFwcGx5KCk7XG4gICAgICBsb2dnZXIuaW5mbyhcImFkZGluZyBpbnRlcmNlcHRvciBkaXNwb3NlIHN1YnNjcmlwdGlvblwiKTtcbiAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKCgpID0+IGludGVyY2VwdG9yLmRpc3Bvc2UoKSk7XG4gICAgfVxuICB9XG4gIG9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgIGZvciAoY29uc3QgaW50ZXJjZXB0b3Igb2YgdGhpcy5pbnRlcmNlcHRvcnMpIHtcbiAgICAgIGludGVyY2VwdG9yLm9uKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIG9uY2UoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgZm9yIChjb25zdCBpbnRlcmNlcHRvciBvZiB0aGlzLmludGVyY2VwdG9ycykge1xuICAgICAgaW50ZXJjZXB0b3Iub25jZShldmVudCwgbGlzdGVuZXIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBvZmYoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgZm9yIChjb25zdCBpbnRlcmNlcHRvciBvZiB0aGlzLmludGVyY2VwdG9ycykge1xuICAgICAgaW50ZXJjZXB0b3Iub2ZmKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICAgIGZvciAoY29uc3QgaW50ZXJjZXB0b3JzIG9mIHRoaXMuaW50ZXJjZXB0b3JzKSB7XG4gICAgICBpbnRlcmNlcHRvcnMucmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn07XG5cbmV4cG9ydCB7XG4gIEJhdGNoSW50ZXJjZXB0b3Jcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1QSkE0RTQyNi5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-PJA4E426.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-TX5GBTFY.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@mswjs/interceptors/lib/node/chunk-TX5GBTFY.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hasConfigurableGlobal: () => (/* binding */ hasConfigurableGlobal)\n/* harmony export */ });\n// src/utils/hasConfigurableGlobal.ts\nfunction hasConfigurableGlobal(propertyName) {\n  const descriptor = Object.getOwnPropertyDescriptor(globalThis, propertyName);\n  if (typeof descriptor === \"undefined\") {\n    return false;\n  }\n  if (typeof descriptor.get === \"function\" && typeof descriptor.get() === \"undefined\") {\n    return false;\n  }\n  if (typeof descriptor.get === \"undefined\" && descriptor.value == null) {\n    return false;\n  }\n  if (typeof descriptor.set === \"undefined\" && !descriptor.configurable) {\n    console.error(\n      `[MSW] Failed to apply interceptor: the global \\`${propertyName}\\` property is non-configurable. This is likely an issue with your environment. If you are using a framework, please open an issue about this in their repository.`\n    );\n    return false;\n  }\n  return true;\n}\n\n\n//# sourceMappingURL=chunk-TX5GBTFY.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvbm9kZS9jaHVuay1UWDVHQlRGWS5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsYUFBYTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL3Jpa3VzZW4vd29ya3NwYWNlL25leHRqcy1tc3ctcmVwcm9kdWN0aW9uL25vZGVfbW9kdWxlcy9AbXN3anMvaW50ZXJjZXB0b3JzL2xpYi9ub2RlL2NodW5rLVRYNUdCVEZZLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvdXRpbHMvaGFzQ29uZmlndXJhYmxlR2xvYmFsLnRzXG5mdW5jdGlvbiBoYXNDb25maWd1cmFibGVHbG9iYWwocHJvcGVydHlOYW1lKSB7XG4gIGNvbnN0IGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGdsb2JhbFRoaXMsIHByb3BlcnR5TmFtZSk7XG4gIGlmICh0eXBlb2YgZGVzY3JpcHRvciA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIGRlc2NyaXB0b3IuZ2V0ID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIGRlc2NyaXB0b3IuZ2V0KCkgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHR5cGVvZiBkZXNjcmlwdG9yLmdldCA9PT0gXCJ1bmRlZmluZWRcIiAmJiBkZXNjcmlwdG9yLnZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHR5cGVvZiBkZXNjcmlwdG9yLnNldCA9PT0gXCJ1bmRlZmluZWRcIiAmJiAhZGVzY3JpcHRvci5jb25maWd1cmFibGUpIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgYFtNU1ddIEZhaWxlZCB0byBhcHBseSBpbnRlcmNlcHRvcjogdGhlIGdsb2JhbCBcXGAke3Byb3BlcnR5TmFtZX1cXGAgcHJvcGVydHkgaXMgbm9uLWNvbmZpZ3VyYWJsZS4gVGhpcyBpcyBsaWtlbHkgYW4gaXNzdWUgd2l0aCB5b3VyIGVudmlyb25tZW50LiBJZiB5b3UgYXJlIHVzaW5nIGEgZnJhbWV3b3JrLCBwbGVhc2Ugb3BlbiBhbiBpc3N1ZSBhYm91dCB0aGlzIGluIHRoZWlyIHJlcG9zaXRvcnkuYFxuICAgICk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQge1xuICBoYXNDb25maWd1cmFibGVHbG9iYWxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1UWDVHQlRGWS5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-TX5GBTFY.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@mswjs/interceptors/lib/node/index.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@mswjs/interceptors/lib/node/index.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BatchInterceptor: () => (/* reexport safe */ _chunk_PJA4E426_mjs__WEBPACK_IMPORTED_MODULE_0__.BatchInterceptor),\n/* harmony export */   FetchResponse: () => (/* reexport safe */ _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_3__.FetchResponse),\n/* harmony export */   INTERNAL_REQUEST_ID_HEADER_NAME: () => (/* reexport safe */ _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_3__.INTERNAL_REQUEST_ID_HEADER_NAME),\n/* harmony export */   IS_PATCHED_MODULE: () => (/* reexport safe */ _chunk_6YM4PLBI_mjs__WEBPACK_IMPORTED_MODULE_2__.IS_PATCHED_MODULE),\n/* harmony export */   Interceptor: () => (/* reexport safe */ _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_3__.Interceptor),\n/* harmony export */   InterceptorReadyState: () => (/* reexport safe */ _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_3__.InterceptorReadyState),\n/* harmony export */   createRequestId: () => (/* reexport safe */ _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_3__.createRequestId),\n/* harmony export */   decodeBuffer: () => (/* reexport safe */ _chunk_6HYIRFX2_mjs__WEBPACK_IMPORTED_MODULE_1__.decodeBuffer),\n/* harmony export */   deleteGlobalSymbol: () => (/* reexport safe */ _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_3__.deleteGlobalSymbol),\n/* harmony export */   encodeBuffer: () => (/* reexport safe */ _chunk_6HYIRFX2_mjs__WEBPACK_IMPORTED_MODULE_1__.encodeBuffer),\n/* harmony export */   getCleanUrl: () => (/* binding */ getCleanUrl),\n/* harmony export */   getGlobalSymbol: () => (/* reexport safe */ _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_3__.getGlobalSymbol)\n/* harmony export */ });\n/* harmony import */ var _chunk_PJA4E426_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-PJA4E426.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-PJA4E426.mjs\");\n/* harmony import */ var _chunk_6HYIRFX2_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-6HYIRFX2.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-6HYIRFX2.mjs\");\n/* harmony import */ var _chunk_6YM4PLBI_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-6YM4PLBI.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-6YM4PLBI.mjs\");\n/* harmony import */ var _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-I7HQIBT7.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-I7HQIBT7.mjs\");\n\n\n\n\n\n// src/utils/getCleanUrl.ts\nfunction getCleanUrl(url, isAbsolute = true) {\n  return [isAbsolute && url.origin, url.pathname].filter(Boolean).join(\"\");\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvbm9kZS9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUU4QjtBQUlBO0FBR0E7QUFTQTs7QUFFOUI7QUFDQTtBQUNBO0FBQ0E7QUFjRTtBQUNGIiwic291cmNlcyI6WyIvaG9tZS9yaWt1c2VuL3dvcmtzcGFjZS9uZXh0anMtbXN3LXJlcHJvZHVjdGlvbi9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvbm9kZS9pbmRleC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQmF0Y2hJbnRlcmNlcHRvclxufSBmcm9tIFwiLi9jaHVuay1QSkE0RTQyNi5tanNcIjtcbmltcG9ydCB7XG4gIGRlY29kZUJ1ZmZlcixcbiAgZW5jb2RlQnVmZmVyXG59IGZyb20gXCIuL2NodW5rLTZIWUlSRlgyLm1qc1wiO1xuaW1wb3J0IHtcbiAgSVNfUEFUQ0hFRF9NT0RVTEVcbn0gZnJvbSBcIi4vY2h1bmstNllNNFBMQkkubWpzXCI7XG5pbXBvcnQge1xuICBGZXRjaFJlc3BvbnNlLFxuICBJTlRFUk5BTF9SRVFVRVNUX0lEX0hFQURFUl9OQU1FLFxuICBJbnRlcmNlcHRvcixcbiAgSW50ZXJjZXB0b3JSZWFkeVN0YXRlLFxuICBjcmVhdGVSZXF1ZXN0SWQsXG4gIGRlbGV0ZUdsb2JhbFN5bWJvbCxcbiAgZ2V0R2xvYmFsU3ltYm9sXG59IGZyb20gXCIuL2NodW5rLUk3SFFJQlQ3Lm1qc1wiO1xuXG4vLyBzcmMvdXRpbHMvZ2V0Q2xlYW5VcmwudHNcbmZ1bmN0aW9uIGdldENsZWFuVXJsKHVybCwgaXNBYnNvbHV0ZSA9IHRydWUpIHtcbiAgcmV0dXJuIFtpc0Fic29sdXRlICYmIHVybC5vcmlnaW4sIHVybC5wYXRobmFtZV0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCJcIik7XG59XG5leHBvcnQge1xuICBCYXRjaEludGVyY2VwdG9yLFxuICBGZXRjaFJlc3BvbnNlLFxuICBJTlRFUk5BTF9SRVFVRVNUX0lEX0hFQURFUl9OQU1FLFxuICBJU19QQVRDSEVEX01PRFVMRSxcbiAgSW50ZXJjZXB0b3IsXG4gIEludGVyY2VwdG9yUmVhZHlTdGF0ZSxcbiAgY3JlYXRlUmVxdWVzdElkLFxuICBkZWNvZGVCdWZmZXIsXG4gIGRlbGV0ZUdsb2JhbFN5bWJvbCxcbiAgZW5jb2RlQnVmZmVyLFxuICBnZXRDbGVhblVybCxcbiAgZ2V0R2xvYmFsU3ltYm9sXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@mswjs/interceptors/lib/node/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@mswjs/interceptors/lib/node/interceptors/ClientRequest/index.mjs":
/*!****************************************************************************************!*\
  !*** ./node_modules/@mswjs/interceptors/lib/node/interceptors/ClientRequest/index.mjs ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ClientRequestInterceptor: () => (/* reexport safe */ _chunk_FWJSC2QD_mjs__WEBPACK_IMPORTED_MODULE_0__.ClientRequestInterceptor)\n/* harmony export */ });\n/* harmony import */ var _chunk_FWJSC2QD_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunk-FWJSC2QD.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-FWJSC2QD.mjs\");\n/* harmony import */ var _chunk_5KMS5CTP_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../chunk-5KMS5CTP.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-5KMS5CTP.mjs\");\n/* harmony import */ var _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../chunk-I7HQIBT7.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-I7HQIBT7.mjs\");\n\n\n\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvbm9kZS9pbnRlcmNlcHRvcnMvQ2xpZW50UmVxdWVzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUVrQztBQUNBO0FBQ0E7QUFHaEM7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvcmlrdXNlbi93b3Jrc3BhY2UvbmV4dGpzLW1zdy1yZXByb2R1Y3Rpb24vbm9kZV9tb2R1bGVzL0Btc3dqcy9pbnRlcmNlcHRvcnMvbGliL25vZGUvaW50ZXJjZXB0b3JzL0NsaWVudFJlcXVlc3QvaW5kZXgubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENsaWVudFJlcXVlc3RJbnRlcmNlcHRvclxufSBmcm9tIFwiLi4vLi4vY2h1bmstRldKU0MyUUQubWpzXCI7XG5pbXBvcnQgXCIuLi8uLi9jaHVuay01S01TNUNUUC5tanNcIjtcbmltcG9ydCBcIi4uLy4uL2NodW5rLUk3SFFJQlQ3Lm1qc1wiO1xuZXhwb3J0IHtcbiAgQ2xpZW50UmVxdWVzdEludGVyY2VwdG9yXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@mswjs/interceptors/lib/node/interceptors/ClientRequest/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@mswjs/interceptors/lib/node/interceptors/XMLHttpRequest/index.mjs":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@mswjs/interceptors/lib/node/interceptors/XMLHttpRequest/index.mjs ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   XMLHttpRequestInterceptor: () => (/* reexport safe */ _chunk_OMWE7UVM_mjs__WEBPACK_IMPORTED_MODULE_0__.XMLHttpRequestInterceptor)\n/* harmony export */ });\n/* harmony import */ var _chunk_OMWE7UVM_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunk-OMWE7UVM.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-OMWE7UVM.mjs\");\n/* harmony import */ var _chunk_6HYIRFX2_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../chunk-6HYIRFX2.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-6HYIRFX2.mjs\");\n/* harmony import */ var _chunk_TX5GBTFY_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../chunk-TX5GBTFY.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-TX5GBTFY.mjs\");\n/* harmony import */ var _chunk_6YM4PLBI_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../chunk-6YM4PLBI.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-6YM4PLBI.mjs\");\n/* harmony import */ var _chunk_5KMS5CTP_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../chunk-5KMS5CTP.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-5KMS5CTP.mjs\");\n/* harmony import */ var _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../chunk-I7HQIBT7.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-I7HQIBT7.mjs\");\n\n\n\n\n\n\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvbm9kZS9pbnRlcmNlcHRvcnMvWE1MSHR0cFJlcXVlc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFa0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR2hDO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL3Jpa3VzZW4vd29ya3NwYWNlL25leHRqcy1tc3ctcmVwcm9kdWN0aW9uL25vZGVfbW9kdWxlcy9AbXN3anMvaW50ZXJjZXB0b3JzL2xpYi9ub2RlL2ludGVyY2VwdG9ycy9YTUxIdHRwUmVxdWVzdC9pbmRleC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgWE1MSHR0cFJlcXVlc3RJbnRlcmNlcHRvclxufSBmcm9tIFwiLi4vLi4vY2h1bmstT01XRTdVVk0ubWpzXCI7XG5pbXBvcnQgXCIuLi8uLi9jaHVuay02SFlJUkZYMi5tanNcIjtcbmltcG9ydCBcIi4uLy4uL2NodW5rLVRYNUdCVEZZLm1qc1wiO1xuaW1wb3J0IFwiLi4vLi4vY2h1bmstNllNNFBMQkkubWpzXCI7XG5pbXBvcnQgXCIuLi8uLi9jaHVuay01S01TNUNUUC5tanNcIjtcbmltcG9ydCBcIi4uLy4uL2NodW5rLUk3SFFJQlQ3Lm1qc1wiO1xuZXhwb3J0IHtcbiAgWE1MSHR0cFJlcXVlc3RJbnRlcmNlcHRvclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@mswjs/interceptors/lib/node/interceptors/XMLHttpRequest/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@mswjs/interceptors/lib/node/interceptors/fetch/index.mjs":
/*!********************************************************************************!*\
  !*** ./node_modules/@mswjs/interceptors/lib/node/interceptors/fetch/index.mjs ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FetchInterceptor: () => (/* reexport safe */ _chunk_CTGTMEFD_mjs__WEBPACK_IMPORTED_MODULE_0__.FetchInterceptor)\n/* harmony export */ });\n/* harmony import */ var _chunk_CTGTMEFD_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunk-CTGTMEFD.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-CTGTMEFD.mjs\");\n/* harmony import */ var _chunk_TX5GBTFY_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../chunk-TX5GBTFY.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-TX5GBTFY.mjs\");\n/* harmony import */ var _chunk_6YM4PLBI_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../chunk-6YM4PLBI.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-6YM4PLBI.mjs\");\n/* harmony import */ var _chunk_5KMS5CTP_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../chunk-5KMS5CTP.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-5KMS5CTP.mjs\");\n/* harmony import */ var _chunk_I7HQIBT7_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../chunk-I7HQIBT7.mjs */ \"(rsc)/./node_modules/@mswjs/interceptors/lib/node/chunk-I7HQIBT7.mjs\");\n\n\n\n\n\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvbm9kZS9pbnRlcmNlcHRvcnMvZmV0Y2gvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUVrQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR2hDO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL3Jpa3VzZW4vd29ya3NwYWNlL25leHRqcy1tc3ctcmVwcm9kdWN0aW9uL25vZGVfbW9kdWxlcy9AbXN3anMvaW50ZXJjZXB0b3JzL2xpYi9ub2RlL2ludGVyY2VwdG9ycy9mZXRjaC9pbmRleC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgRmV0Y2hJbnRlcmNlcHRvclxufSBmcm9tIFwiLi4vLi4vY2h1bmstQ1RHVE1FRkQubWpzXCI7XG5pbXBvcnQgXCIuLi8uLi9jaHVuay1UWDVHQlRGWS5tanNcIjtcbmltcG9ydCBcIi4uLy4uL2NodW5rLTZZTTRQTEJJLm1qc1wiO1xuaW1wb3J0IFwiLi4vLi4vY2h1bmstNUtNUzVDVFAubWpzXCI7XG5pbXBvcnQgXCIuLi8uLi9jaHVuay1JN0hRSUJUNy5tanNcIjtcbmV4cG9ydCB7XG4gIEZldGNoSW50ZXJjZXB0b3Jcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@mswjs/interceptors/lib/node/interceptors/fetch/index.mjs\n");

/***/ })

};
;