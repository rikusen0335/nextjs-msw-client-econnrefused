"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@urql";
exports.ids = ["vendor-chunks/@urql"];
exports.modules = {

/***/ "(ssr)/./node_modules/@urql/core/dist/urql-core-chunk.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@urql/core/dist/urql-core-chunk.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   C: () => (/* binding */ CombinedError),\n/* harmony export */   a: () => (/* binding */ makeFetchBody),\n/* harmony export */   b: () => (/* binding */ makeErrorResult),\n/* harmony export */   c: () => (/* binding */ mergeResultPatch),\n/* harmony export */   d: () => (/* binding */ makeFetchURL),\n/* harmony export */   e: () => (/* binding */ makeFetchOptions),\n/* harmony export */   f: () => (/* binding */ makeFetchSource),\n/* harmony export */   g: () => (/* binding */ getOperationType),\n/* harmony export */   h: () => (/* binding */ createRequest),\n/* harmony export */   i: () => (/* binding */ stringifyVariables),\n/* harmony export */   k: () => (/* binding */ keyDocument),\n/* harmony export */   m: () => (/* binding */ makeResult),\n/* harmony export */   s: () => (/* binding */ stringifyDocument)\n/* harmony export */ });\n/* harmony import */ var _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @0no-co/graphql.web */ \"(ssr)/./node_modules/@0no-co/graphql.web/dist/graphql.web.mjs\");\n/* harmony import */ var wonka__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! wonka */ \"(ssr)/./node_modules/wonka/dist/wonka.mjs\");\n\n\n\n\nvar rehydrateGraphQlError = r => {\n  if (r && \"string\" == typeof r.message && (r.extensions || \"GraphQLError\" === r.name)) {\n    return r;\n  } else if (\"object\" == typeof r && \"string\" == typeof r.message) {\n    return new _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.GraphQLError(r.message, r.nodes, r.source, r.positions, r.path, r, r.extensions || {});\n  } else {\n    return new _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.GraphQLError(r);\n  }\n};\n\nclass CombinedError extends Error {\n  constructor(e) {\n    var r = (e.graphQLErrors || []).map(rehydrateGraphQlError);\n    var t = ((e, r) => {\n      var t = \"\";\n      if (e) {\n        return `[Network] ${e.message}`;\n      }\n      if (r) {\n        for (var a = 0, n = r.length; a < n; a++) {\n          if (t) {\n            t += \"\\n\";\n          }\n          t += `[GraphQL] ${r[a].message}`;\n        }\n      }\n      return t;\n    })(e.networkError, r);\n    super(t);\n    this.name = \"CombinedError\";\n    this.message = t;\n    this.graphQLErrors = r;\n    this.networkError = e.networkError;\n    this.response = e.response;\n  }\n  toString() {\n    return this.message;\n  }\n}\n\nvar phash = (e, r) => {\n  var t = 0 | (r || 5381);\n  for (var a = 0, n = 0 | e.length; a < n; a++) {\n    t = (t << 5) + t + e.charCodeAt(a);\n  }\n  return t;\n};\n\nvar s = new Set;\n\nvar f = new WeakMap;\n\nvar stringify = (e, r) => {\n  if (null === e || s.has(e)) {\n    return \"null\";\n  } else if (\"object\" != typeof e) {\n    return JSON.stringify(e) || \"\";\n  } else if (e.toJSON) {\n    return stringify(e.toJSON(), r);\n  } else if (Array.isArray(e)) {\n    var t = \"[\";\n    for (var a = 0, n = e.length; a < n; a++) {\n      if (t.length > 1) {\n        t += \",\";\n      }\n      t += stringify(e[a], r) || \"null\";\n    }\n    return t += \"]\";\n  } else if (!r && (l !== NoopConstructor && e instanceof l || d !== NoopConstructor && e instanceof d)) {\n    return \"null\";\n  }\n  var o = Object.keys(e).sort();\n  if (!o.length && e.constructor && Object.getPrototypeOf(e).constructor !== Object.prototype.constructor) {\n    var i = f.get(e) || Math.random().toString(36).slice(2);\n    f.set(e, i);\n    return stringify({\n      __key: i\n    }, r);\n  }\n  s.add(e);\n  var c = \"{\";\n  for (var v = 0, p = o.length; v < p; v++) {\n    var u = stringify(e[o[v]], r);\n    if (u) {\n      if (c.length > 1) {\n        c += \",\";\n      }\n      c += stringify(o[v], r) + \":\" + u;\n    }\n  }\n  s.delete(e);\n  return c += \"}\";\n};\n\nvar extract = (e, r, t) => {\n  if (null == t || \"object\" != typeof t || t.toJSON || s.has(t)) {} else if (Array.isArray(t)) {\n    for (var a = 0, n = t.length; a < n; a++) {\n      extract(e, `${r}.${a}`, t[a]);\n    }\n  } else if (t instanceof l || t instanceof d) {\n    e.set(r, t);\n  } else {\n    s.add(t);\n    for (var o in t) {\n      extract(e, `${r}.${o}`, t[o]);\n    }\n  }\n};\n\nvar stringifyVariables = (e, r) => {\n  s.clear();\n  return stringify(e, r || !1);\n};\n\nclass NoopConstructor {}\n\nvar l = \"undefined\" != typeof File ? File : NoopConstructor;\n\nvar d = \"undefined\" != typeof Blob ? Blob : NoopConstructor;\n\nvar c = /(\"{3}[\\s\\S]*\"{3}|\"(?:\\\\.|[^\"])*\")/g;\n\nvar v = /(?:#[^\\n\\r]+)?(?:[\\r\\n]+|$)/g;\n\nvar replaceOutsideStrings = (e, r) => r % 2 == 0 ? e.replace(v, \"\\n\") : e;\n\nvar sanitizeDocument = e => e.split(c).map(replaceOutsideStrings).join(\"\").trim();\n\nvar p = new Map;\n\nvar u = new Map;\n\nvar stringifyDocument = e => {\n  var t;\n  if (\"string\" == typeof e) {\n    t = sanitizeDocument(e);\n  } else if (e.loc && u.get(e.__key) === e) {\n    t = e.loc.source.body;\n  } else {\n    t = p.get(e) || sanitizeDocument((0,_0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.print)(e));\n    p.set(e, t);\n  }\n  if (\"string\" != typeof e && !e.loc) {\n    e.loc = {\n      start: 0,\n      end: t.length,\n      source: {\n        body: t,\n        name: \"gql\",\n        locationOffset: {\n          line: 1,\n          column: 1\n        }\n      }\n    };\n  }\n  return t;\n};\n\nvar hashDocument = e => {\n  var r;\n  if (e.documentId) {\n    r = phash(e.documentId);\n  } else {\n    r = phash(stringifyDocument(e));\n    if (e.definitions) {\n      var t = getOperationName(e);\n      if (t) {\n        r = phash(`\\n# ${t}`, r);\n      }\n    }\n  }\n  return r;\n};\n\nvar keyDocument = e => {\n  var r;\n  var a;\n  if (\"string\" == typeof e) {\n    r = hashDocument(e);\n    a = u.get(r) || (0,_0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.parse)(e, {\n      noLocation: !0\n    });\n  } else {\n    r = e.__key || hashDocument(e);\n    a = u.get(r) || e;\n  }\n  if (!a.loc) {\n    stringifyDocument(a);\n  }\n  a.__key = r;\n  u.set(r, a);\n  return a;\n};\n\nvar createRequest = (e, r, t) => {\n  var a = r || {};\n  var n = keyDocument(e);\n  var o = stringifyVariables(a, !0);\n  var i = n.__key;\n  if (\"{}\" !== o) {\n    i = phash(o, i);\n  }\n  return {\n    key: i,\n    query: n,\n    variables: a,\n    extensions: t\n  };\n};\n\nvar getOperationName = e => {\n  for (var r = 0, t = e.definitions.length; r < t; r++) {\n    var n = e.definitions[r];\n    if (n.kind === _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.Kind.OPERATION_DEFINITION) {\n      return n.name ? n.name.value : void 0;\n    }\n  }\n};\n\nvar getOperationType = e => {\n  for (var r = 0, t = e.definitions.length; r < t; r++) {\n    var n = e.definitions[r];\n    if (n.kind === _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.Kind.OPERATION_DEFINITION) {\n      return n.operation;\n    }\n  }\n};\n\nvar makeResult = (e, r, t) => {\n  if (!(\"data\" in r || \"errors\" in r && Array.isArray(r.errors))) {\n    throw new Error(\"No Content\");\n  }\n  var a = \"subscription\" === e.kind;\n  return {\n    operation: e,\n    data: r.data,\n    error: Array.isArray(r.errors) ? new CombinedError({\n      graphQLErrors: r.errors,\n      response: t\n    }) : void 0,\n    extensions: r.extensions ? {\n      ...r.extensions\n    } : void 0,\n    hasNext: null == r.hasNext ? a : r.hasNext,\n    stale: !1\n  };\n};\n\nvar deepMerge = (e, r) => {\n  if (\"object\" == typeof e && null != e) {\n    if (Array.isArray(e)) {\n      e = [ ...e ];\n      for (var t = 0, a = r.length; t < a; t++) {\n        e[t] = deepMerge(e[t], r[t]);\n      }\n      return e;\n    }\n    if (!e.constructor || e.constructor === Object) {\n      e = {\n        ...e\n      };\n      for (var n in r) {\n        e[n] = deepMerge(e[n], r[n]);\n      }\n      return e;\n    }\n  }\n  return r;\n};\n\nvar mergeResultPatch = (e, r, t, a) => {\n  var n = e.error ? e.error.graphQLErrors : [];\n  var o = !!e.extensions || !!(r.payload || r).extensions;\n  var i = {\n    ...e.extensions,\n    ...(r.payload || r).extensions\n  };\n  var s = r.incremental;\n  if (\"path\" in r) {\n    s = [ r ];\n  }\n  var f = {\n    data: e.data\n  };\n  if (s) {\n    var _loop = function() {\n      var e = s[l];\n      if (Array.isArray(e.errors)) {\n        n.push(...e.errors);\n      }\n      if (e.extensions) {\n        Object.assign(i, e.extensions);\n        o = !0;\n      }\n      var r = \"data\";\n      var t = f;\n      var d = [];\n      if (e.path) {\n        d = e.path;\n      } else if (a) {\n        var c = a.find((r => r.id === e.id));\n        if (e.subPath) {\n          d = [ ...c.path, ...e.subPath ];\n        } else {\n          d = c.path;\n        }\n      }\n      for (var v = 0, p = d.length; v < p; r = d[v++]) {\n        t = t[r] = Array.isArray(t[r]) ? [ ...t[r] ] : {\n          ...t[r]\n        };\n      }\n      if (e.items) {\n        var u = +r >= 0 ? r : 0;\n        for (var y = 0, h = e.items.length; y < h; y++) {\n          t[u + y] = deepMerge(t[u + y], e.items[y]);\n        }\n      } else if (void 0 !== e.data) {\n        t[r] = deepMerge(t[r], e.data);\n      }\n    };\n    for (var l = 0, d = s.length; l < d; l++) {\n      _loop();\n    }\n  } else {\n    f.data = (r.payload || r).data || e.data;\n    n = r.errors || r.payload && r.payload.errors || n;\n  }\n  return {\n    operation: e.operation,\n    data: f.data,\n    error: n.length ? new CombinedError({\n      graphQLErrors: n,\n      response: t\n    }) : void 0,\n    extensions: o ? i : void 0,\n    hasNext: null != r.hasNext ? r.hasNext : e.hasNext,\n    stale: !1\n  };\n};\n\nvar makeErrorResult = (e, r, t) => ({\n  operation: e,\n  data: void 0,\n  error: new CombinedError({\n    networkError: r,\n    response: t\n  }),\n  extensions: void 0,\n  hasNext: !1,\n  stale: !1\n});\n\nfunction makeFetchBody(e) {\n  var r = {\n    query: void 0,\n    documentId: void 0,\n    operationName: getOperationName(e.query),\n    variables: e.variables || void 0,\n    extensions: e.extensions\n  };\n  if (\"documentId\" in e.query && e.query.documentId && (!e.query.definitions || !e.query.definitions.length)) {\n    r.documentId = e.query.documentId;\n  } else if (!e.extensions || !e.extensions.persistedQuery || e.extensions.persistedQuery.miss) {\n    r.query = stringifyDocument(e.query);\n  }\n  return r;\n}\n\nvar makeFetchURL = (e, r) => {\n  var t = \"query\" === e.kind && e.context.preferGetMethod;\n  if (!t || !r) {\n    return e.context.url;\n  }\n  var a = splitOutSearchParams(e.context.url);\n  for (var n in r) {\n    var o = r[n];\n    if (o) {\n      a[1].set(n, \"object\" == typeof o ? stringifyVariables(o) : o);\n    }\n  }\n  var i = a.join(\"?\");\n  if (i.length > 2047 && \"force\" !== t) {\n    e.context.preferGetMethod = !1;\n    return e.context.url;\n  }\n  return i;\n};\n\nvar splitOutSearchParams = e => {\n  var r = e.indexOf(\"?\");\n  return r > -1 ? [ e.slice(0, r), new URLSearchParams(e.slice(r + 1)) ] : [ e, new URLSearchParams ];\n};\n\nvar serializeBody = (e, r) => {\n  if (r && !(\"query\" === e.kind && !!e.context.preferGetMethod)) {\n    var t = stringifyVariables(r);\n    var a = (e => {\n      var r = new Map;\n      if (l !== NoopConstructor || d !== NoopConstructor) {\n        s.clear();\n        extract(r, \"variables\", e);\n      }\n      return r;\n    })(r.variables);\n    if (a.size) {\n      var n = new FormData;\n      n.append(\"operations\", t);\n      n.append(\"map\", stringifyVariables({\n        ...[ ...a.keys() ].map((e => [ e ]))\n      }));\n      var o = 0;\n      for (var i of a.values()) {\n        n.append(\"\" + o++, i);\n      }\n      return n;\n    }\n    return t;\n  }\n};\n\nvar makeFetchOptions = (e, r) => {\n  var t = {\n    accept: \"subscription\" === e.kind ? \"text/event-stream, multipart/mixed\" : \"application/graphql-response+json, application/graphql+json, application/json, text/event-stream, multipart/mixed\"\n  };\n  var a = (\"function\" == typeof e.context.fetchOptions ? e.context.fetchOptions() : e.context.fetchOptions) || {};\n  if (a.headers) {\n    if ((e => \"has\" in e && !Object.keys(e).length)(a.headers)) {\n      a.headers.forEach(((e, r) => {\n        t[r] = e;\n      }));\n    } else if (Array.isArray(a.headers)) {\n      a.headers.forEach(((e, r) => {\n        if (Array.isArray(e)) {\n          if (t[e[0]]) {\n            t[e[0]] = `${t[e[0]]},${e[1]}`;\n          } else {\n            t[e[0]] = e[1];\n          }\n        } else {\n          t[r] = e;\n        }\n      }));\n    } else {\n      for (var n in a.headers) {\n        t[n.toLowerCase()] = a.headers[n];\n      }\n    }\n  }\n  var o = serializeBody(e, r);\n  if (\"string\" == typeof o && !t[\"content-type\"]) {\n    t[\"content-type\"] = \"application/json\";\n  }\n  return {\n    ...a,\n    method: o ? \"POST\" : \"GET\",\n    body: o,\n    headers: t\n  };\n};\n\nvar y = \"undefined\" != typeof TextDecoder ? new TextDecoder : null;\n\nvar h = /boundary=\"?([^=\";]+)\"?/i;\n\nvar m = /data: ?([^\\n]+)/;\n\nvar toString = e => \"Buffer\" === e.constructor.name ? e.toString() : y.decode(e);\n\nasync function* streamBody(e) {\n  if (e.body[Symbol.asyncIterator]) {\n    for await (var r of e.body) {\n      yield toString(r);\n    }\n  } else {\n    var t = e.body.getReader();\n    var a;\n    try {\n      while (!(a = await t.read()).done) {\n        yield toString(a.value);\n      }\n    } finally {\n      t.cancel();\n    }\n  }\n}\n\nasync function* split(e, r) {\n  var t = \"\";\n  var a;\n  for await (var n of e) {\n    t += n;\n    while ((a = t.indexOf(r)) > -1) {\n      yield t.slice(0, a);\n      t = t.slice(a + r.length);\n    }\n  }\n}\n\nasync function* fetchOperation(e, r, t) {\n  var a = !0;\n  var n = null;\n  var o;\n  try {\n    yield await Promise.resolve();\n    var i = (o = await (e.context.fetch || fetch)(r, t)).headers.get(\"Content-Type\") || \"\";\n    var s;\n    if (/multipart\\/mixed/i.test(i)) {\n      s = async function* parseMultipartMixed(e, r) {\n        var t = e.match(h);\n        var a = \"--\" + (t ? t[1] : \"-\");\n        var n = !0;\n        var o;\n        for await (var i of split(streamBody(r), \"\\r\\n\" + a)) {\n          if (n) {\n            n = !1;\n            var s = i.indexOf(a);\n            if (s > -1) {\n              i = i.slice(s + a.length);\n            } else {\n              continue;\n            }\n          }\n          try {\n            yield o = JSON.parse(i.slice(i.indexOf(\"\\r\\n\\r\\n\") + 4));\n          } catch (e) {\n            if (!o) {\n              throw e;\n            }\n          }\n          if (o && !1 === o.hasNext) {\n            break;\n          }\n        }\n        if (o && !1 !== o.hasNext) {\n          yield {\n            hasNext: !1\n          };\n        }\n      }(i, o);\n    } else if (/text\\/event-stream/i.test(i)) {\n      s = async function* parseEventStream(e) {\n        var r;\n        for await (var t of split(streamBody(e), \"\\n\\n\")) {\n          var a = t.match(m);\n          if (a) {\n            var n = a[1];\n            try {\n              yield r = JSON.parse(n);\n            } catch (e) {\n              if (!r) {\n                throw e;\n              }\n            }\n            if (r && !1 === r.hasNext) {\n              break;\n            }\n          }\n        }\n        if (r && !1 !== r.hasNext) {\n          yield {\n            hasNext: !1\n          };\n        }\n      }(o);\n    } else if (!/text\\//i.test(i)) {\n      s = async function* parseJSON(e) {\n        yield JSON.parse(await e.text());\n      }(o);\n    } else {\n      s = async function* parseMaybeJSON(e) {\n        var r = await e.text();\n        try {\n          var t = JSON.parse(r);\n          if (true) {\n            console.warn('Found response with content-type \"text/plain\" but it had a valid \"application/json\" response.');\n          }\n          yield t;\n        } catch (e) {\n          throw new Error(r);\n        }\n      }(o);\n    }\n    var f;\n    for await (var l of s) {\n      if (l.pending && !n) {\n        f = l.pending;\n      } else if (l.pending) {\n        f = [ ...f, ...l.pending ];\n      }\n      n = n ? mergeResultPatch(n, l, o, f) : makeResult(e, l, o);\n      a = !1;\n      yield n;\n      a = !0;\n    }\n    if (!n) {\n      yield n = makeResult(e, {}, o);\n    }\n  } catch (r) {\n    if (!a) {\n      throw r;\n    }\n    yield makeErrorResult(e, o && (o.status < 200 || o.status >= 300) && o.statusText ? new Error(o.statusText) : r, o);\n  }\n}\n\nfunction makeFetchSource(e, r, t) {\n  var a;\n  if (\"undefined\" != typeof AbortController) {\n    t.signal = (a = new AbortController).signal;\n  }\n  return (0,wonka__WEBPACK_IMPORTED_MODULE_1__.onEnd)((() => {\n    if (a) {\n      a.abort();\n    }\n  }))((0,wonka__WEBPACK_IMPORTED_MODULE_1__.filter)((e => !!e))((0,wonka__WEBPACK_IMPORTED_MODULE_1__.fromAsyncIterable)(fetchOperation(e, r, t))));\n}\n\n\n//# sourceMappingURL=urql-core-chunk.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9kaXN0L3VycWwtY29yZS1jaHVuay5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTJGOztBQUVuQjs7QUFFeEU7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGVBQWUsNkRBQUMseUVBQXlFO0FBQ3pGLElBQUk7QUFDSixlQUFlLDZEQUFDO0FBQ2hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFVBQVU7QUFDdEM7QUFDQTtBQUNBLHNDQUFzQyxPQUFPO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixhQUFhO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQ0FBb0MsT0FBTztBQUMzQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxrQ0FBa0MsT0FBTztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLGdDQUFnQyxPQUFPO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjs7QUFFQTtBQUNBLG9FQUFvRTtBQUNwRSxrQ0FBa0MsT0FBTztBQUN6QyxvQkFBb0IsRUFBRSxHQUFHLEVBQUU7QUFDM0I7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLG9CQUFvQixFQUFFLEdBQUcsRUFBRTtBQUMzQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7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QSxnQ0FBZ0M7QUFDaEM7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDRDQUFDO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsR0FBRyxHQUFHLDZDQUFDLGFBQWEsd0RBQUM7QUFDckI7O0FBRThSO0FBQzlSIiwic291cmNlcyI6WyIvaG9tZS9yaWt1c2VuL3dvcmtzcGFjZS9uZXh0anMtbXN3LXJlcHJvZHVjdGlvbi9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9kaXN0L3VycWwtY29yZS1jaHVuay5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR3JhcGhRTEVycm9yIGFzIGUsIHByaW50IGFzIHIsIHBhcnNlIGFzIHQsIEtpbmQgYXMgYSB9IGZyb20gXCJAMG5vLWNvL2dyYXBocWwud2ViXCI7XG5cbmltcG9ydCB7IG9uRW5kIGFzIG4sIGZpbHRlciBhcyBvLCBmcm9tQXN5bmNJdGVyYWJsZSBhcyBpIH0gZnJvbSBcIndvbmthXCI7XG5cbnZhciByZWh5ZHJhdGVHcmFwaFFsRXJyb3IgPSByID0+IHtcbiAgaWYgKHIgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2Ygci5tZXNzYWdlICYmIChyLmV4dGVuc2lvbnMgfHwgXCJHcmFwaFFMRXJyb3JcIiA9PT0gci5uYW1lKSkge1xuICAgIHJldHVybiByO1xuICB9IGVsc2UgaWYgKFwib2JqZWN0XCIgPT0gdHlwZW9mIHIgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2Ygci5tZXNzYWdlKSB7XG4gICAgcmV0dXJuIG5ldyBlKHIubWVzc2FnZSwgci5ub2Rlcywgci5zb3VyY2UsIHIucG9zaXRpb25zLCByLnBhdGgsIHIsIHIuZXh0ZW5zaW9ucyB8fCB7fSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBlKHIpO1xuICB9XG59O1xuXG5jbGFzcyBDb21iaW5lZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgdmFyIHIgPSAoZS5ncmFwaFFMRXJyb3JzIHx8IFtdKS5tYXAocmVoeWRyYXRlR3JhcGhRbEVycm9yKTtcbiAgICB2YXIgdCA9ICgoZSwgcikgPT4ge1xuICAgICAgdmFyIHQgPSBcIlwiO1xuICAgICAgaWYgKGUpIHtcbiAgICAgICAgcmV0dXJuIGBbTmV0d29ya10gJHtlLm1lc3NhZ2V9YDtcbiAgICAgIH1cbiAgICAgIGlmIChyKSB7XG4gICAgICAgIGZvciAodmFyIGEgPSAwLCBuID0gci5sZW5ndGg7IGEgPCBuOyBhKyspIHtcbiAgICAgICAgICBpZiAodCkge1xuICAgICAgICAgICAgdCArPSBcIlxcblwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0ICs9IGBbR3JhcGhRTF0gJHtyW2FdLm1lc3NhZ2V9YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHQ7XG4gICAgfSkoZS5uZXR3b3JrRXJyb3IsIHIpO1xuICAgIHN1cGVyKHQpO1xuICAgIHRoaXMubmFtZSA9IFwiQ29tYmluZWRFcnJvclwiO1xuICAgIHRoaXMubWVzc2FnZSA9IHQ7XG4gICAgdGhpcy5ncmFwaFFMRXJyb3JzID0gcjtcbiAgICB0aGlzLm5ldHdvcmtFcnJvciA9IGUubmV0d29ya0Vycm9yO1xuICAgIHRoaXMucmVzcG9uc2UgPSBlLnJlc3BvbnNlO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1lc3NhZ2U7XG4gIH1cbn1cblxudmFyIHBoYXNoID0gKGUsIHIpID0+IHtcbiAgdmFyIHQgPSAwIHwgKHIgfHwgNTM4MSk7XG4gIGZvciAodmFyIGEgPSAwLCBuID0gMCB8IGUubGVuZ3RoOyBhIDwgbjsgYSsrKSB7XG4gICAgdCA9ICh0IDw8IDUpICsgdCArIGUuY2hhckNvZGVBdChhKTtcbiAgfVxuICByZXR1cm4gdDtcbn07XG5cbnZhciBzID0gbmV3IFNldDtcblxudmFyIGYgPSBuZXcgV2Vha01hcDtcblxudmFyIHN0cmluZ2lmeSA9IChlLCByKSA9PiB7XG4gIGlmIChudWxsID09PSBlIHx8IHMuaGFzKGUpKSB7XG4gICAgcmV0dXJuIFwibnVsbFwiO1xuICB9IGVsc2UgaWYgKFwib2JqZWN0XCIgIT0gdHlwZW9mIGUpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSkgfHwgXCJcIjtcbiAgfSBlbHNlIGlmIChlLnRvSlNPTikge1xuICAgIHJldHVybiBzdHJpbmdpZnkoZS50b0pTT04oKSwgcik7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShlKSkge1xuICAgIHZhciB0ID0gXCJbXCI7XG4gICAgZm9yICh2YXIgYSA9IDAsIG4gPSBlLmxlbmd0aDsgYSA8IG47IGErKykge1xuICAgICAgaWYgKHQubGVuZ3RoID4gMSkge1xuICAgICAgICB0ICs9IFwiLFwiO1xuICAgICAgfVxuICAgICAgdCArPSBzdHJpbmdpZnkoZVthXSwgcikgfHwgXCJudWxsXCI7XG4gICAgfVxuICAgIHJldHVybiB0ICs9IFwiXVwiO1xuICB9IGVsc2UgaWYgKCFyICYmIChsICE9PSBOb29wQ29uc3RydWN0b3IgJiYgZSBpbnN0YW5jZW9mIGwgfHwgZCAhPT0gTm9vcENvbnN0cnVjdG9yICYmIGUgaW5zdGFuY2VvZiBkKSkge1xuICAgIHJldHVybiBcIm51bGxcIjtcbiAgfVxuICB2YXIgbyA9IE9iamVjdC5rZXlzKGUpLnNvcnQoKTtcbiAgaWYgKCFvLmxlbmd0aCAmJiBlLmNvbnN0cnVjdG9yICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jb25zdHJ1Y3RvciAhPT0gT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcikge1xuICAgIHZhciBpID0gZi5nZXQoZSkgfHwgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMik7XG4gICAgZi5zZXQoZSwgaSk7XG4gICAgcmV0dXJuIHN0cmluZ2lmeSh7XG4gICAgICBfX2tleTogaVxuICAgIH0sIHIpO1xuICB9XG4gIHMuYWRkKGUpO1xuICB2YXIgYyA9IFwie1wiO1xuICBmb3IgKHZhciB2ID0gMCwgcCA9IG8ubGVuZ3RoOyB2IDwgcDsgdisrKSB7XG4gICAgdmFyIHUgPSBzdHJpbmdpZnkoZVtvW3ZdXSwgcik7XG4gICAgaWYgKHUpIHtcbiAgICAgIGlmIChjLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgYyArPSBcIixcIjtcbiAgICAgIH1cbiAgICAgIGMgKz0gc3RyaW5naWZ5KG9bdl0sIHIpICsgXCI6XCIgKyB1O1xuICAgIH1cbiAgfVxuICBzLmRlbGV0ZShlKTtcbiAgcmV0dXJuIGMgKz0gXCJ9XCI7XG59O1xuXG52YXIgZXh0cmFjdCA9IChlLCByLCB0KSA9PiB7XG4gIGlmIChudWxsID09IHQgfHwgXCJvYmplY3RcIiAhPSB0eXBlb2YgdCB8fCB0LnRvSlNPTiB8fCBzLmhhcyh0KSkge30gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0KSkge1xuICAgIGZvciAodmFyIGEgPSAwLCBuID0gdC5sZW5ndGg7IGEgPCBuOyBhKyspIHtcbiAgICAgIGV4dHJhY3QoZSwgYCR7cn0uJHthfWAsIHRbYV0pO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0IGluc3RhbmNlb2YgbCB8fCB0IGluc3RhbmNlb2YgZCkge1xuICAgIGUuc2V0KHIsIHQpO1xuICB9IGVsc2Uge1xuICAgIHMuYWRkKHQpO1xuICAgIGZvciAodmFyIG8gaW4gdCkge1xuICAgICAgZXh0cmFjdChlLCBgJHtyfS4ke299YCwgdFtvXSk7XG4gICAgfVxuICB9XG59O1xuXG52YXIgc3RyaW5naWZ5VmFyaWFibGVzID0gKGUsIHIpID0+IHtcbiAgcy5jbGVhcigpO1xuICByZXR1cm4gc3RyaW5naWZ5KGUsIHIgfHwgITEpO1xufTtcblxuY2xhc3MgTm9vcENvbnN0cnVjdG9yIHt9XG5cbnZhciBsID0gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgRmlsZSA/IEZpbGUgOiBOb29wQ29uc3RydWN0b3I7XG5cbnZhciBkID0gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgQmxvYiA/IEJsb2IgOiBOb29wQ29uc3RydWN0b3I7XG5cbnZhciBjID0gLyhcInszfVtcXHNcXFNdKlwiezN9fFwiKD86XFxcXC58W15cIl0pKlwiKS9nO1xuXG52YXIgdiA9IC8oPzojW15cXG5cXHJdKyk/KD86W1xcclxcbl0rfCQpL2c7XG5cbnZhciByZXBsYWNlT3V0c2lkZVN0cmluZ3MgPSAoZSwgcikgPT4gciAlIDIgPT0gMCA/IGUucmVwbGFjZSh2LCBcIlxcblwiKSA6IGU7XG5cbnZhciBzYW5pdGl6ZURvY3VtZW50ID0gZSA9PiBlLnNwbGl0KGMpLm1hcChyZXBsYWNlT3V0c2lkZVN0cmluZ3MpLmpvaW4oXCJcIikudHJpbSgpO1xuXG52YXIgcCA9IG5ldyBNYXA7XG5cbnZhciB1ID0gbmV3IE1hcDtcblxudmFyIHN0cmluZ2lmeURvY3VtZW50ID0gZSA9PiB7XG4gIHZhciB0O1xuICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSkge1xuICAgIHQgPSBzYW5pdGl6ZURvY3VtZW50KGUpO1xuICB9IGVsc2UgaWYgKGUubG9jICYmIHUuZ2V0KGUuX19rZXkpID09PSBlKSB7XG4gICAgdCA9IGUubG9jLnNvdXJjZS5ib2R5O1xuICB9IGVsc2Uge1xuICAgIHQgPSBwLmdldChlKSB8fCBzYW5pdGl6ZURvY3VtZW50KHIoZSkpO1xuICAgIHAuc2V0KGUsIHQpO1xuICB9XG4gIGlmIChcInN0cmluZ1wiICE9IHR5cGVvZiBlICYmICFlLmxvYykge1xuICAgIGUubG9jID0ge1xuICAgICAgc3RhcnQ6IDAsXG4gICAgICBlbmQ6IHQubGVuZ3RoLFxuICAgICAgc291cmNlOiB7XG4gICAgICAgIGJvZHk6IHQsXG4gICAgICAgIG5hbWU6IFwiZ3FsXCIsXG4gICAgICAgIGxvY2F0aW9uT2Zmc2V0OiB7XG4gICAgICAgICAgbGluZTogMSxcbiAgICAgICAgICBjb2x1bW46IDFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHQ7XG59O1xuXG52YXIgaGFzaERvY3VtZW50ID0gZSA9PiB7XG4gIHZhciByO1xuICBpZiAoZS5kb2N1bWVudElkKSB7XG4gICAgciA9IHBoYXNoKGUuZG9jdW1lbnRJZCk7XG4gIH0gZWxzZSB7XG4gICAgciA9IHBoYXNoKHN0cmluZ2lmeURvY3VtZW50KGUpKTtcbiAgICBpZiAoZS5kZWZpbml0aW9ucykge1xuICAgICAgdmFyIHQgPSBnZXRPcGVyYXRpb25OYW1lKGUpO1xuICAgICAgaWYgKHQpIHtcbiAgICAgICAgciA9IHBoYXNoKGBcXG4jICR7dH1gLCByKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHI7XG59O1xuXG52YXIga2V5RG9jdW1lbnQgPSBlID0+IHtcbiAgdmFyIHI7XG4gIHZhciBhO1xuICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSkge1xuICAgIHIgPSBoYXNoRG9jdW1lbnQoZSk7XG4gICAgYSA9IHUuZ2V0KHIpIHx8IHQoZSwge1xuICAgICAgbm9Mb2NhdGlvbjogITBcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByID0gZS5fX2tleSB8fCBoYXNoRG9jdW1lbnQoZSk7XG4gICAgYSA9IHUuZ2V0KHIpIHx8IGU7XG4gIH1cbiAgaWYgKCFhLmxvYykge1xuICAgIHN0cmluZ2lmeURvY3VtZW50KGEpO1xuICB9XG4gIGEuX19rZXkgPSByO1xuICB1LnNldChyLCBhKTtcbiAgcmV0dXJuIGE7XG59O1xuXG52YXIgY3JlYXRlUmVxdWVzdCA9IChlLCByLCB0KSA9PiB7XG4gIHZhciBhID0gciB8fCB7fTtcbiAgdmFyIG4gPSBrZXlEb2N1bWVudChlKTtcbiAgdmFyIG8gPSBzdHJpbmdpZnlWYXJpYWJsZXMoYSwgITApO1xuICB2YXIgaSA9IG4uX19rZXk7XG4gIGlmIChcInt9XCIgIT09IG8pIHtcbiAgICBpID0gcGhhc2gobywgaSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBrZXk6IGksXG4gICAgcXVlcnk6IG4sXG4gICAgdmFyaWFibGVzOiBhLFxuICAgIGV4dGVuc2lvbnM6IHRcbiAgfTtcbn07XG5cbnZhciBnZXRPcGVyYXRpb25OYW1lID0gZSA9PiB7XG4gIGZvciAodmFyIHIgPSAwLCB0ID0gZS5kZWZpbml0aW9ucy5sZW5ndGg7IHIgPCB0OyByKyspIHtcbiAgICB2YXIgbiA9IGUuZGVmaW5pdGlvbnNbcl07XG4gICAgaWYgKG4ua2luZCA9PT0gYS5PUEVSQVRJT05fREVGSU5JVElPTikge1xuICAgICAgcmV0dXJuIG4ubmFtZSA/IG4ubmFtZS52YWx1ZSA6IHZvaWQgMDtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBnZXRPcGVyYXRpb25UeXBlID0gZSA9PiB7XG4gIGZvciAodmFyIHIgPSAwLCB0ID0gZS5kZWZpbml0aW9ucy5sZW5ndGg7IHIgPCB0OyByKyspIHtcbiAgICB2YXIgbiA9IGUuZGVmaW5pdGlvbnNbcl07XG4gICAgaWYgKG4ua2luZCA9PT0gYS5PUEVSQVRJT05fREVGSU5JVElPTikge1xuICAgICAgcmV0dXJuIG4ub3BlcmF0aW9uO1xuICAgIH1cbiAgfVxufTtcblxudmFyIG1ha2VSZXN1bHQgPSAoZSwgciwgdCkgPT4ge1xuICBpZiAoIShcImRhdGFcIiBpbiByIHx8IFwiZXJyb3JzXCIgaW4gciAmJiBBcnJheS5pc0FycmF5KHIuZXJyb3JzKSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBDb250ZW50XCIpO1xuICB9XG4gIHZhciBhID0gXCJzdWJzY3JpcHRpb25cIiA9PT0gZS5raW5kO1xuICByZXR1cm4ge1xuICAgIG9wZXJhdGlvbjogZSxcbiAgICBkYXRhOiByLmRhdGEsXG4gICAgZXJyb3I6IEFycmF5LmlzQXJyYXkoci5lcnJvcnMpID8gbmV3IENvbWJpbmVkRXJyb3Ioe1xuICAgICAgZ3JhcGhRTEVycm9yczogci5lcnJvcnMsXG4gICAgICByZXNwb25zZTogdFxuICAgIH0pIDogdm9pZCAwLFxuICAgIGV4dGVuc2lvbnM6IHIuZXh0ZW5zaW9ucyA/IHtcbiAgICAgIC4uLnIuZXh0ZW5zaW9uc1xuICAgIH0gOiB2b2lkIDAsXG4gICAgaGFzTmV4dDogbnVsbCA9PSByLmhhc05leHQgPyBhIDogci5oYXNOZXh0LFxuICAgIHN0YWxlOiAhMVxuICB9O1xufTtcblxudmFyIGRlZXBNZXJnZSA9IChlLCByKSA9PiB7XG4gIGlmIChcIm9iamVjdFwiID09IHR5cGVvZiBlICYmIG51bGwgIT0gZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGUpKSB7XG4gICAgICBlID0gWyAuLi5lIF07XG4gICAgICBmb3IgKHZhciB0ID0gMCwgYSA9IHIubGVuZ3RoOyB0IDwgYTsgdCsrKSB7XG4gICAgICAgIGVbdF0gPSBkZWVwTWVyZ2UoZVt0XSwgclt0XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZTtcbiAgICB9XG4gICAgaWYgKCFlLmNvbnN0cnVjdG9yIHx8IGUuY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xuICAgICAgZSA9IHtcbiAgICAgICAgLi4uZVxuICAgICAgfTtcbiAgICAgIGZvciAodmFyIG4gaW4gcikge1xuICAgICAgICBlW25dID0gZGVlcE1lcmdlKGVbbl0sIHJbbl0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICB9XG4gIHJldHVybiByO1xufTtcblxudmFyIG1lcmdlUmVzdWx0UGF0Y2ggPSAoZSwgciwgdCwgYSkgPT4ge1xuICB2YXIgbiA9IGUuZXJyb3IgPyBlLmVycm9yLmdyYXBoUUxFcnJvcnMgOiBbXTtcbiAgdmFyIG8gPSAhIWUuZXh0ZW5zaW9ucyB8fCAhIShyLnBheWxvYWQgfHwgcikuZXh0ZW5zaW9ucztcbiAgdmFyIGkgPSB7XG4gICAgLi4uZS5leHRlbnNpb25zLFxuICAgIC4uLihyLnBheWxvYWQgfHwgcikuZXh0ZW5zaW9uc1xuICB9O1xuICB2YXIgcyA9IHIuaW5jcmVtZW50YWw7XG4gIGlmIChcInBhdGhcIiBpbiByKSB7XG4gICAgcyA9IFsgciBdO1xuICB9XG4gIHZhciBmID0ge1xuICAgIGRhdGE6IGUuZGF0YVxuICB9O1xuICBpZiAocykge1xuICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGUgPSBzW2xdO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZS5lcnJvcnMpKSB7XG4gICAgICAgIG4ucHVzaCguLi5lLmVycm9ycyk7XG4gICAgICB9XG4gICAgICBpZiAoZS5leHRlbnNpb25zKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oaSwgZS5leHRlbnNpb25zKTtcbiAgICAgICAgbyA9ICEwO1xuICAgICAgfVxuICAgICAgdmFyIHIgPSBcImRhdGFcIjtcbiAgICAgIHZhciB0ID0gZjtcbiAgICAgIHZhciBkID0gW107XG4gICAgICBpZiAoZS5wYXRoKSB7XG4gICAgICAgIGQgPSBlLnBhdGg7XG4gICAgICB9IGVsc2UgaWYgKGEpIHtcbiAgICAgICAgdmFyIGMgPSBhLmZpbmQoKHIgPT4gci5pZCA9PT0gZS5pZCkpO1xuICAgICAgICBpZiAoZS5zdWJQYXRoKSB7XG4gICAgICAgICAgZCA9IFsgLi4uYy5wYXRoLCAuLi5lLnN1YlBhdGggXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkID0gYy5wYXRoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKHZhciB2ID0gMCwgcCA9IGQubGVuZ3RoOyB2IDwgcDsgciA9IGRbdisrXSkge1xuICAgICAgICB0ID0gdFtyXSA9IEFycmF5LmlzQXJyYXkodFtyXSkgPyBbIC4uLnRbcl0gXSA6IHtcbiAgICAgICAgICAuLi50W3JdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAoZS5pdGVtcykge1xuICAgICAgICB2YXIgdSA9ICtyID49IDAgPyByIDogMDtcbiAgICAgICAgZm9yICh2YXIgeSA9IDAsIGggPSBlLml0ZW1zLmxlbmd0aDsgeSA8IGg7IHkrKykge1xuICAgICAgICAgIHRbdSArIHldID0gZGVlcE1lcmdlKHRbdSArIHldLCBlLml0ZW1zW3ldKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh2b2lkIDAgIT09IGUuZGF0YSkge1xuICAgICAgICB0W3JdID0gZGVlcE1lcmdlKHRbcl0sIGUuZGF0YSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBmb3IgKHZhciBsID0gMCwgZCA9IHMubGVuZ3RoOyBsIDwgZDsgbCsrKSB7XG4gICAgICBfbG9vcCgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmLmRhdGEgPSAoci5wYXlsb2FkIHx8IHIpLmRhdGEgfHwgZS5kYXRhO1xuICAgIG4gPSByLmVycm9ycyB8fCByLnBheWxvYWQgJiYgci5wYXlsb2FkLmVycm9ycyB8fCBuO1xuICB9XG4gIHJldHVybiB7XG4gICAgb3BlcmF0aW9uOiBlLm9wZXJhdGlvbixcbiAgICBkYXRhOiBmLmRhdGEsXG4gICAgZXJyb3I6IG4ubGVuZ3RoID8gbmV3IENvbWJpbmVkRXJyb3Ioe1xuICAgICAgZ3JhcGhRTEVycm9yczogbixcbiAgICAgIHJlc3BvbnNlOiB0XG4gICAgfSkgOiB2b2lkIDAsXG4gICAgZXh0ZW5zaW9uczogbyA/IGkgOiB2b2lkIDAsXG4gICAgaGFzTmV4dDogbnVsbCAhPSByLmhhc05leHQgPyByLmhhc05leHQgOiBlLmhhc05leHQsXG4gICAgc3RhbGU6ICExXG4gIH07XG59O1xuXG52YXIgbWFrZUVycm9yUmVzdWx0ID0gKGUsIHIsIHQpID0+ICh7XG4gIG9wZXJhdGlvbjogZSxcbiAgZGF0YTogdm9pZCAwLFxuICBlcnJvcjogbmV3IENvbWJpbmVkRXJyb3Ioe1xuICAgIG5ldHdvcmtFcnJvcjogcixcbiAgICByZXNwb25zZTogdFxuICB9KSxcbiAgZXh0ZW5zaW9uczogdm9pZCAwLFxuICBoYXNOZXh0OiAhMSxcbiAgc3RhbGU6ICExXG59KTtcblxuZnVuY3Rpb24gbWFrZUZldGNoQm9keShlKSB7XG4gIHZhciByID0ge1xuICAgIHF1ZXJ5OiB2b2lkIDAsXG4gICAgZG9jdW1lbnRJZDogdm9pZCAwLFxuICAgIG9wZXJhdGlvbk5hbWU6IGdldE9wZXJhdGlvbk5hbWUoZS5xdWVyeSksXG4gICAgdmFyaWFibGVzOiBlLnZhcmlhYmxlcyB8fCB2b2lkIDAsXG4gICAgZXh0ZW5zaW9uczogZS5leHRlbnNpb25zXG4gIH07XG4gIGlmIChcImRvY3VtZW50SWRcIiBpbiBlLnF1ZXJ5ICYmIGUucXVlcnkuZG9jdW1lbnRJZCAmJiAoIWUucXVlcnkuZGVmaW5pdGlvbnMgfHwgIWUucXVlcnkuZGVmaW5pdGlvbnMubGVuZ3RoKSkge1xuICAgIHIuZG9jdW1lbnRJZCA9IGUucXVlcnkuZG9jdW1lbnRJZDtcbiAgfSBlbHNlIGlmICghZS5leHRlbnNpb25zIHx8ICFlLmV4dGVuc2lvbnMucGVyc2lzdGVkUXVlcnkgfHwgZS5leHRlbnNpb25zLnBlcnNpc3RlZFF1ZXJ5Lm1pc3MpIHtcbiAgICByLnF1ZXJ5ID0gc3RyaW5naWZ5RG9jdW1lbnQoZS5xdWVyeSk7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG5cbnZhciBtYWtlRmV0Y2hVUkwgPSAoZSwgcikgPT4ge1xuICB2YXIgdCA9IFwicXVlcnlcIiA9PT0gZS5raW5kICYmIGUuY29udGV4dC5wcmVmZXJHZXRNZXRob2Q7XG4gIGlmICghdCB8fCAhcikge1xuICAgIHJldHVybiBlLmNvbnRleHQudXJsO1xuICB9XG4gIHZhciBhID0gc3BsaXRPdXRTZWFyY2hQYXJhbXMoZS5jb250ZXh0LnVybCk7XG4gIGZvciAodmFyIG4gaW4gcikge1xuICAgIHZhciBvID0gcltuXTtcbiAgICBpZiAobykge1xuICAgICAgYVsxXS5zZXQobiwgXCJvYmplY3RcIiA9PSB0eXBlb2YgbyA/IHN0cmluZ2lmeVZhcmlhYmxlcyhvKSA6IG8pO1xuICAgIH1cbiAgfVxuICB2YXIgaSA9IGEuam9pbihcIj9cIik7XG4gIGlmIChpLmxlbmd0aCA+IDIwNDcgJiYgXCJmb3JjZVwiICE9PSB0KSB7XG4gICAgZS5jb250ZXh0LnByZWZlckdldE1ldGhvZCA9ICExO1xuICAgIHJldHVybiBlLmNvbnRleHQudXJsO1xuICB9XG4gIHJldHVybiBpO1xufTtcblxudmFyIHNwbGl0T3V0U2VhcmNoUGFyYW1zID0gZSA9PiB7XG4gIHZhciByID0gZS5pbmRleE9mKFwiP1wiKTtcbiAgcmV0dXJuIHIgPiAtMSA/IFsgZS5zbGljZSgwLCByKSwgbmV3IFVSTFNlYXJjaFBhcmFtcyhlLnNsaWNlKHIgKyAxKSkgXSA6IFsgZSwgbmV3IFVSTFNlYXJjaFBhcmFtcyBdO1xufTtcblxudmFyIHNlcmlhbGl6ZUJvZHkgPSAoZSwgcikgPT4ge1xuICBpZiAociAmJiAhKFwicXVlcnlcIiA9PT0gZS5raW5kICYmICEhZS5jb250ZXh0LnByZWZlckdldE1ldGhvZCkpIHtcbiAgICB2YXIgdCA9IHN0cmluZ2lmeVZhcmlhYmxlcyhyKTtcbiAgICB2YXIgYSA9IChlID0+IHtcbiAgICAgIHZhciByID0gbmV3IE1hcDtcbiAgICAgIGlmIChsICE9PSBOb29wQ29uc3RydWN0b3IgfHwgZCAhPT0gTm9vcENvbnN0cnVjdG9yKSB7XG4gICAgICAgIHMuY2xlYXIoKTtcbiAgICAgICAgZXh0cmFjdChyLCBcInZhcmlhYmxlc1wiLCBlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByO1xuICAgIH0pKHIudmFyaWFibGVzKTtcbiAgICBpZiAoYS5zaXplKSB7XG4gICAgICB2YXIgbiA9IG5ldyBGb3JtRGF0YTtcbiAgICAgIG4uYXBwZW5kKFwib3BlcmF0aW9uc1wiLCB0KTtcbiAgICAgIG4uYXBwZW5kKFwibWFwXCIsIHN0cmluZ2lmeVZhcmlhYmxlcyh7XG4gICAgICAgIC4uLlsgLi4uYS5rZXlzKCkgXS5tYXAoKGUgPT4gWyBlIF0pKVxuICAgICAgfSkpO1xuICAgICAgdmFyIG8gPSAwO1xuICAgICAgZm9yICh2YXIgaSBvZiBhLnZhbHVlcygpKSB7XG4gICAgICAgIG4uYXBwZW5kKFwiXCIgKyBvKyssIGkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG47XG4gICAgfVxuICAgIHJldHVybiB0O1xuICB9XG59O1xuXG52YXIgbWFrZUZldGNoT3B0aW9ucyA9IChlLCByKSA9PiB7XG4gIHZhciB0ID0ge1xuICAgIGFjY2VwdDogXCJzdWJzY3JpcHRpb25cIiA9PT0gZS5raW5kID8gXCJ0ZXh0L2V2ZW50LXN0cmVhbSwgbXVsdGlwYXJ0L21peGVkXCIgOiBcImFwcGxpY2F0aW9uL2dyYXBocWwtcmVzcG9uc2UranNvbiwgYXBwbGljYXRpb24vZ3JhcGhxbCtqc29uLCBhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2V2ZW50LXN0cmVhbSwgbXVsdGlwYXJ0L21peGVkXCJcbiAgfTtcbiAgdmFyIGEgPSAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBlLmNvbnRleHQuZmV0Y2hPcHRpb25zID8gZS5jb250ZXh0LmZldGNoT3B0aW9ucygpIDogZS5jb250ZXh0LmZldGNoT3B0aW9ucykgfHwge307XG4gIGlmIChhLmhlYWRlcnMpIHtcbiAgICBpZiAoKGUgPT4gXCJoYXNcIiBpbiBlICYmICFPYmplY3Qua2V5cyhlKS5sZW5ndGgpKGEuaGVhZGVycykpIHtcbiAgICAgIGEuaGVhZGVycy5mb3JFYWNoKCgoZSwgcikgPT4ge1xuICAgICAgICB0W3JdID0gZTtcbiAgICAgIH0pKTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYS5oZWFkZXJzKSkge1xuICAgICAgYS5oZWFkZXJzLmZvckVhY2goKChlLCByKSA9PiB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGUpKSB7XG4gICAgICAgICAgaWYgKHRbZVswXV0pIHtcbiAgICAgICAgICAgIHRbZVswXV0gPSBgJHt0W2VbMF1dfSwke2VbMV19YDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdFtlWzBdXSA9IGVbMV07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRbcl0gPSBlO1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIG4gaW4gYS5oZWFkZXJzKSB7XG4gICAgICAgIHRbbi50b0xvd2VyQ2FzZSgpXSA9IGEuaGVhZGVyc1tuXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdmFyIG8gPSBzZXJpYWxpemVCb2R5KGUsIHIpO1xuICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgbyAmJiAhdFtcImNvbnRlbnQtdHlwZVwiXSkge1xuICAgIHRbXCJjb250ZW50LXR5cGVcIl0gPSBcImFwcGxpY2F0aW9uL2pzb25cIjtcbiAgfVxuICByZXR1cm4ge1xuICAgIC4uLmEsXG4gICAgbWV0aG9kOiBvID8gXCJQT1NUXCIgOiBcIkdFVFwiLFxuICAgIGJvZHk6IG8sXG4gICAgaGVhZGVyczogdFxuICB9O1xufTtcblxudmFyIHkgPSBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBUZXh0RGVjb2RlciA/IG5ldyBUZXh0RGVjb2RlciA6IG51bGw7XG5cbnZhciBoID0gL2JvdW5kYXJ5PVwiPyhbXj1cIjtdKylcIj8vaTtcblxudmFyIG0gPSAvZGF0YTogPyhbXlxcbl0rKS87XG5cbnZhciB0b1N0cmluZyA9IGUgPT4gXCJCdWZmZXJcIiA9PT0gZS5jb25zdHJ1Y3Rvci5uYW1lID8gZS50b1N0cmluZygpIDogeS5kZWNvZGUoZSk7XG5cbmFzeW5jIGZ1bmN0aW9uKiBzdHJlYW1Cb2R5KGUpIHtcbiAgaWYgKGUuYm9keVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0pIHtcbiAgICBmb3IgYXdhaXQgKHZhciByIG9mIGUuYm9keSkge1xuICAgICAgeWllbGQgdG9TdHJpbmcocik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciB0ID0gZS5ib2R5LmdldFJlYWRlcigpO1xuICAgIHZhciBhO1xuICAgIHRyeSB7XG4gICAgICB3aGlsZSAoIShhID0gYXdhaXQgdC5yZWFkKCkpLmRvbmUpIHtcbiAgICAgICAgeWllbGQgdG9TdHJpbmcoYS52YWx1ZSk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHQuY2FuY2VsKCk7XG4gICAgfVxuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uKiBzcGxpdChlLCByKSB7XG4gIHZhciB0ID0gXCJcIjtcbiAgdmFyIGE7XG4gIGZvciBhd2FpdCAodmFyIG4gb2YgZSkge1xuICAgIHQgKz0gbjtcbiAgICB3aGlsZSAoKGEgPSB0LmluZGV4T2YocikpID4gLTEpIHtcbiAgICAgIHlpZWxkIHQuc2xpY2UoMCwgYSk7XG4gICAgICB0ID0gdC5zbGljZShhICsgci5sZW5ndGgpO1xuICAgIH1cbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiogZmV0Y2hPcGVyYXRpb24oZSwgciwgdCkge1xuICB2YXIgYSA9ICEwO1xuICB2YXIgbiA9IG51bGw7XG4gIHZhciBvO1xuICB0cnkge1xuICAgIHlpZWxkIGF3YWl0IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIHZhciBpID0gKG8gPSBhd2FpdCAoZS5jb250ZXh0LmZldGNoIHx8IGZldGNoKShyLCB0KSkuaGVhZGVycy5nZXQoXCJDb250ZW50LVR5cGVcIikgfHwgXCJcIjtcbiAgICB2YXIgcztcbiAgICBpZiAoL211bHRpcGFydFxcL21peGVkL2kudGVzdChpKSkge1xuICAgICAgcyA9IGFzeW5jIGZ1bmN0aW9uKiBwYXJzZU11bHRpcGFydE1peGVkKGUsIHIpIHtcbiAgICAgICAgdmFyIHQgPSBlLm1hdGNoKGgpO1xuICAgICAgICB2YXIgYSA9IFwiLS1cIiArICh0ID8gdFsxXSA6IFwiLVwiKTtcbiAgICAgICAgdmFyIG4gPSAhMDtcbiAgICAgICAgdmFyIG87XG4gICAgICAgIGZvciBhd2FpdCAodmFyIGkgb2Ygc3BsaXQoc3RyZWFtQm9keShyKSwgXCJcXHJcXG5cIiArIGEpKSB7XG4gICAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICAgIG4gPSAhMTtcbiAgICAgICAgICAgIHZhciBzID0gaS5pbmRleE9mKGEpO1xuICAgICAgICAgICAgaWYgKHMgPiAtMSkge1xuICAgICAgICAgICAgICBpID0gaS5zbGljZShzICsgYS5sZW5ndGgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB5aWVsZCBvID0gSlNPTi5wYXJzZShpLnNsaWNlKGkuaW5kZXhPZihcIlxcclxcblxcclxcblwiKSArIDQpKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoIW8pIHtcbiAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG8gJiYgITEgPT09IG8uaGFzTmV4dCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvICYmICExICE9PSBvLmhhc05leHQpIHtcbiAgICAgICAgICB5aWVsZCB7XG4gICAgICAgICAgICBoYXNOZXh0OiAhMVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0oaSwgbyk7XG4gICAgfSBlbHNlIGlmICgvdGV4dFxcL2V2ZW50LXN0cmVhbS9pLnRlc3QoaSkpIHtcbiAgICAgIHMgPSBhc3luYyBmdW5jdGlvbiogcGFyc2VFdmVudFN0cmVhbShlKSB7XG4gICAgICAgIHZhciByO1xuICAgICAgICBmb3IgYXdhaXQgKHZhciB0IG9mIHNwbGl0KHN0cmVhbUJvZHkoZSksIFwiXFxuXFxuXCIpKSB7XG4gICAgICAgICAgdmFyIGEgPSB0Lm1hdGNoKG0pO1xuICAgICAgICAgIGlmIChhKSB7XG4gICAgICAgICAgICB2YXIgbiA9IGFbMV07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB5aWVsZCByID0gSlNPTi5wYXJzZShuKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgaWYgKCFyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHIgJiYgITEgPT09IHIuaGFzTmV4dCkge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHIgJiYgITEgIT09IHIuaGFzTmV4dCkge1xuICAgICAgICAgIHlpZWxkIHtcbiAgICAgICAgICAgIGhhc05leHQ6ICExXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfShvKTtcbiAgICB9IGVsc2UgaWYgKCEvdGV4dFxcLy9pLnRlc3QoaSkpIHtcbiAgICAgIHMgPSBhc3luYyBmdW5jdGlvbiogcGFyc2VKU09OKGUpIHtcbiAgICAgICAgeWllbGQgSlNPTi5wYXJzZShhd2FpdCBlLnRleHQoKSk7XG4gICAgICB9KG8pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzID0gYXN5bmMgZnVuY3Rpb24qIHBhcnNlTWF5YmVKU09OKGUpIHtcbiAgICAgICAgdmFyIHIgPSBhd2FpdCBlLnRleHQoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgdCA9IEpTT04ucGFyc2Uocik7XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdGb3VuZCByZXNwb25zZSB3aXRoIGNvbnRlbnQtdHlwZSBcInRleHQvcGxhaW5cIiBidXQgaXQgaGFkIGEgdmFsaWQgXCJhcHBsaWNhdGlvbi9qc29uXCIgcmVzcG9uc2UuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHlpZWxkIHQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3Iocik7XG4gICAgICAgIH1cbiAgICAgIH0obyk7XG4gICAgfVxuICAgIHZhciBmO1xuICAgIGZvciBhd2FpdCAodmFyIGwgb2Ygcykge1xuICAgICAgaWYgKGwucGVuZGluZyAmJiAhbikge1xuICAgICAgICBmID0gbC5wZW5kaW5nO1xuICAgICAgfSBlbHNlIGlmIChsLnBlbmRpbmcpIHtcbiAgICAgICAgZiA9IFsgLi4uZiwgLi4ubC5wZW5kaW5nIF07XG4gICAgICB9XG4gICAgICBuID0gbiA/IG1lcmdlUmVzdWx0UGF0Y2gobiwgbCwgbywgZikgOiBtYWtlUmVzdWx0KGUsIGwsIG8pO1xuICAgICAgYSA9ICExO1xuICAgICAgeWllbGQgbjtcbiAgICAgIGEgPSAhMDtcbiAgICB9XG4gICAgaWYgKCFuKSB7XG4gICAgICB5aWVsZCBuID0gbWFrZVJlc3VsdChlLCB7fSwgbyk7XG4gICAgfVxuICB9IGNhdGNoIChyKSB7XG4gICAgaWYgKCFhKSB7XG4gICAgICB0aHJvdyByO1xuICAgIH1cbiAgICB5aWVsZCBtYWtlRXJyb3JSZXN1bHQoZSwgbyAmJiAoby5zdGF0dXMgPCAyMDAgfHwgby5zdGF0dXMgPj0gMzAwKSAmJiBvLnN0YXR1c1RleHQgPyBuZXcgRXJyb3Ioby5zdGF0dXNUZXh0KSA6IHIsIG8pO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1ha2VGZXRjaFNvdXJjZShlLCByLCB0KSB7XG4gIHZhciBhO1xuICBpZiAoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgQWJvcnRDb250cm9sbGVyKSB7XG4gICAgdC5zaWduYWwgPSAoYSA9IG5ldyBBYm9ydENvbnRyb2xsZXIpLnNpZ25hbDtcbiAgfVxuICByZXR1cm4gbigoKCkgPT4ge1xuICAgIGlmIChhKSB7XG4gICAgICBhLmFib3J0KCk7XG4gICAgfVxuICB9KSkobygoZSA9PiAhIWUpKShpKGZldGNoT3BlcmF0aW9uKGUsIHIsIHQpKSkpO1xufVxuXG5leHBvcnQgeyBDb21iaW5lZEVycm9yIGFzIEMsIG1ha2VGZXRjaEJvZHkgYXMgYSwgbWFrZUVycm9yUmVzdWx0IGFzIGIsIG1lcmdlUmVzdWx0UGF0Y2ggYXMgYywgbWFrZUZldGNoVVJMIGFzIGQsIG1ha2VGZXRjaE9wdGlvbnMgYXMgZSwgbWFrZUZldGNoU291cmNlIGFzIGYsIGdldE9wZXJhdGlvblR5cGUgYXMgZywgY3JlYXRlUmVxdWVzdCBhcyBoLCBzdHJpbmdpZnlWYXJpYWJsZXMgYXMgaSwga2V5RG9jdW1lbnQgYXMgaywgbWFrZVJlc3VsdCBhcyBtLCBzdHJpbmdpZnlEb2N1bWVudCBhcyBzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cnFsLWNvcmUtY2h1bmsubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@urql/core/dist/urql-core-chunk.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@urql/core/dist/urql-core.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@urql/core/dist/urql-core.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Client: () => (/* binding */ C),\n/* harmony export */   CombinedError: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.C),\n/* harmony export */   cacheExchange: () => (/* binding */ cacheExchange),\n/* harmony export */   composeExchanges: () => (/* binding */ composeExchanges),\n/* harmony export */   createClient: () => (/* binding */ Q),\n/* harmony export */   createRequest: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.h),\n/* harmony export */   debugExchange: () => (/* binding */ debugExchange),\n/* harmony export */   errorExchange: () => (/* binding */ mapExchange),\n/* harmony export */   fetchExchange: () => (/* binding */ fetchExchange),\n/* harmony export */   formatDocument: () => (/* binding */ formatDocument),\n/* harmony export */   gql: () => (/* binding */ gql),\n/* harmony export */   makeErrorResult: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.b),\n/* harmony export */   makeOperation: () => (/* binding */ makeOperation),\n/* harmony export */   makeResult: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.m),\n/* harmony export */   mapExchange: () => (/* binding */ mapExchange),\n/* harmony export */   mergeResultPatch: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.c),\n/* harmony export */   ssrExchange: () => (/* binding */ ssrExchange),\n/* harmony export */   stringifyDocument: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.s),\n/* harmony export */   stringifyVariables: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.i),\n/* harmony export */   subscriptionExchange: () => (/* binding */ subscriptionExchange)\n/* harmony export */ });\n/* harmony import */ var _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @0no-co/graphql.web */ \"(ssr)/./node_modules/@0no-co/graphql.web/dist/graphql.web.mjs\");\n/* harmony import */ var _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./urql-core-chunk.mjs */ \"(ssr)/./node_modules/@urql/core/dist/urql-core-chunk.mjs\");\n/* harmony import */ var wonka__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! wonka */ \"(ssr)/./node_modules/wonka/dist/wonka.mjs\");\n\n\n\n\n\n\n\n\nvar collectTypes = (e, r) => {\n  if (Array.isArray(e)) {\n    for (var t = 0, n = e.length; t < n; t++) {\n      collectTypes(e[t], r);\n    }\n  } else if (\"object\" == typeof e && null !== e) {\n    for (var a in e) {\n      if (\"__typename\" === a && \"string\" == typeof e[a]) {\n        r.add(e[a]);\n      } else {\n        collectTypes(e[a], r);\n      }\n    }\n  }\n  return r;\n};\n\nvar formatNode = r => {\n  if (\"definitions\" in r) {\n    var t = [];\n    for (var n = 0, a = r.definitions.length; n < a; n++) {\n      var i = formatNode(r.definitions[n]);\n      t.push(i);\n    }\n    return {\n      ...r,\n      definitions: t\n    };\n  }\n  if (\"directives\" in r && r.directives && r.directives.length) {\n    var o = [];\n    var s = {};\n    for (var c = 0, u = r.directives.length; c < u; c++) {\n      var p = r.directives[c];\n      var d = p.name.value;\n      if (\"_\" !== d[0]) {\n        o.push(p);\n      } else {\n        d = d.slice(1);\n      }\n      s[d] = p;\n    }\n    r = {\n      ...r,\n      directives: o,\n      _directives: s\n    };\n  }\n  if (\"selectionSet\" in r) {\n    var l = [];\n    var v = r.kind === _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.OPERATION_DEFINITION;\n    if (r.selectionSet) {\n      for (var f = 0, h = r.selectionSet.selections.length; f < h; f++) {\n        var k = r.selectionSet.selections[f];\n        v = v || k.kind === _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.FIELD && \"__typename\" === k.name.value && !k.alias;\n        var y = formatNode(k);\n        l.push(y);\n      }\n      if (!v) {\n        l.push({\n          kind: _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.FIELD,\n          name: {\n            kind: _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.NAME,\n            value: \"__typename\"\n          },\n          _generated: !0\n        });\n      }\n      return {\n        ...r,\n        selectionSet: {\n          ...r.selectionSet,\n          selections: l\n        }\n      };\n    }\n  }\n  return r;\n};\n\nvar I = new Map;\n\nvar formatDocument = e => {\n  var t = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(e);\n  var n = I.get(t.__key);\n  if (!n) {\n    I.set(t.__key, n = formatNode(t));\n    Object.defineProperty(n, \"__key\", {\n      value: t.__key,\n      enumerable: !1\n    });\n  }\n  return n;\n};\n\nfunction withPromise(e) {\n  var source$ = r => e(r);\n  source$.toPromise = () => (0,wonka__WEBPACK_IMPORTED_MODULE_2__.toPromise)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.take)(1)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => !e.stale && !e.hasNext))(source$)));\n  source$.then = (e, r) => source$.toPromise().then(e, r);\n  source$.subscribe = e => (0,wonka__WEBPACK_IMPORTED_MODULE_2__.subscribe)(e)(source$);\n  return source$;\n}\n\nfunction makeOperation(e, r, t) {\n  return {\n    ...r,\n    kind: e,\n    context: r.context ? {\n      ...r.context,\n      ...t\n    } : t || r.context\n  };\n}\n\nvar addMetadata = (e, r) => makeOperation(e.kind, e, {\n  meta: {\n    ...e.context.meta,\n    ...r\n  }\n});\n\nvar noop = () => {};\n\nfunction gql(n) {\n  var a = new Map;\n  var i = [];\n  var o = [];\n  var s = Array.isArray(n) ? n[0] : n || \"\";\n  for (var c = 1; c < arguments.length; c++) {\n    var u = arguments[c];\n    if (u && u.definitions) {\n      o.push(u);\n    } else {\n      s += u;\n    }\n    s += arguments[0][c];\n  }\n  o.unshift((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(s));\n  for (var p = 0; p < o.length; p++) {\n    for (var d = 0; d < o[p].definitions.length; d++) {\n      var l = o[p].definitions[d];\n      if (l.kind === _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.FRAGMENT_DEFINITION) {\n        var v = l.name.value;\n        var f = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.s)(l);\n        if (!a.has(v)) {\n          a.set(v, f);\n          i.push(l);\n        } else if ( true && a.get(v) !== f) {\n          console.warn(\"[WARNING: Duplicate Fragment] A fragment with name `\" + v + \"` already exists in this document.\\nWhile fragment names may not be unique across your source, each name must be unique per document.\");\n        }\n      } else {\n        i.push(l);\n      }\n    }\n  }\n  return (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.k)({\n    kind: _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.DOCUMENT,\n    definitions: i\n  });\n}\n\nvar shouldSkip = ({kind: e}) => \"mutation\" !== e && \"query\" !== e;\n\nvar mapTypeNames = e => {\n  var r = formatDocument(e.query);\n  if (r !== e.query) {\n    var t = makeOperation(e.kind, e);\n    t.query = r;\n    return t;\n  } else {\n    return e;\n  }\n};\n\nvar cacheExchange = ({forward: e, client: r, dispatchDebug: t}) => {\n  var a = new Map;\n  var i = new Map;\n  var isOperationCached = e => \"query\" === e.kind && \"network-only\" !== e.context.requestPolicy && (\"cache-only\" === e.context.requestPolicy || a.has(e.key));\n  return o => {\n    var s = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)((e => {\n      var i = a.get(e.key);\n       true && t({\n        operation: e,\n        ...i ? {\n          type: \"cacheHit\",\n          message: \"The result was successfully retried from the cache\"\n        } : {\n          type: \"cacheMiss\",\n          message: \"The result could not be retrieved from the cache\"\n        },\n        source: \"cacheExchange\"\n      });\n      var o = i || (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.m)(e, {\n        data: null\n      });\n      o = {\n        ...o,\n        operation: addMetadata(e, {\n          cacheOutcome: i ? \"hit\" : \"miss\"\n        })\n      };\n      if (\"cache-and-network\" === e.context.requestPolicy) {\n        o.stale = !0;\n        reexecuteOperation(r, e);\n      }\n      return o;\n    }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => !shouldSkip(e) && isOperationCached(e)))(o));\n    var c = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)((e => {\n      var {operation: n} = e;\n      if (!n) {\n        return;\n      }\n      var o = n.context.additionalTypenames || [];\n      if (\"subscription\" !== e.operation.kind) {\n        o = (e => [ ...collectTypes(e, new Set) ])(e.data).concat(o);\n      }\n      if (\"mutation\" === e.operation.kind || \"subscription\" === e.operation.kind) {\n        var s = new Set;\n         true && t({\n          type: \"cacheInvalidation\",\n          message: `The following typenames have been invalidated: ${o}`,\n          operation: n,\n          data: {\n            typenames: o,\n            response: e\n          },\n          source: \"cacheExchange\"\n        });\n        for (var c = 0; c < o.length; c++) {\n          var u = o[c];\n          var p = i.get(u);\n          if (!p) {\n            i.set(u, p = new Set);\n          }\n          for (var d of p.values()) {\n            s.add(d);\n          }\n          p.clear();\n        }\n        for (var l of s.values()) {\n          if (a.has(l)) {\n            n = a.get(l).operation;\n            a.delete(l);\n            reexecuteOperation(r, n);\n          }\n        }\n      } else if (\"query\" === n.kind && e.data) {\n        a.set(n.key, e);\n        for (var v = 0; v < o.length; v++) {\n          var f = o[v];\n          var h = i.get(f);\n          if (!h) {\n            i.set(f, h = new Set);\n          }\n          h.add(n.key);\n        }\n      }\n    }))(e((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"query\" !== e.kind || \"cache-only\" !== e.context.requestPolicy))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)((e => addMetadata(e, {\n      cacheOutcome: \"miss\"\n    })))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ (0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)(mapTypeNames)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => !shouldSkip(e) && !isOperationCached(e)))(o)), (0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => shouldSkip(e)))(o) ])))));\n    return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ s, c ]);\n  };\n};\n\nvar reexecuteOperation = (e, r) => e.reexecuteOperation(makeOperation(r.kind, r, {\n  requestPolicy: \"network-only\"\n}));\n\nvar T = new Set;\n\nvar ssrExchange = (e = {}) => {\n  var r = !!e.staleWhileRevalidate;\n  var t = !!e.includeExtensions;\n  var n = {};\n  var i = [];\n  var invalidate = e => {\n    i.push(e.operation.key);\n    if (1 === i.length) {\n      Promise.resolve().then((() => {\n        var e;\n        while (e = i.shift()) {\n          n[e] = null;\n        }\n      }));\n    }\n  };\n  var ssr = ({client: i, forward: o}) => s => {\n    var c = e && \"boolean\" == typeof e.isClient ? !!e.isClient : !i.suspense;\n    var u = o((0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)(mapTypeNames)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" === e.kind || !n[e.key] || !!n[e.key].hasNext || \"network-only\" === e.context.requestPolicy))(s)));\n    var p = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)((e => {\n      var o = ((e, r, t) => ({\n        operation: e,\n        data: r.data ? JSON.parse(r.data) : void 0,\n        extensions: t && r.extensions ? JSON.parse(r.extensions) : void 0,\n        error: r.error ? new _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.C({\n          networkError: r.error.networkError ? new Error(r.error.networkError) : void 0,\n          graphQLErrors: r.error.graphQLErrors\n        }) : void 0,\n        stale: !1,\n        hasNext: !!r.hasNext\n      }))(e, n[e.key], t);\n      if (r && !T.has(e.key)) {\n        o.stale = !0;\n        T.add(e.key);\n        reexecuteOperation(i, e);\n      }\n      return {\n        ...o,\n        operation: addMetadata(e, {\n          cacheOutcome: \"hit\"\n        })\n      };\n    }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" !== e.kind && !!n[e.key] && \"network-only\" !== e.context.requestPolicy))(s));\n    if (!c) {\n      u = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)((e => {\n        var {operation: r} = e;\n        if (\"mutation\" !== r.kind) {\n          var a = ((e, r) => {\n            var t = {\n              hasNext: e.hasNext\n            };\n            if (void 0 !== e.data) {\n              t.data = JSON.stringify(e.data);\n            }\n            if (r && void 0 !== e.extensions) {\n              t.extensions = JSON.stringify(e.extensions);\n            }\n            if (e.error) {\n              t.error = {\n                graphQLErrors: e.error.graphQLErrors.map((e => {\n                  if (!e.path && !e.extensions) {\n                    return e.message;\n                  }\n                  return {\n                    message: e.message,\n                    path: e.path,\n                    extensions: e.extensions\n                  };\n                }))\n              };\n              if (e.error.networkError) {\n                t.error.networkError = \"\" + e.error.networkError;\n              }\n            }\n            return t;\n          })(e, t);\n          n[r.key] = a;\n        }\n      }))(u);\n    } else {\n      p = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)(invalidate)(p);\n    }\n    return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ u, p ]);\n  };\n  ssr.restoreData = e => {\n    for (var r in e) {\n      if (null !== n[r]) {\n        n[r] = e[r];\n      }\n    }\n  };\n  ssr.extractData = () => {\n    var e = {};\n    for (var r in n) {\n      if (null != n[r]) {\n        e[r] = n[r];\n      }\n    }\n    return e;\n  };\n  if (e && e.initialState) {\n    ssr.restoreData(e.initialState);\n  }\n  return ssr;\n};\n\nvar subscriptionExchange = ({forwardSubscription: e, enableAllOperations: r, isSubscriptionOperation: t}) => ({client: a, forward: i}) => {\n  var u = t || (e => \"subscription\" === e.kind || !!r && (\"query\" === e.kind || \"mutation\" === e.kind));\n  return r => {\n    var t = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.mergeMap)((t => {\n      var {key: i} = t;\n      var u = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" === e.kind && e.key === i))(r);\n      return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.takeUntil)(u)((r => {\n        var t = e((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(r), r);\n        return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.make)((e => {\n          var i = !1;\n          var o;\n          var u;\n          function nextResult(t) {\n            e.next(u = u ? (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.c)(u, t) : (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.m)(r, t));\n          }\n          Promise.resolve().then((() => {\n            if (i) {\n              return;\n            }\n            o = t.subscribe({\n              next: nextResult,\n              error(t) {\n                if (Array.isArray(t)) {\n                  nextResult({\n                    errors: t\n                  });\n                } else {\n                  e.next((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(r, t));\n                }\n                e.complete();\n              },\n              complete() {\n                if (!i) {\n                  i = !0;\n                  if (\"subscription\" === r.kind) {\n                    a.reexecuteOperation(makeOperation(\"teardown\", r, r.context));\n                  }\n                  if (u && u.hasNext) {\n                    nextResult({\n                      hasNext: !1\n                    });\n                  }\n                  e.complete();\n                }\n              }\n            });\n          }));\n          return () => {\n            i = !0;\n            if (o) {\n              o.unsubscribe();\n            }\n          };\n        }));\n      })(t));\n    }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" !== e.kind && u(e)))(r));\n    var p = i((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" === e.kind || !u(e)))(r));\n    return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ t, p ]);\n  };\n};\n\nvar debugExchange = ({forward: e}) => {\n  if (false) {} else {\n    return r => (0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)((e => console.log(\"[Exchange debug]: Completed operation: \", e)))(e((0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)((e => console.log(\"[Exchange debug]: Incoming operation: \", e)))(r)));\n  }\n};\n\nvar fetchExchange = ({forward: e, dispatchDebug: r}) => t => {\n  var n = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.mergeMap)((e => {\n    var n = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(e);\n    var a = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.d)(e, n);\n    var i = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.e)(e, n);\n     true && r({\n      type: \"fetchRequest\",\n      message: \"A fetch request is being executed.\",\n      operation: e,\n      data: {\n        url: a,\n        fetchOptions: i\n      },\n      source: \"fetchExchange\"\n    });\n    var s = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.takeUntil)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((r => \"teardown\" === r.kind && r.key === e.key))(t))((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.f)(e, a, i));\n    if (true) {\n      return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.onPush)((t => {\n        var n = !t.data ? t.error : void 0;\n         true && r({\n          type: n ? \"fetchError\" : \"fetchSuccess\",\n          message: `A ${n ? \"failed\" : \"successful\"} fetch response has been returned.`,\n          operation: e,\n          data: {\n            url: a,\n            fetchOptions: i,\n            value: n || t\n          },\n          source: \"fetchExchange\"\n        });\n      }))(s);\n    }\n    return s;\n  }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" !== e.kind && (\"subscription\" !== e.kind || !!e.context.fetchSubscriptions)))(t));\n  var a = e((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" === e.kind || \"subscription\" === e.kind && !e.context.fetchSubscriptions))(t));\n  return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ n, a ]);\n};\n\nvar composeExchanges = e => ({client: r, forward: t, dispatchDebug: n}) => e.reduceRight(((e, t) => {\n  var a = !1;\n  return t({\n    client: r,\n    forward(r) {\n      if (true) {\n        if (a) {\n          throw new Error(\"forward() must only be called once in each Exchange.\");\n        }\n        a = !0;\n      }\n      return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.share)(e((0,wonka__WEBPACK_IMPORTED_MODULE_2__.share)(r)));\n    },\n    dispatchDebug(e) {\n       true && n({\n        timestamp: Date.now(),\n        source: t.name,\n        ...e\n      });\n    }\n  });\n}), t);\n\nvar mapExchange = ({onOperation: e, onResult: r, onError: t}) => ({forward: n}) => a => (0,wonka__WEBPACK_IMPORTED_MODULE_2__.mergeMap)((e => {\n  if (t && e.error) {\n    t(e.error, e.operation);\n  }\n  var n = r && r(e) || e;\n  return \"then\" in n ? (0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromPromise)(n) : (0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromValue)(n);\n}))(n((0,wonka__WEBPACK_IMPORTED_MODULE_2__.mergeMap)((r => {\n  var t = e && e(r) || r;\n  return \"then\" in t ? (0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromPromise)(t) : (0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromValue)(t);\n}))(a)));\n\nvar fallbackExchange = ({dispatchDebug: e}) => r => {\n  if (true) {\n    r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)((r => {\n      if (\"teardown\" !== r.kind && \"production\" !== \"development\") {\n        var t = `No exchange has handled operations of kind \"${r.kind}\". Check whether you've added an exchange responsible for these operations.`;\n         true && e({\n          type: \"fallbackCatch\",\n          message: t,\n          operation: r,\n          source: \"fallbackExchange\"\n        });\n        console.warn(t);\n      }\n    }))(r);\n  }\n  return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => !1))(r);\n};\n\nvar C = function Client(e) {\n  if ( true && !e.url) {\n    throw new Error(\"You are creating an urql-client without a url.\");\n  }\n  var r = 0;\n  var t = new Map;\n  var n = new Map;\n  var a = new Set;\n  var i = [];\n  var o = {\n    url: e.url,\n    fetchSubscriptions: e.fetchSubscriptions,\n    fetchOptions: e.fetchOptions,\n    fetch: e.fetch,\n    preferGetMethod: e.preferGetMethod,\n    requestPolicy: e.requestPolicy || \"cache-first\"\n  };\n  var s = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.makeSubject)();\n  function nextOperation(e) {\n    if (\"mutation\" === e.kind || \"teardown\" === e.kind || !a.has(e.key)) {\n      if (\"teardown\" === e.kind) {\n        a.delete(e.key);\n      } else if (\"mutation\" !== e.kind) {\n        a.add(e.key);\n      }\n      s.next(e);\n    }\n  }\n  var c = !1;\n  function dispatchOperation(e) {\n    if (e) {\n      nextOperation(e);\n    }\n    if (!c) {\n      c = !0;\n      while (c && (e = i.shift())) {\n        nextOperation(e);\n      }\n      c = !1;\n    }\n  }\n  var makeResultSource = e => {\n    var r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.takeUntil)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((r => \"teardown\" === r.kind && r.key === e.key))(s.source))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((r => r.operation.kind === e.kind && r.operation.key === e.key && (!r.operation.context._instance || r.operation.context._instance === e.context._instance)))(E));\n    if (\"query\" !== e.kind) {\n      r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.takeWhile)((e => !!e.hasNext), !0)(r);\n    } else {\n      r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.switchMap)((r => {\n        var t = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromValue)(r);\n        return r.stale || r.hasNext ? t : (0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ t, (0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)((() => {\n          r.stale = !0;\n          return r;\n        }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.take)(1)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((r => r.key === e.key))(s.source))) ]);\n      }))(r);\n    }\n    if (\"mutation\" !== e.kind) {\n      r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.onEnd)((() => {\n        a.delete(e.key);\n        t.delete(e.key);\n        n.delete(e.key);\n        c = !1;\n        for (var r = i.length - 1; r >= 0; r--) {\n          if (i[r].key === e.key) {\n            i.splice(r, 1);\n          }\n        }\n        nextOperation(makeOperation(\"teardown\", e, e.context));\n      }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.onPush)((r => {\n        if (r.stale) {\n          if (!r.hasNext) {\n            a.delete(e.key);\n          } else {\n            for (var n = 0; n < i.length; n++) {\n              var o = i[n];\n              if (o.key === r.operation.key) {\n                a.delete(o.key);\n                break;\n              }\n            }\n          }\n        } else if (!r.hasNext) {\n          a.delete(e.key);\n        }\n        t.set(e.key, r);\n      }))(r));\n    } else {\n      r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.onStart)((() => {\n        nextOperation(e);\n      }))(r);\n    }\n    return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.share)(r);\n  };\n  var u = this instanceof Client ? this : Object.create(Client.prototype);\n  var p = Object.assign(u, {\n    suspense: !!e.suspense,\n    operations$: s.source,\n    reexecuteOperation(e) {\n      if (\"teardown\" === e.kind) {\n        dispatchOperation(e);\n      } else if (\"mutation\" === e.kind) {\n        i.push(e);\n        Promise.resolve().then(dispatchOperation);\n      } else if (n.has(e.key)) {\n        var r = !1;\n        for (var t = 0; t < i.length; t++) {\n          if (i[t].key === e.key) {\n            i[t] = e;\n            r = !0;\n          }\n        }\n        if (!(r || a.has(e.key) && \"network-only\" !== e.context.requestPolicy)) {\n          i.push(e);\n          Promise.resolve().then(dispatchOperation);\n        } else {\n          a.delete(e.key);\n          Promise.resolve().then(dispatchOperation);\n        }\n      }\n    },\n    createRequestOperation(e, t, n) {\n      if (!n) {\n        n = {};\n      }\n      var a;\n      if ( true && \"teardown\" !== e && (a = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(t.query)) !== e) {\n        throw new Error(`Expected operation of type \"${e}\" but found \"${a}\"`);\n      }\n      return makeOperation(e, t, {\n        _instance: \"mutation\" === e ? r = r + 1 | 0 : void 0,\n        ...o,\n        ...n,\n        requestPolicy: n.requestPolicy || o.requestPolicy,\n        suspense: n.suspense || !1 !== n.suspense && p.suspense\n      });\n    },\n    executeRequestOperation(e) {\n      if (\"mutation\" === e.kind) {\n        return withPromise(makeResultSource(e));\n      }\n      return withPromise((0,wonka__WEBPACK_IMPORTED_MODULE_2__.lazy)((() => {\n        var r = n.get(e.key);\n        if (!r) {\n          n.set(e.key, r = makeResultSource(e));\n        }\n        r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.onStart)((() => {\n          dispatchOperation(e);\n        }))(r);\n        var a = t.get(e.key);\n        if (\"query\" === e.kind && a && (a.stale || a.hasNext)) {\n          return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.switchMap)(wonka__WEBPACK_IMPORTED_MODULE_2__.fromValue)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ r, (0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((r => r === t.get(e.key)))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromValue)(a)) ]));\n        } else {\n          return r;\n        }\n      })));\n    },\n    executeQuery(e, r) {\n      var t = p.createRequestOperation(\"query\", e, r);\n      return p.executeRequestOperation(t);\n    },\n    executeSubscription(e, r) {\n      var t = p.createRequestOperation(\"subscription\", e, r);\n      return p.executeRequestOperation(t);\n    },\n    executeMutation(e, r) {\n      var t = p.createRequestOperation(\"mutation\", e, r);\n      return p.executeRequestOperation(t);\n    },\n    readQuery(e, r, t) {\n      var n = null;\n      (0,wonka__WEBPACK_IMPORTED_MODULE_2__.subscribe)((e => {\n        n = e;\n      }))(p.query(e, r, t)).unsubscribe();\n      return n;\n    },\n    query: (e, r, t) => p.executeQuery((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(e, r), t),\n    subscription: (e, r, t) => p.executeSubscription((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(e, r), t),\n    mutation: (e, r, t) => p.executeMutation((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(e, r), t)\n  });\n  var d = noop;\n  if (true) {\n    var {next: f, source: x} = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.makeSubject)();\n    p.subscribeToDebugTarget = e => (0,wonka__WEBPACK_IMPORTED_MODULE_2__.subscribe)(e)(x);\n    d = f;\n  }\n  var w = composeExchanges(e.exchanges);\n  var E = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.share)(w({\n    client: p,\n    dispatchDebug: d,\n    forward: fallbackExchange({\n      dispatchDebug: d\n    })\n  })(s.source));\n  (0,wonka__WEBPACK_IMPORTED_MODULE_2__.publish)(E);\n  return p;\n};\n\nvar Q = C;\n\n\n//# sourceMappingURL=urql-core.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9kaXN0L3VycWwtY29yZS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0Q7O0FBRWtGOztBQUVsRTs7QUFFeVA7O0FBRXpUO0FBQ0E7QUFDQSxrQ0FBa0MsT0FBTztBQUN6QztBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsOENBQThDLE9BQU87QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxPQUFPO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixxREFBQztBQUN4QjtBQUNBLDREQUE0RCxPQUFPO0FBQ25FO0FBQ0EsNEJBQTRCLHFEQUFDO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscURBQUM7QUFDakI7QUFDQSxrQkFBa0IscURBQUM7QUFDbkI7QUFDQSxXQUFXO0FBQ1g7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsVUFBVSx1REFBQztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRCQUE0QixnREFBQyxDQUFDLDJDQUFDLElBQUksNkNBQUM7QUFDcEM7QUFDQSwyQkFBMkIsZ0RBQUM7QUFDNUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7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QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDhDQUFDO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGlCQUFpQixnREFBQyxDQUFDLDRDQUFDLEVBQUUsNENBQUMsTUFBTSw2Q0FBQyw0QkFBNEIsZ0RBQUM7QUFDM0QsVUFBVTtBQUNWO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxNQUFNLGdEQUFDO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0wsdUNBQXVDLHVEQUFDO0FBQ3hDLHFEQUFxRCx1REFBQztBQUN0RCw2Q0FBNkMsdURBQUM7QUFDOUMsR0FBRztBQUNIO0FBQ0EsTUFBTSxJQUFxQztBQUMzQyxTQUFTLG9CQUFvQixFQUFFLGtEQUFDO0FBQ2hDLG9DQUFvQyxnREFBQztBQUNyQztBQUNBO0FBQ0E7QUFDQSxVQUFVLDRDQUFDO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILEVBQUUsOENBQUM7QUFDSDtBQUNBOztBQUVBOztBQUV5VjtBQUN6ViIsInNvdXJjZXMiOlsiL2hvbWUvcmlrdXNlbi93b3Jrc3BhY2UvbmV4dGpzLW1zdy1yZXByb2R1Y3Rpb24vbm9kZV9tb2R1bGVzL0B1cnFsL2NvcmUvZGlzdC91cnFsLWNvcmUubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEtpbmQgYXMgZSB9IGZyb20gXCJAMG5vLWNvL2dyYXBocWwud2ViXCI7XG5cbmltcG9ydCB7IGsgYXMgciwgcyBhcyB0LCBtIGFzIG4sIEMgYXMgYSwgYSBhcyBvLCBiIGFzIHMsIGMsIGQgYXMgdSwgZSBhcyBwLCBmIGFzIGQsIGcgYXMgbCwgaCBhcyB2IH0gZnJvbSBcIi4vdXJxbC1jb3JlLWNodW5rLm1qc1wiO1xuXG5leHBvcnQgeyBpIGFzIHN0cmluZ2lmeVZhcmlhYmxlcyB9IGZyb20gXCIuL3VycWwtY29yZS1jaHVuay5tanNcIjtcblxuaW1wb3J0IHsgdG9Qcm9taXNlIGFzIGYsIHRha2UgYXMgaCwgZmlsdGVyIGFzIGssIHN1YnNjcmliZSBhcyB5LCBtYXAgYXMgbSwgdGFwIGFzIHgsIG1lcmdlIGFzIGcsIG1lcmdlTWFwIGFzIHcsIHRha2VVbnRpbCBhcyBPLCBtYWtlIGFzIEUsIG9uUHVzaCBhcyBiLCBzaGFyZSBhcyBOLCBmcm9tUHJvbWlzZSBhcyBxLCBmcm9tVmFsdWUgYXMgXywgbWFrZVN1YmplY3QgYXMgRCwgbGF6eSBhcyBTLCBvblN0YXJ0IGFzIFAsIHN3aXRjaE1hcCBhcyBSLCBwdWJsaXNoIGFzIFYsIHRha2VXaGlsZSBhcyBBLCBvbkVuZCBhcyBNIH0gZnJvbSBcIndvbmthXCI7XG5cbnZhciBjb2xsZWN0VHlwZXMgPSAoZSwgcikgPT4ge1xuICBpZiAoQXJyYXkuaXNBcnJheShlKSkge1xuICAgIGZvciAodmFyIHQgPSAwLCBuID0gZS5sZW5ndGg7IHQgPCBuOyB0KyspIHtcbiAgICAgIGNvbGxlY3RUeXBlcyhlW3RdLCByKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoXCJvYmplY3RcIiA9PSB0eXBlb2YgZSAmJiBudWxsICE9PSBlKSB7XG4gICAgZm9yICh2YXIgYSBpbiBlKSB7XG4gICAgICBpZiAoXCJfX3R5cGVuYW1lXCIgPT09IGEgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2YgZVthXSkge1xuICAgICAgICByLmFkZChlW2FdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbGxlY3RUeXBlcyhlW2FdLCByKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHI7XG59O1xuXG52YXIgZm9ybWF0Tm9kZSA9IHIgPT4ge1xuICBpZiAoXCJkZWZpbml0aW9uc1wiIGluIHIpIHtcbiAgICB2YXIgdCA9IFtdO1xuICAgIGZvciAodmFyIG4gPSAwLCBhID0gci5kZWZpbml0aW9ucy5sZW5ndGg7IG4gPCBhOyBuKyspIHtcbiAgICAgIHZhciBpID0gZm9ybWF0Tm9kZShyLmRlZmluaXRpb25zW25dKTtcbiAgICAgIHQucHVzaChpKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnIsXG4gICAgICBkZWZpbml0aW9uczogdFxuICAgIH07XG4gIH1cbiAgaWYgKFwiZGlyZWN0aXZlc1wiIGluIHIgJiYgci5kaXJlY3RpdmVzICYmIHIuZGlyZWN0aXZlcy5sZW5ndGgpIHtcbiAgICB2YXIgbyA9IFtdO1xuICAgIHZhciBzID0ge307XG4gICAgZm9yICh2YXIgYyA9IDAsIHUgPSByLmRpcmVjdGl2ZXMubGVuZ3RoOyBjIDwgdTsgYysrKSB7XG4gICAgICB2YXIgcCA9IHIuZGlyZWN0aXZlc1tjXTtcbiAgICAgIHZhciBkID0gcC5uYW1lLnZhbHVlO1xuICAgICAgaWYgKFwiX1wiICE9PSBkWzBdKSB7XG4gICAgICAgIG8ucHVzaChwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGQgPSBkLnNsaWNlKDEpO1xuICAgICAgfVxuICAgICAgc1tkXSA9IHA7XG4gICAgfVxuICAgIHIgPSB7XG4gICAgICAuLi5yLFxuICAgICAgZGlyZWN0aXZlczogbyxcbiAgICAgIF9kaXJlY3RpdmVzOiBzXG4gICAgfTtcbiAgfVxuICBpZiAoXCJzZWxlY3Rpb25TZXRcIiBpbiByKSB7XG4gICAgdmFyIGwgPSBbXTtcbiAgICB2YXIgdiA9IHIua2luZCA9PT0gZS5PUEVSQVRJT05fREVGSU5JVElPTjtcbiAgICBpZiAoci5zZWxlY3Rpb25TZXQpIHtcbiAgICAgIGZvciAodmFyIGYgPSAwLCBoID0gci5zZWxlY3Rpb25TZXQuc2VsZWN0aW9ucy5sZW5ndGg7IGYgPCBoOyBmKyspIHtcbiAgICAgICAgdmFyIGsgPSByLnNlbGVjdGlvblNldC5zZWxlY3Rpb25zW2ZdO1xuICAgICAgICB2ID0gdiB8fCBrLmtpbmQgPT09IGUuRklFTEQgJiYgXCJfX3R5cGVuYW1lXCIgPT09IGsubmFtZS52YWx1ZSAmJiAhay5hbGlhcztcbiAgICAgICAgdmFyIHkgPSBmb3JtYXROb2RlKGspO1xuICAgICAgICBsLnB1c2goeSk7XG4gICAgICB9XG4gICAgICBpZiAoIXYpIHtcbiAgICAgICAgbC5wdXNoKHtcbiAgICAgICAgICBraW5kOiBlLkZJRUxELFxuICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgIGtpbmQ6IGUuTkFNRSxcbiAgICAgICAgICAgIHZhbHVlOiBcIl9fdHlwZW5hbWVcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgX2dlbmVyYXRlZDogITBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5yLFxuICAgICAgICBzZWxlY3Rpb25TZXQ6IHtcbiAgICAgICAgICAuLi5yLnNlbGVjdGlvblNldCxcbiAgICAgICAgICBzZWxlY3Rpb25zOiBsXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9XG4gIHJldHVybiByO1xufTtcblxudmFyIEkgPSBuZXcgTWFwO1xuXG52YXIgZm9ybWF0RG9jdW1lbnQgPSBlID0+IHtcbiAgdmFyIHQgPSByKGUpO1xuICB2YXIgbiA9IEkuZ2V0KHQuX19rZXkpO1xuICBpZiAoIW4pIHtcbiAgICBJLnNldCh0Ll9fa2V5LCBuID0gZm9ybWF0Tm9kZSh0KSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIFwiX19rZXlcIiwge1xuICAgICAgdmFsdWU6IHQuX19rZXksXG4gICAgICBlbnVtZXJhYmxlOiAhMVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBuO1xufTtcblxuZnVuY3Rpb24gd2l0aFByb21pc2UoZSkge1xuICB2YXIgc291cmNlJCA9IHIgPT4gZShyKTtcbiAgc291cmNlJC50b1Byb21pc2UgPSAoKSA9PiBmKGgoMSkoaygoZSA9PiAhZS5zdGFsZSAmJiAhZS5oYXNOZXh0KSkoc291cmNlJCkpKTtcbiAgc291cmNlJC50aGVuID0gKGUsIHIpID0+IHNvdXJjZSQudG9Qcm9taXNlKCkudGhlbihlLCByKTtcbiAgc291cmNlJC5zdWJzY3JpYmUgPSBlID0+IHkoZSkoc291cmNlJCk7XG4gIHJldHVybiBzb3VyY2UkO1xufVxuXG5mdW5jdGlvbiBtYWtlT3BlcmF0aW9uKGUsIHIsIHQpIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5yLFxuICAgIGtpbmQ6IGUsXG4gICAgY29udGV4dDogci5jb250ZXh0ID8ge1xuICAgICAgLi4uci5jb250ZXh0LFxuICAgICAgLi4udFxuICAgIH0gOiB0IHx8IHIuY29udGV4dFxuICB9O1xufVxuXG52YXIgYWRkTWV0YWRhdGEgPSAoZSwgcikgPT4gbWFrZU9wZXJhdGlvbihlLmtpbmQsIGUsIHtcbiAgbWV0YToge1xuICAgIC4uLmUuY29udGV4dC5tZXRhLFxuICAgIC4uLnJcbiAgfVxufSk7XG5cbnZhciBub29wID0gKCkgPT4ge307XG5cbmZ1bmN0aW9uIGdxbChuKSB7XG4gIHZhciBhID0gbmV3IE1hcDtcbiAgdmFyIGkgPSBbXTtcbiAgdmFyIG8gPSBbXTtcbiAgdmFyIHMgPSBBcnJheS5pc0FycmF5KG4pID8gblswXSA6IG4gfHwgXCJcIjtcbiAgZm9yICh2YXIgYyA9IDE7IGMgPCBhcmd1bWVudHMubGVuZ3RoOyBjKyspIHtcbiAgICB2YXIgdSA9IGFyZ3VtZW50c1tjXTtcbiAgICBpZiAodSAmJiB1LmRlZmluaXRpb25zKSB7XG4gICAgICBvLnB1c2godSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMgKz0gdTtcbiAgICB9XG4gICAgcyArPSBhcmd1bWVudHNbMF1bY107XG4gIH1cbiAgby51bnNoaWZ0KHIocykpO1xuICBmb3IgKHZhciBwID0gMDsgcCA8IG8ubGVuZ3RoOyBwKyspIHtcbiAgICBmb3IgKHZhciBkID0gMDsgZCA8IG9bcF0uZGVmaW5pdGlvbnMubGVuZ3RoOyBkKyspIHtcbiAgICAgIHZhciBsID0gb1twXS5kZWZpbml0aW9uc1tkXTtcbiAgICAgIGlmIChsLmtpbmQgPT09IGUuRlJBR01FTlRfREVGSU5JVElPTikge1xuICAgICAgICB2YXIgdiA9IGwubmFtZS52YWx1ZTtcbiAgICAgICAgdmFyIGYgPSB0KGwpO1xuICAgICAgICBpZiAoIWEuaGFzKHYpKSB7XG4gICAgICAgICAgYS5zZXQodiwgZik7XG4gICAgICAgICAgaS5wdXNoKGwpO1xuICAgICAgICB9IGVsc2UgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJiBhLmdldCh2KSAhPT0gZikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIltXQVJOSU5HOiBEdXBsaWNhdGUgRnJhZ21lbnRdIEEgZnJhZ21lbnQgd2l0aCBuYW1lIGBcIiArIHYgKyBcImAgYWxyZWFkeSBleGlzdHMgaW4gdGhpcyBkb2N1bWVudC5cXG5XaGlsZSBmcmFnbWVudCBuYW1lcyBtYXkgbm90IGJlIHVuaXF1ZSBhY3Jvc3MgeW91ciBzb3VyY2UsIGVhY2ggbmFtZSBtdXN0IGJlIHVuaXF1ZSBwZXIgZG9jdW1lbnQuXCIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpLnB1c2gobCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByKHtcbiAgICBraW5kOiBlLkRPQ1VNRU5ULFxuICAgIGRlZmluaXRpb25zOiBpXG4gIH0pO1xufVxuXG52YXIgc2hvdWxkU2tpcCA9ICh7a2luZDogZX0pID0+IFwibXV0YXRpb25cIiAhPT0gZSAmJiBcInF1ZXJ5XCIgIT09IGU7XG5cbnZhciBtYXBUeXBlTmFtZXMgPSBlID0+IHtcbiAgdmFyIHIgPSBmb3JtYXREb2N1bWVudChlLnF1ZXJ5KTtcbiAgaWYgKHIgIT09IGUucXVlcnkpIHtcbiAgICB2YXIgdCA9IG1ha2VPcGVyYXRpb24oZS5raW5kLCBlKTtcbiAgICB0LnF1ZXJ5ID0gcjtcbiAgICByZXR1cm4gdDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZTtcbiAgfVxufTtcblxudmFyIGNhY2hlRXhjaGFuZ2UgPSAoe2ZvcndhcmQ6IGUsIGNsaWVudDogciwgZGlzcGF0Y2hEZWJ1ZzogdH0pID0+IHtcbiAgdmFyIGEgPSBuZXcgTWFwO1xuICB2YXIgaSA9IG5ldyBNYXA7XG4gIHZhciBpc09wZXJhdGlvbkNhY2hlZCA9IGUgPT4gXCJxdWVyeVwiID09PSBlLmtpbmQgJiYgXCJuZXR3b3JrLW9ubHlcIiAhPT0gZS5jb250ZXh0LnJlcXVlc3RQb2xpY3kgJiYgKFwiY2FjaGUtb25seVwiID09PSBlLmNvbnRleHQucmVxdWVzdFBvbGljeSB8fCBhLmhhcyhlLmtleSkpO1xuICByZXR1cm4gbyA9PiB7XG4gICAgdmFyIHMgPSBtKChlID0+IHtcbiAgICAgIHZhciBpID0gYS5nZXQoZS5rZXkpO1xuICAgICAgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmIHQoe1xuICAgICAgICBvcGVyYXRpb246IGUsXG4gICAgICAgIC4uLmkgPyB7XG4gICAgICAgICAgdHlwZTogXCJjYWNoZUhpdFwiLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiVGhlIHJlc3VsdCB3YXMgc3VjY2Vzc2Z1bGx5IHJldHJpZWQgZnJvbSB0aGUgY2FjaGVcIlxuICAgICAgICB9IDoge1xuICAgICAgICAgIHR5cGU6IFwiY2FjaGVNaXNzXCIsXG4gICAgICAgICAgbWVzc2FnZTogXCJUaGUgcmVzdWx0IGNvdWxkIG5vdCBiZSByZXRyaWV2ZWQgZnJvbSB0aGUgY2FjaGVcIlxuICAgICAgICB9LFxuICAgICAgICBzb3VyY2U6IFwiY2FjaGVFeGNoYW5nZVwiXG4gICAgICB9KTtcbiAgICAgIHZhciBvID0gaSB8fCBuKGUsIHtcbiAgICAgICAgZGF0YTogbnVsbFxuICAgICAgfSk7XG4gICAgICBvID0ge1xuICAgICAgICAuLi5vLFxuICAgICAgICBvcGVyYXRpb246IGFkZE1ldGFkYXRhKGUsIHtcbiAgICAgICAgICBjYWNoZU91dGNvbWU6IGkgPyBcImhpdFwiIDogXCJtaXNzXCJcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgICBpZiAoXCJjYWNoZS1hbmQtbmV0d29ya1wiID09PSBlLmNvbnRleHQucmVxdWVzdFBvbGljeSkge1xuICAgICAgICBvLnN0YWxlID0gITA7XG4gICAgICAgIHJlZXhlY3V0ZU9wZXJhdGlvbihyLCBlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvO1xuICAgIH0pKShrKChlID0+ICFzaG91bGRTa2lwKGUpICYmIGlzT3BlcmF0aW9uQ2FjaGVkKGUpKSkobykpO1xuICAgIHZhciBjID0geCgoZSA9PiB7XG4gICAgICB2YXIge29wZXJhdGlvbjogbn0gPSBlO1xuICAgICAgaWYgKCFuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBvID0gbi5jb250ZXh0LmFkZGl0aW9uYWxUeXBlbmFtZXMgfHwgW107XG4gICAgICBpZiAoXCJzdWJzY3JpcHRpb25cIiAhPT0gZS5vcGVyYXRpb24ua2luZCkge1xuICAgICAgICBvID0gKGUgPT4gWyAuLi5jb2xsZWN0VHlwZXMoZSwgbmV3IFNldCkgXSkoZS5kYXRhKS5jb25jYXQobyk7XG4gICAgICB9XG4gICAgICBpZiAoXCJtdXRhdGlvblwiID09PSBlLm9wZXJhdGlvbi5raW5kIHx8IFwic3Vic2NyaXB0aW9uXCIgPT09IGUub3BlcmF0aW9uLmtpbmQpIHtcbiAgICAgICAgdmFyIHMgPSBuZXcgU2V0O1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgdCh7XG4gICAgICAgICAgdHlwZTogXCJjYWNoZUludmFsaWRhdGlvblwiLFxuICAgICAgICAgIG1lc3NhZ2U6IGBUaGUgZm9sbG93aW5nIHR5cGVuYW1lcyBoYXZlIGJlZW4gaW52YWxpZGF0ZWQ6ICR7b31gLFxuICAgICAgICAgIG9wZXJhdGlvbjogbixcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0eXBlbmFtZXM6IG8sXG4gICAgICAgICAgICByZXNwb25zZTogZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgc291cmNlOiBcImNhY2hlRXhjaGFuZ2VcIlxuICAgICAgICB9KTtcbiAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBvLmxlbmd0aDsgYysrKSB7XG4gICAgICAgICAgdmFyIHUgPSBvW2NdO1xuICAgICAgICAgIHZhciBwID0gaS5nZXQodSk7XG4gICAgICAgICAgaWYgKCFwKSB7XG4gICAgICAgICAgICBpLnNldCh1LCBwID0gbmV3IFNldCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAodmFyIGQgb2YgcC52YWx1ZXMoKSkge1xuICAgICAgICAgICAgcy5hZGQoZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHAuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBsIG9mIHMudmFsdWVzKCkpIHtcbiAgICAgICAgICBpZiAoYS5oYXMobCkpIHtcbiAgICAgICAgICAgIG4gPSBhLmdldChsKS5vcGVyYXRpb247XG4gICAgICAgICAgICBhLmRlbGV0ZShsKTtcbiAgICAgICAgICAgIHJlZXhlY3V0ZU9wZXJhdGlvbihyLCBuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoXCJxdWVyeVwiID09PSBuLmtpbmQgJiYgZS5kYXRhKSB7XG4gICAgICAgIGEuc2V0KG4ua2V5LCBlKTtcbiAgICAgICAgZm9yICh2YXIgdiA9IDA7IHYgPCBvLmxlbmd0aDsgdisrKSB7XG4gICAgICAgICAgdmFyIGYgPSBvW3ZdO1xuICAgICAgICAgIHZhciBoID0gaS5nZXQoZik7XG4gICAgICAgICAgaWYgKCFoKSB7XG4gICAgICAgICAgICBpLnNldChmLCBoID0gbmV3IFNldCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGguYWRkKG4ua2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pKShlKGsoKGUgPT4gXCJxdWVyeVwiICE9PSBlLmtpbmQgfHwgXCJjYWNoZS1vbmx5XCIgIT09IGUuY29udGV4dC5yZXF1ZXN0UG9saWN5KSkobSgoZSA9PiBhZGRNZXRhZGF0YShlLCB7XG4gICAgICBjYWNoZU91dGNvbWU6IFwibWlzc1wiXG4gICAgfSkpKShnKFsgbShtYXBUeXBlTmFtZXMpKGsoKGUgPT4gIXNob3VsZFNraXAoZSkgJiYgIWlzT3BlcmF0aW9uQ2FjaGVkKGUpKSkobykpLCBrKChlID0+IHNob3VsZFNraXAoZSkpKShvKSBdKSkpKSk7XG4gICAgcmV0dXJuIGcoWyBzLCBjIF0pO1xuICB9O1xufTtcblxudmFyIHJlZXhlY3V0ZU9wZXJhdGlvbiA9IChlLCByKSA9PiBlLnJlZXhlY3V0ZU9wZXJhdGlvbihtYWtlT3BlcmF0aW9uKHIua2luZCwgciwge1xuICByZXF1ZXN0UG9saWN5OiBcIm5ldHdvcmstb25seVwiXG59KSk7XG5cbnZhciBUID0gbmV3IFNldDtcblxudmFyIHNzckV4Y2hhbmdlID0gKGUgPSB7fSkgPT4ge1xuICB2YXIgciA9ICEhZS5zdGFsZVdoaWxlUmV2YWxpZGF0ZTtcbiAgdmFyIHQgPSAhIWUuaW5jbHVkZUV4dGVuc2lvbnM7XG4gIHZhciBuID0ge307XG4gIHZhciBpID0gW107XG4gIHZhciBpbnZhbGlkYXRlID0gZSA9PiB7XG4gICAgaS5wdXNoKGUub3BlcmF0aW9uLmtleSk7XG4gICAgaWYgKDEgPT09IGkubGVuZ3RoKSB7XG4gICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgoKSA9PiB7XG4gICAgICAgIHZhciBlO1xuICAgICAgICB3aGlsZSAoZSA9IGkuc2hpZnQoKSkge1xuICAgICAgICAgIG5bZV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xuICB2YXIgc3NyID0gKHtjbGllbnQ6IGksIGZvcndhcmQ6IG99KSA9PiBzID0+IHtcbiAgICB2YXIgYyA9IGUgJiYgXCJib29sZWFuXCIgPT0gdHlwZW9mIGUuaXNDbGllbnQgPyAhIWUuaXNDbGllbnQgOiAhaS5zdXNwZW5zZTtcbiAgICB2YXIgdSA9IG8obShtYXBUeXBlTmFtZXMpKGsoKGUgPT4gXCJ0ZWFyZG93blwiID09PSBlLmtpbmQgfHwgIW5bZS5rZXldIHx8ICEhbltlLmtleV0uaGFzTmV4dCB8fCBcIm5ldHdvcmstb25seVwiID09PSBlLmNvbnRleHQucmVxdWVzdFBvbGljeSkpKHMpKSk7XG4gICAgdmFyIHAgPSBtKChlID0+IHtcbiAgICAgIHZhciBvID0gKChlLCByLCB0KSA9PiAoe1xuICAgICAgICBvcGVyYXRpb246IGUsXG4gICAgICAgIGRhdGE6IHIuZGF0YSA/IEpTT04ucGFyc2Uoci5kYXRhKSA6IHZvaWQgMCxcbiAgICAgICAgZXh0ZW5zaW9uczogdCAmJiByLmV4dGVuc2lvbnMgPyBKU09OLnBhcnNlKHIuZXh0ZW5zaW9ucykgOiB2b2lkIDAsXG4gICAgICAgIGVycm9yOiByLmVycm9yID8gbmV3IGEoe1xuICAgICAgICAgIG5ldHdvcmtFcnJvcjogci5lcnJvci5uZXR3b3JrRXJyb3IgPyBuZXcgRXJyb3Ioci5lcnJvci5uZXR3b3JrRXJyb3IpIDogdm9pZCAwLFxuICAgICAgICAgIGdyYXBoUUxFcnJvcnM6IHIuZXJyb3IuZ3JhcGhRTEVycm9yc1xuICAgICAgICB9KSA6IHZvaWQgMCxcbiAgICAgICAgc3RhbGU6ICExLFxuICAgICAgICBoYXNOZXh0OiAhIXIuaGFzTmV4dFxuICAgICAgfSkpKGUsIG5bZS5rZXldLCB0KTtcbiAgICAgIGlmIChyICYmICFULmhhcyhlLmtleSkpIHtcbiAgICAgICAgby5zdGFsZSA9ICEwO1xuICAgICAgICBULmFkZChlLmtleSk7XG4gICAgICAgIHJlZXhlY3V0ZU9wZXJhdGlvbihpLCBlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLm8sXG4gICAgICAgIG9wZXJhdGlvbjogYWRkTWV0YWRhdGEoZSwge1xuICAgICAgICAgIGNhY2hlT3V0Y29tZTogXCJoaXRcIlxuICAgICAgICB9KVxuICAgICAgfTtcbiAgICB9KSkoaygoZSA9PiBcInRlYXJkb3duXCIgIT09IGUua2luZCAmJiAhIW5bZS5rZXldICYmIFwibmV0d29yay1vbmx5XCIgIT09IGUuY29udGV4dC5yZXF1ZXN0UG9saWN5KSkocykpO1xuICAgIGlmICghYykge1xuICAgICAgdSA9IHgoKGUgPT4ge1xuICAgICAgICB2YXIge29wZXJhdGlvbjogcn0gPSBlO1xuICAgICAgICBpZiAoXCJtdXRhdGlvblwiICE9PSByLmtpbmQpIHtcbiAgICAgICAgICB2YXIgYSA9ICgoZSwgcikgPT4ge1xuICAgICAgICAgICAgdmFyIHQgPSB7XG4gICAgICAgICAgICAgIGhhc05leHQ6IGUuaGFzTmV4dFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IGUuZGF0YSkge1xuICAgICAgICAgICAgICB0LmRhdGEgPSBKU09OLnN0cmluZ2lmeShlLmRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHIgJiYgdm9pZCAwICE9PSBlLmV4dGVuc2lvbnMpIHtcbiAgICAgICAgICAgICAgdC5leHRlbnNpb25zID0gSlNPTi5zdHJpbmdpZnkoZS5leHRlbnNpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlLmVycm9yKSB7XG4gICAgICAgICAgICAgIHQuZXJyb3IgPSB7XG4gICAgICAgICAgICAgICAgZ3JhcGhRTEVycm9yczogZS5lcnJvci5ncmFwaFFMRXJyb3JzLm1hcCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoIWUucGF0aCAmJiAhZS5leHRlbnNpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGUucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uczogZS5leHRlbnNpb25zXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBpZiAoZS5lcnJvci5uZXR3b3JrRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0LmVycm9yLm5ldHdvcmtFcnJvciA9IFwiXCIgKyBlLmVycm9yLm5ldHdvcmtFcnJvcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgfSkoZSwgdCk7XG4gICAgICAgICAgbltyLmtleV0gPSBhO1xuICAgICAgICB9XG4gICAgICB9KSkodSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHAgPSB4KGludmFsaWRhdGUpKHApO1xuICAgIH1cbiAgICByZXR1cm4gZyhbIHUsIHAgXSk7XG4gIH07XG4gIHNzci5yZXN0b3JlRGF0YSA9IGUgPT4ge1xuICAgIGZvciAodmFyIHIgaW4gZSkge1xuICAgICAgaWYgKG51bGwgIT09IG5bcl0pIHtcbiAgICAgICAgbltyXSA9IGVbcl07XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBzc3IuZXh0cmFjdERhdGEgPSAoKSA9PiB7XG4gICAgdmFyIGUgPSB7fTtcbiAgICBmb3IgKHZhciByIGluIG4pIHtcbiAgICAgIGlmIChudWxsICE9IG5bcl0pIHtcbiAgICAgICAgZVtyXSA9IG5bcl07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlO1xuICB9O1xuICBpZiAoZSAmJiBlLmluaXRpYWxTdGF0ZSkge1xuICAgIHNzci5yZXN0b3JlRGF0YShlLmluaXRpYWxTdGF0ZSk7XG4gIH1cbiAgcmV0dXJuIHNzcjtcbn07XG5cbnZhciBzdWJzY3JpcHRpb25FeGNoYW5nZSA9ICh7Zm9yd2FyZFN1YnNjcmlwdGlvbjogZSwgZW5hYmxlQWxsT3BlcmF0aW9uczogciwgaXNTdWJzY3JpcHRpb25PcGVyYXRpb246IHR9KSA9PiAoe2NsaWVudDogYSwgZm9yd2FyZDogaX0pID0+IHtcbiAgdmFyIHUgPSB0IHx8IChlID0+IFwic3Vic2NyaXB0aW9uXCIgPT09IGUua2luZCB8fCAhIXIgJiYgKFwicXVlcnlcIiA9PT0gZS5raW5kIHx8IFwibXV0YXRpb25cIiA9PT0gZS5raW5kKSk7XG4gIHJldHVybiByID0+IHtcbiAgICB2YXIgdCA9IHcoKHQgPT4ge1xuICAgICAgdmFyIHtrZXk6IGl9ID0gdDtcbiAgICAgIHZhciB1ID0gaygoZSA9PiBcInRlYXJkb3duXCIgPT09IGUua2luZCAmJiBlLmtleSA9PT0gaSkpKHIpO1xuICAgICAgcmV0dXJuIE8odSkoKHIgPT4ge1xuICAgICAgICB2YXIgdCA9IGUobyhyKSwgcik7XG4gICAgICAgIHJldHVybiBFKChlID0+IHtcbiAgICAgICAgICB2YXIgaSA9ICExO1xuICAgICAgICAgIHZhciBvO1xuICAgICAgICAgIHZhciB1O1xuICAgICAgICAgIGZ1bmN0aW9uIG5leHRSZXN1bHQodCkge1xuICAgICAgICAgICAgZS5uZXh0KHUgPSB1ID8gYyh1LCB0KSA6IG4ociwgdCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaSkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvID0gdC5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICBuZXh0OiBuZXh0UmVzdWx0LFxuICAgICAgICAgICAgICBlcnJvcih0KSB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodCkpIHtcbiAgICAgICAgICAgICAgICAgIG5leHRSZXN1bHQoe1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnM6IHRcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBlLm5leHQocyhyLCB0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGUuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY29tcGxldGUoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpKSB7XG4gICAgICAgICAgICAgICAgICBpID0gITA7XG4gICAgICAgICAgICAgICAgICBpZiAoXCJzdWJzY3JpcHRpb25cIiA9PT0gci5raW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGEucmVleGVjdXRlT3BlcmF0aW9uKG1ha2VPcGVyYXRpb24oXCJ0ZWFyZG93blwiLCByLCByLmNvbnRleHQpKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmICh1ICYmIHUuaGFzTmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0UmVzdWx0KHtcbiAgICAgICAgICAgICAgICAgICAgICBoYXNOZXh0OiAhMVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGUuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgaSA9ICEwO1xuICAgICAgICAgICAgaWYgKG8pIHtcbiAgICAgICAgICAgICAgby51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH0pKTtcbiAgICAgIH0pKHQpKTtcbiAgICB9KSkoaygoZSA9PiBcInRlYXJkb3duXCIgIT09IGUua2luZCAmJiB1KGUpKSkocikpO1xuICAgIHZhciBwID0gaShrKChlID0+IFwidGVhcmRvd25cIiA9PT0gZS5raW5kIHx8ICF1KGUpKSkocikpO1xuICAgIHJldHVybiBnKFsgdCwgcCBdKTtcbiAgfTtcbn07XG5cbnZhciBkZWJ1Z0V4Y2hhbmdlID0gKHtmb3J3YXJkOiBlfSkgPT4ge1xuICBpZiAoXCJwcm9kdWN0aW9uXCIgPT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgcmV0dXJuIHIgPT4gZShyKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gciA9PiB4KChlID0+IGNvbnNvbGUubG9nKFwiW0V4Y2hhbmdlIGRlYnVnXTogQ29tcGxldGVkIG9wZXJhdGlvbjogXCIsIGUpKSkoZSh4KChlID0+IGNvbnNvbGUubG9nKFwiW0V4Y2hhbmdlIGRlYnVnXTogSW5jb21pbmcgb3BlcmF0aW9uOiBcIiwgZSkpKShyKSkpO1xuICB9XG59O1xuXG52YXIgZmV0Y2hFeGNoYW5nZSA9ICh7Zm9yd2FyZDogZSwgZGlzcGF0Y2hEZWJ1Zzogcn0pID0+IHQgPT4ge1xuICB2YXIgbiA9IHcoKGUgPT4ge1xuICAgIHZhciBuID0gbyhlKTtcbiAgICB2YXIgYSA9IHUoZSwgbik7XG4gICAgdmFyIGkgPSBwKGUsIG4pO1xuICAgIFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJiByKHtcbiAgICAgIHR5cGU6IFwiZmV0Y2hSZXF1ZXN0XCIsXG4gICAgICBtZXNzYWdlOiBcIkEgZmV0Y2ggcmVxdWVzdCBpcyBiZWluZyBleGVjdXRlZC5cIixcbiAgICAgIG9wZXJhdGlvbjogZSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXJsOiBhLFxuICAgICAgICBmZXRjaE9wdGlvbnM6IGlcbiAgICAgIH0sXG4gICAgICBzb3VyY2U6IFwiZmV0Y2hFeGNoYW5nZVwiXG4gICAgfSk7XG4gICAgdmFyIHMgPSBPKGsoKHIgPT4gXCJ0ZWFyZG93blwiID09PSByLmtpbmQgJiYgci5rZXkgPT09IGUua2V5KSkodCkpKGQoZSwgYSwgaSkpO1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgIHJldHVybiBiKCh0ID0+IHtcbiAgICAgICAgdmFyIG4gPSAhdC5kYXRhID8gdC5lcnJvciA6IHZvaWQgMDtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmIHIoe1xuICAgICAgICAgIHR5cGU6IG4gPyBcImZldGNoRXJyb3JcIiA6IFwiZmV0Y2hTdWNjZXNzXCIsXG4gICAgICAgICAgbWVzc2FnZTogYEEgJHtuID8gXCJmYWlsZWRcIiA6IFwic3VjY2Vzc2Z1bFwifSBmZXRjaCByZXNwb25zZSBoYXMgYmVlbiByZXR1cm5lZC5gLFxuICAgICAgICAgIG9wZXJhdGlvbjogZSxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB1cmw6IGEsXG4gICAgICAgICAgICBmZXRjaE9wdGlvbnM6IGksXG4gICAgICAgICAgICB2YWx1ZTogbiB8fCB0XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzb3VyY2U6IFwiZmV0Y2hFeGNoYW5nZVwiXG4gICAgICAgIH0pO1xuICAgICAgfSkpKHMpO1xuICAgIH1cbiAgICByZXR1cm4gcztcbiAgfSkpKGsoKGUgPT4gXCJ0ZWFyZG93blwiICE9PSBlLmtpbmQgJiYgKFwic3Vic2NyaXB0aW9uXCIgIT09IGUua2luZCB8fCAhIWUuY29udGV4dC5mZXRjaFN1YnNjcmlwdGlvbnMpKSkodCkpO1xuICB2YXIgYSA9IGUoaygoZSA9PiBcInRlYXJkb3duXCIgPT09IGUua2luZCB8fCBcInN1YnNjcmlwdGlvblwiID09PSBlLmtpbmQgJiYgIWUuY29udGV4dC5mZXRjaFN1YnNjcmlwdGlvbnMpKSh0KSk7XG4gIHJldHVybiBnKFsgbiwgYSBdKTtcbn07XG5cbnZhciBjb21wb3NlRXhjaGFuZ2VzID0gZSA9PiAoe2NsaWVudDogciwgZm9yd2FyZDogdCwgZGlzcGF0Y2hEZWJ1Zzogbn0pID0+IGUucmVkdWNlUmlnaHQoKChlLCB0KSA9PiB7XG4gIHZhciBhID0gITE7XG4gIHJldHVybiB0KHtcbiAgICBjbGllbnQ6IHIsXG4gICAgZm9yd2FyZChyKSB7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAgIGlmIChhKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZm9yd2FyZCgpIG11c3Qgb25seSBiZSBjYWxsZWQgb25jZSBpbiBlYWNoIEV4Y2hhbmdlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBhID0gITA7XG4gICAgICB9XG4gICAgICByZXR1cm4gTihlKE4ocikpKTtcbiAgICB9LFxuICAgIGRpc3BhdGNoRGVidWcoZSkge1xuICAgICAgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmIG4oe1xuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIHNvdXJjZTogdC5uYW1lLFxuICAgICAgICAuLi5lXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufSksIHQpO1xuXG52YXIgbWFwRXhjaGFuZ2UgPSAoe29uT3BlcmF0aW9uOiBlLCBvblJlc3VsdDogciwgb25FcnJvcjogdH0pID0+ICh7Zm9yd2FyZDogbn0pID0+IGEgPT4gdygoZSA9PiB7XG4gIGlmICh0ICYmIGUuZXJyb3IpIHtcbiAgICB0KGUuZXJyb3IsIGUub3BlcmF0aW9uKTtcbiAgfVxuICB2YXIgbiA9IHIgJiYgcihlKSB8fCBlO1xuICByZXR1cm4gXCJ0aGVuXCIgaW4gbiA/IHEobikgOiBfKG4pO1xufSkpKG4odygociA9PiB7XG4gIHZhciB0ID0gZSAmJiBlKHIpIHx8IHI7XG4gIHJldHVybiBcInRoZW5cIiBpbiB0ID8gcSh0KSA6IF8odCk7XG59KSkoYSkpKTtcblxudmFyIGZhbGxiYWNrRXhjaGFuZ2UgPSAoe2Rpc3BhdGNoRGVidWc6IGV9KSA9PiByID0+IHtcbiAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgIHIgPSB4KChyID0+IHtcbiAgICAgIGlmIChcInRlYXJkb3duXCIgIT09IHIua2luZCAmJiBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgICAgdmFyIHQgPSBgTm8gZXhjaGFuZ2UgaGFzIGhhbmRsZWQgb3BlcmF0aW9ucyBvZiBraW5kIFwiJHtyLmtpbmR9XCIuIENoZWNrIHdoZXRoZXIgeW91J3ZlIGFkZGVkIGFuIGV4Y2hhbmdlIHJlc3BvbnNpYmxlIGZvciB0aGVzZSBvcGVyYXRpb25zLmA7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJiBlKHtcbiAgICAgICAgICB0eXBlOiBcImZhbGxiYWNrQ2F0Y2hcIixcbiAgICAgICAgICBtZXNzYWdlOiB0LFxuICAgICAgICAgIG9wZXJhdGlvbjogcixcbiAgICAgICAgICBzb3VyY2U6IFwiZmFsbGJhY2tFeGNoYW5nZVwiXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLndhcm4odCk7XG4gICAgICB9XG4gICAgfSkpKHIpO1xuICB9XG4gIHJldHVybiBrKChlID0+ICExKSkocik7XG59O1xuXG52YXIgQyA9IGZ1bmN0aW9uIENsaWVudChlKSB7XG4gIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgIWUudXJsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IGFyZSBjcmVhdGluZyBhbiB1cnFsLWNsaWVudCB3aXRob3V0IGEgdXJsLlwiKTtcbiAgfVxuICB2YXIgciA9IDA7XG4gIHZhciB0ID0gbmV3IE1hcDtcbiAgdmFyIG4gPSBuZXcgTWFwO1xuICB2YXIgYSA9IG5ldyBTZXQ7XG4gIHZhciBpID0gW107XG4gIHZhciBvID0ge1xuICAgIHVybDogZS51cmwsXG4gICAgZmV0Y2hTdWJzY3JpcHRpb25zOiBlLmZldGNoU3Vic2NyaXB0aW9ucyxcbiAgICBmZXRjaE9wdGlvbnM6IGUuZmV0Y2hPcHRpb25zLFxuICAgIGZldGNoOiBlLmZldGNoLFxuICAgIHByZWZlckdldE1ldGhvZDogZS5wcmVmZXJHZXRNZXRob2QsXG4gICAgcmVxdWVzdFBvbGljeTogZS5yZXF1ZXN0UG9saWN5IHx8IFwiY2FjaGUtZmlyc3RcIlxuICB9O1xuICB2YXIgcyA9IEQoKTtcbiAgZnVuY3Rpb24gbmV4dE9wZXJhdGlvbihlKSB7XG4gICAgaWYgKFwibXV0YXRpb25cIiA9PT0gZS5raW5kIHx8IFwidGVhcmRvd25cIiA9PT0gZS5raW5kIHx8ICFhLmhhcyhlLmtleSkpIHtcbiAgICAgIGlmIChcInRlYXJkb3duXCIgPT09IGUua2luZCkge1xuICAgICAgICBhLmRlbGV0ZShlLmtleSk7XG4gICAgICB9IGVsc2UgaWYgKFwibXV0YXRpb25cIiAhPT0gZS5raW5kKSB7XG4gICAgICAgIGEuYWRkKGUua2V5KTtcbiAgICAgIH1cbiAgICAgIHMubmV4dChlKTtcbiAgICB9XG4gIH1cbiAgdmFyIGMgPSAhMTtcbiAgZnVuY3Rpb24gZGlzcGF0Y2hPcGVyYXRpb24oZSkge1xuICAgIGlmIChlKSB7XG4gICAgICBuZXh0T3BlcmF0aW9uKGUpO1xuICAgIH1cbiAgICBpZiAoIWMpIHtcbiAgICAgIGMgPSAhMDtcbiAgICAgIHdoaWxlIChjICYmIChlID0gaS5zaGlmdCgpKSkge1xuICAgICAgICBuZXh0T3BlcmF0aW9uKGUpO1xuICAgICAgfVxuICAgICAgYyA9ICExO1xuICAgIH1cbiAgfVxuICB2YXIgbWFrZVJlc3VsdFNvdXJjZSA9IGUgPT4ge1xuICAgIHZhciByID0gTyhrKChyID0+IFwidGVhcmRvd25cIiA9PT0gci5raW5kICYmIHIua2V5ID09PSBlLmtleSkpKHMuc291cmNlKSkoaygociA9PiByLm9wZXJhdGlvbi5raW5kID09PSBlLmtpbmQgJiYgci5vcGVyYXRpb24ua2V5ID09PSBlLmtleSAmJiAoIXIub3BlcmF0aW9uLmNvbnRleHQuX2luc3RhbmNlIHx8IHIub3BlcmF0aW9uLmNvbnRleHQuX2luc3RhbmNlID09PSBlLmNvbnRleHQuX2luc3RhbmNlKSkpKEUpKTtcbiAgICBpZiAoXCJxdWVyeVwiICE9PSBlLmtpbmQpIHtcbiAgICAgIHIgPSBBKChlID0+ICEhZS5oYXNOZXh0KSwgITApKHIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByID0gUigociA9PiB7XG4gICAgICAgIHZhciB0ID0gXyhyKTtcbiAgICAgICAgcmV0dXJuIHIuc3RhbGUgfHwgci5oYXNOZXh0ID8gdCA6IGcoWyB0LCBtKCgoKSA9PiB7XG4gICAgICAgICAgci5zdGFsZSA9ICEwO1xuICAgICAgICAgIHJldHVybiByO1xuICAgICAgICB9KSkoaCgxKShrKChyID0+IHIua2V5ID09PSBlLmtleSkpKHMuc291cmNlKSkpIF0pO1xuICAgICAgfSkpKHIpO1xuICAgIH1cbiAgICBpZiAoXCJtdXRhdGlvblwiICE9PSBlLmtpbmQpIHtcbiAgICAgIHIgPSBNKCgoKSA9PiB7XG4gICAgICAgIGEuZGVsZXRlKGUua2V5KTtcbiAgICAgICAgdC5kZWxldGUoZS5rZXkpO1xuICAgICAgICBuLmRlbGV0ZShlLmtleSk7XG4gICAgICAgIGMgPSAhMTtcbiAgICAgICAgZm9yICh2YXIgciA9IGkubGVuZ3RoIC0gMTsgciA+PSAwOyByLS0pIHtcbiAgICAgICAgICBpZiAoaVtyXS5rZXkgPT09IGUua2V5KSB7XG4gICAgICAgICAgICBpLnNwbGljZShyLCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbmV4dE9wZXJhdGlvbihtYWtlT3BlcmF0aW9uKFwidGVhcmRvd25cIiwgZSwgZS5jb250ZXh0KSk7XG4gICAgICB9KSkoYigociA9PiB7XG4gICAgICAgIGlmIChyLnN0YWxlKSB7XG4gICAgICAgICAgaWYgKCFyLmhhc05leHQpIHtcbiAgICAgICAgICAgIGEuZGVsZXRlKGUua2V5KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBpLmxlbmd0aDsgbisrKSB7XG4gICAgICAgICAgICAgIHZhciBvID0gaVtuXTtcbiAgICAgICAgICAgICAgaWYgKG8ua2V5ID09PSByLm9wZXJhdGlvbi5rZXkpIHtcbiAgICAgICAgICAgICAgICBhLmRlbGV0ZShvLmtleSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIXIuaGFzTmV4dCkge1xuICAgICAgICAgIGEuZGVsZXRlKGUua2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0LnNldChlLmtleSwgcik7XG4gICAgICB9KSkocikpO1xuICAgIH0gZWxzZSB7XG4gICAgICByID0gUCgoKCkgPT4ge1xuICAgICAgICBuZXh0T3BlcmF0aW9uKGUpO1xuICAgICAgfSkpKHIpO1xuICAgIH1cbiAgICByZXR1cm4gTihyKTtcbiAgfTtcbiAgdmFyIHUgPSB0aGlzIGluc3RhbmNlb2YgQ2xpZW50ID8gdGhpcyA6IE9iamVjdC5jcmVhdGUoQ2xpZW50LnByb3RvdHlwZSk7XG4gIHZhciBwID0gT2JqZWN0LmFzc2lnbih1LCB7XG4gICAgc3VzcGVuc2U6ICEhZS5zdXNwZW5zZSxcbiAgICBvcGVyYXRpb25zJDogcy5zb3VyY2UsXG4gICAgcmVleGVjdXRlT3BlcmF0aW9uKGUpIHtcbiAgICAgIGlmIChcInRlYXJkb3duXCIgPT09IGUua2luZCkge1xuICAgICAgICBkaXNwYXRjaE9wZXJhdGlvbihlKTtcbiAgICAgIH0gZWxzZSBpZiAoXCJtdXRhdGlvblwiID09PSBlLmtpbmQpIHtcbiAgICAgICAgaS5wdXNoKGUpO1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKGRpc3BhdGNoT3BlcmF0aW9uKTtcbiAgICAgIH0gZWxzZSBpZiAobi5oYXMoZS5rZXkpKSB7XG4gICAgICAgIHZhciByID0gITE7XG4gICAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgaS5sZW5ndGg7IHQrKykge1xuICAgICAgICAgIGlmIChpW3RdLmtleSA9PT0gZS5rZXkpIHtcbiAgICAgICAgICAgIGlbdF0gPSBlO1xuICAgICAgICAgICAgciA9ICEwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIShyIHx8IGEuaGFzKGUua2V5KSAmJiBcIm5ldHdvcmstb25seVwiICE9PSBlLmNvbnRleHQucmVxdWVzdFBvbGljeSkpIHtcbiAgICAgICAgICBpLnB1c2goZSk7XG4gICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihkaXNwYXRjaE9wZXJhdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYS5kZWxldGUoZS5rZXkpO1xuICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZGlzcGF0Y2hPcGVyYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBjcmVhdGVSZXF1ZXN0T3BlcmF0aW9uKGUsIHQsIG4pIHtcbiAgICAgIGlmICghbikge1xuICAgICAgICBuID0ge307XG4gICAgICB9XG4gICAgICB2YXIgYTtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgXCJ0ZWFyZG93blwiICE9PSBlICYmIChhID0gbCh0LnF1ZXJ5KSkgIT09IGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBvcGVyYXRpb24gb2YgdHlwZSBcIiR7ZX1cIiBidXQgZm91bmQgXCIke2F9XCJgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlT3BlcmF0aW9uKGUsIHQsIHtcbiAgICAgICAgX2luc3RhbmNlOiBcIm11dGF0aW9uXCIgPT09IGUgPyByID0gciArIDEgfCAwIDogdm9pZCAwLFxuICAgICAgICAuLi5vLFxuICAgICAgICAuLi5uLFxuICAgICAgICByZXF1ZXN0UG9saWN5OiBuLnJlcXVlc3RQb2xpY3kgfHwgby5yZXF1ZXN0UG9saWN5LFxuICAgICAgICBzdXNwZW5zZTogbi5zdXNwZW5zZSB8fCAhMSAhPT0gbi5zdXNwZW5zZSAmJiBwLnN1c3BlbnNlXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGV4ZWN1dGVSZXF1ZXN0T3BlcmF0aW9uKGUpIHtcbiAgICAgIGlmIChcIm11dGF0aW9uXCIgPT09IGUua2luZCkge1xuICAgICAgICByZXR1cm4gd2l0aFByb21pc2UobWFrZVJlc3VsdFNvdXJjZShlKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd2l0aFByb21pc2UoUygoKCkgPT4ge1xuICAgICAgICB2YXIgciA9IG4uZ2V0KGUua2V5KTtcbiAgICAgICAgaWYgKCFyKSB7XG4gICAgICAgICAgbi5zZXQoZS5rZXksIHIgPSBtYWtlUmVzdWx0U291cmNlKGUpKTtcbiAgICAgICAgfVxuICAgICAgICByID0gUCgoKCkgPT4ge1xuICAgICAgICAgIGRpc3BhdGNoT3BlcmF0aW9uKGUpO1xuICAgICAgICB9KSkocik7XG4gICAgICAgIHZhciBhID0gdC5nZXQoZS5rZXkpO1xuICAgICAgICBpZiAoXCJxdWVyeVwiID09PSBlLmtpbmQgJiYgYSAmJiAoYS5zdGFsZSB8fCBhLmhhc05leHQpKSB7XG4gICAgICAgICAgcmV0dXJuIFIoXykoZyhbIHIsIGsoKHIgPT4gciA9PT0gdC5nZXQoZS5rZXkpKSkoXyhhKSkgXSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiByO1xuICAgICAgICB9XG4gICAgICB9KSkpO1xuICAgIH0sXG4gICAgZXhlY3V0ZVF1ZXJ5KGUsIHIpIHtcbiAgICAgIHZhciB0ID0gcC5jcmVhdGVSZXF1ZXN0T3BlcmF0aW9uKFwicXVlcnlcIiwgZSwgcik7XG4gICAgICByZXR1cm4gcC5leGVjdXRlUmVxdWVzdE9wZXJhdGlvbih0KTtcbiAgICB9LFxuICAgIGV4ZWN1dGVTdWJzY3JpcHRpb24oZSwgcikge1xuICAgICAgdmFyIHQgPSBwLmNyZWF0ZVJlcXVlc3RPcGVyYXRpb24oXCJzdWJzY3JpcHRpb25cIiwgZSwgcik7XG4gICAgICByZXR1cm4gcC5leGVjdXRlUmVxdWVzdE9wZXJhdGlvbih0KTtcbiAgICB9LFxuICAgIGV4ZWN1dGVNdXRhdGlvbihlLCByKSB7XG4gICAgICB2YXIgdCA9IHAuY3JlYXRlUmVxdWVzdE9wZXJhdGlvbihcIm11dGF0aW9uXCIsIGUsIHIpO1xuICAgICAgcmV0dXJuIHAuZXhlY3V0ZVJlcXVlc3RPcGVyYXRpb24odCk7XG4gICAgfSxcbiAgICByZWFkUXVlcnkoZSwgciwgdCkge1xuICAgICAgdmFyIG4gPSBudWxsO1xuICAgICAgeSgoZSA9PiB7XG4gICAgICAgIG4gPSBlO1xuICAgICAgfSkpKHAucXVlcnkoZSwgciwgdCkpLnVuc3Vic2NyaWJlKCk7XG4gICAgICByZXR1cm4gbjtcbiAgICB9LFxuICAgIHF1ZXJ5OiAoZSwgciwgdCkgPT4gcC5leGVjdXRlUXVlcnkodihlLCByKSwgdCksXG4gICAgc3Vic2NyaXB0aW9uOiAoZSwgciwgdCkgPT4gcC5leGVjdXRlU3Vic2NyaXB0aW9uKHYoZSwgciksIHQpLFxuICAgIG11dGF0aW9uOiAoZSwgciwgdCkgPT4gcC5leGVjdXRlTXV0YXRpb24odihlLCByKSwgdClcbiAgfSk7XG4gIHZhciBkID0gbm9vcDtcbiAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgIHZhciB7bmV4dDogZiwgc291cmNlOiB4fSA9IEQoKTtcbiAgICBwLnN1YnNjcmliZVRvRGVidWdUYXJnZXQgPSBlID0+IHkoZSkoeCk7XG4gICAgZCA9IGY7XG4gIH1cbiAgdmFyIHcgPSBjb21wb3NlRXhjaGFuZ2VzKGUuZXhjaGFuZ2VzKTtcbiAgdmFyIEUgPSBOKHcoe1xuICAgIGNsaWVudDogcCxcbiAgICBkaXNwYXRjaERlYnVnOiBkLFxuICAgIGZvcndhcmQ6IGZhbGxiYWNrRXhjaGFuZ2Uoe1xuICAgICAgZGlzcGF0Y2hEZWJ1ZzogZFxuICAgIH0pXG4gIH0pKHMuc291cmNlKSk7XG4gIFYoRSk7XG4gIHJldHVybiBwO1xufTtcblxudmFyIFEgPSBDO1xuXG5leHBvcnQgeyBDIGFzIENsaWVudCwgYSBhcyBDb21iaW5lZEVycm9yLCBjYWNoZUV4Y2hhbmdlLCBjb21wb3NlRXhjaGFuZ2VzLCBRIGFzIGNyZWF0ZUNsaWVudCwgdiBhcyBjcmVhdGVSZXF1ZXN0LCBkZWJ1Z0V4Y2hhbmdlLCBtYXBFeGNoYW5nZSBhcyBlcnJvckV4Y2hhbmdlLCBmZXRjaEV4Y2hhbmdlLCBmb3JtYXREb2N1bWVudCwgZ3FsLCBzIGFzIG1ha2VFcnJvclJlc3VsdCwgbWFrZU9wZXJhdGlvbiwgbiBhcyBtYWtlUmVzdWx0LCBtYXBFeGNoYW5nZSwgYyBhcyBtZXJnZVJlc3VsdFBhdGNoLCBzc3JFeGNoYW5nZSwgdCBhcyBzdHJpbmdpZnlEb2N1bWVudCwgc3Vic2NyaXB0aW9uRXhjaGFuZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVycWwtY29yZS5tanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@urql/core/dist/urql-core.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@urql/next/dist/urql-next-rsc.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@urql/next/dist/urql-next-rsc.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerUrql: () => (/* binding */ registerUrql)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n\n\nfunction registerUrql(e) {\n  return {\n    getClient: react__WEBPACK_IMPORTED_MODULE_0__.cache(e)\n  };\n}\n\n\n//# sourceMappingURL=urql-next-rsc.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHVycWwvbmV4dC9kaXN0L3VycWwtbmV4dC1yc2MubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTJCOztBQUUzQjtBQUNBO0FBQ0EsZUFBZSx3Q0FBTztBQUN0QjtBQUNBOztBQUV3QjtBQUN4QiIsInNvdXJjZXMiOlsiL2hvbWUvcmlrdXNlbi93b3Jrc3BhY2UvbmV4dGpzLW1zdy1yZXByb2R1Y3Rpb24vbm9kZV9tb2R1bGVzL0B1cnFsL25leHQvZGlzdC91cnFsLW5leHQtcnNjLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyByIGZyb20gXCJyZWFjdFwiO1xuXG5mdW5jdGlvbiByZWdpc3RlclVycWwoZSkge1xuICByZXR1cm4ge1xuICAgIGdldENsaWVudDogci5jYWNoZShlKVxuICB9O1xufVxuXG5leHBvcnQgeyByZWdpc3RlclVycWwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVycWwtbmV4dC1yc2MubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@urql/next/dist/urql-next-rsc.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@urql/next/dist/urql-next.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@urql/next/dist/urql-next.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Client: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.Client),\n/* harmony export */   CombinedError: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.CombinedError),\n/* harmony export */   Consumer: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.Consumer),\n/* harmony export */   Context: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.Context),\n/* harmony export */   Mutation: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.Mutation),\n/* harmony export */   Provider: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.Provider),\n/* harmony export */   Query: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.Query),\n/* harmony export */   SSRContext: () => (/* binding */ d),\n/* harmony export */   Subscription: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.Subscription),\n/* harmony export */   UrqlProvider: () => (/* binding */ UrqlProvider),\n/* harmony export */   cacheExchange: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.cacheExchange),\n/* harmony export */   composeExchanges: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.composeExchanges),\n/* harmony export */   createClient: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.createClient),\n/* harmony export */   createRequest: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.createRequest),\n/* harmony export */   debugExchange: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.debugExchange),\n/* harmony export */   errorExchange: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.errorExchange),\n/* harmony export */   fetchExchange: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.fetchExchange),\n/* harmony export */   formatDocument: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.formatDocument),\n/* harmony export */   gql: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.gql),\n/* harmony export */   makeErrorResult: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.makeErrorResult),\n/* harmony export */   makeOperation: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.makeOperation),\n/* harmony export */   makeResult: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.makeResult),\n/* harmony export */   mapExchange: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.mapExchange),\n/* harmony export */   mergeResultPatch: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.mergeResultPatch),\n/* harmony export */   ssrExchange: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.ssrExchange),\n/* harmony export */   stringifyDocument: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.stringifyDocument),\n/* harmony export */   stringifyVariables: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.stringifyVariables),\n/* harmony export */   subscriptionExchange: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.subscriptionExchange),\n/* harmony export */   useClient: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.useClient),\n/* harmony export */   useMutation: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.useMutation),\n/* harmony export */   useQuery: () => (/* binding */ useQuery),\n/* harmony export */   useSubscription: () => (/* reexport safe */ urql__WEBPACK_IMPORTED_MODULE_0__.useSubscription)\n/* harmony export */ });\n/* harmony import */ var urql__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! urql */ \"(ssr)/./node_modules/urql/dist/urql.es.js\");\n/* harmony import */ var urql__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! urql */ \"(ssr)/./node_modules/@urql/core/dist/urql-core-chunk.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n\n\n\n\n\n\n\n\nvar o = {\n  \"&\": \"\\\\u0026\",\n  \">\": \"\\\\u003e\",\n  \"<\": \"\\\\u003c\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\n\nvar i = /[&><\\u2028\\u2029]/g;\n\nvar u = react__WEBPACK_IMPORTED_MODULE_1__.createContext(void 0);\n\nfunction transportDataToJS(e) {\n  return `(window[Symbol.for(\"urql_transport\")] ??= []).push(${function htmlEscapeJsonString(e) {\n    return e.replace(i, (e => o[e]));\n  }(JSON.stringify(e))})`;\n}\n\nvar DataHydrationContextProvider = ({nonce: e, children: r}) => {\n  var t = react__WEBPACK_IMPORTED_MODULE_1__.useRef();\n  if (\"undefined\" == typeof window) {\n    if (!t.current) {\n      t.current = function buildContext({nonce: e}) {\n        var r = {\n          isInjecting: !1,\n          operationValuesByKey: {},\n          RehydrateScript() {\n            r.isInjecting = !1;\n            if (!Object.keys(r.operationValuesByKey).length) {\n              return react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment);\n            }\n            var t = transportDataToJS({\n              rehydrate: {\n                ...r.operationValuesByKey\n              }\n            });\n            r.operationValuesByKey = {};\n            return react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"script\", {\n              key: s++,\n              nonce: e,\n              dangerouslySetInnerHTML: {\n                __html: t\n              }\n            });\n          }\n        };\n        return r;\n      }({\n        nonce: e\n      });\n    }\n  }\n  return react__WEBPACK_IMPORTED_MODULE_1__.createElement(u.Provider, {\n    value: t.current\n  }, r);\n};\n\nvar s = 0;\n\nvar d = react__WEBPACK_IMPORTED_MODULE_1__.createContext(void 0);\n\nfunction UrqlProvider({children: r, ssr: t, client: a, nonce: o}) {\n  return react__WEBPACK_IMPORTED_MODULE_1__.createElement(urql__WEBPACK_IMPORTED_MODULE_0__.Provider, {\n    value: a\n  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(d.Provider, {\n    value: t\n  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(DataHydrationContextProvider, {\n    nonce: o\n  }, r)));\n}\n\nvar c = Symbol.for(\"urql_transport\");\n\nfunction useUrqlValue(e) {\n  var r = react__WEBPACK_IMPORTED_MODULE_1__.useContext(d);\n  var t = function useDataHydrationContext() {\n    var e = react__WEBPACK_IMPORTED_MODULE_1__.useContext(u);\n    var r = react__WEBPACK_IMPORTED_MODULE_1__.useContext(next_navigation__WEBPACK_IMPORTED_MODULE_2__.ServerInsertedHTMLContext);\n    if (\"undefined\" != typeof window) {\n      return;\n    }\n    if (r && e && !e.isInjecting) {\n      e.isInjecting = !0;\n      r((() => react__WEBPACK_IMPORTED_MODULE_1__.createElement(e.RehydrateScript, {})));\n    }\n    return e;\n  }();\n  if (!r) {\n    throw new Error('Missing \"UrqlProvider\" component as a parent or did not pass in an \"ssrExchange\" to the Provider.');\n  }\n  if (\"undefined\" == typeof window) {\n    var o = r.extractData();\n    if (t && o[e]) {\n      var i = o[e];\n      var s = {\n        ...i,\n        extensions: i.extensions ? JSON.parse(i.extensions) : i.extensions,\n        data: i.data ? JSON.parse(i.data) : i.data,\n        error: i.error\n      };\n      t.operationValuesByKey[e] = s;\n    }\n  } else {\n    var l = (window[c] || []).find((r => r && r.rehydrate && r.rehydrate[e]));\n    if (l) {\n      var y = l.rehydrate && l.rehydrate[e];\n      if (y) {\n        delete l.rehydrate[e];\n        r.restoreData({\n          [e]: {\n            extensions: JSON.stringify(y.extensions),\n            data: JSON.stringify(y.data),\n            error: y.error\n          }\n        });\n        delete l.rehydrate[e];\n      }\n    }\n  }\n}\n\nfunction useQuery(e) {\n  var n = (0,urql__WEBPACK_IMPORTED_MODULE_3__.h)(e.query, e.variables || {});\n  useUrqlValue(n.key);\n  var [a, o] = (0,urql__WEBPACK_IMPORTED_MODULE_0__.useQuery)(e);\n  useUrqlValue(n.key);\n  return [ a, o ];\n}\n\n\n//# sourceMappingURL=urql-next.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHVycWwvbmV4dC9kaXN0L3VycWwtbmV4dC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdFOztBQUVuRDs7QUFFTTs7QUFFc0M7O0FBRWpFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLFFBQVEsZ0RBQWU7O0FBRXZCO0FBQ0EsK0RBQStEO0FBQy9EO0FBQ0EsR0FBRyxvQkFBb0I7QUFDdkI7O0FBRUEscUNBQXFDLHNCQUFzQjtBQUMzRCxVQUFVLHlDQUFRO0FBQ2xCO0FBQ0E7QUFDQSx5Q0FBeUMsU0FBUztBQUNsRDtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixnREFBZSxDQUFDLDJDQUFVO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxtQkFBbUIsZ0RBQWU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFNBQVMsZ0RBQWU7QUFDeEI7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUEsUUFBUSxnREFBZTs7QUFFdkIsdUJBQXVCLHlDQUF5QztBQUNoRSxTQUFTLGdEQUFlLENBQUMsMENBQUM7QUFDMUI7QUFDQSxHQUFHLEVBQUUsZ0RBQWU7QUFDcEI7QUFDQSxHQUFHLEVBQUUsZ0RBQWU7QUFDcEI7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQSxVQUFVLDZDQUFZO0FBQ3RCO0FBQ0EsWUFBWSw2Q0FBWTtBQUN4QixZQUFZLDZDQUFZLENBQUMsc0VBQUM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0RBQWUsc0JBQXNCO0FBQ3BEO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVUsdUNBQUMsMkJBQTJCO0FBQ3RDO0FBQ0EsZUFBZSw4Q0FBQztBQUNoQjtBQUNBO0FBQ0E7O0FBRW1EO0FBQ25EIiwic291cmNlcyI6WyIvaG9tZS9yaWt1c2VuL3dvcmtzcGFjZS9uZXh0anMtbXN3LXJlcHJvZHVjdGlvbi9ub2RlX21vZHVsZXMvQHVycWwvbmV4dC9kaXN0L3VycWwtbmV4dC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJvdmlkZXIgYXMgZSwgY3JlYXRlUmVxdWVzdCBhcyByLCB1c2VRdWVyeSBhcyB0IH0gZnJvbSBcInVycWxcIjtcblxuZXhwb3J0ICogZnJvbSBcInVycWxcIjtcblxuaW1wb3J0ICogYXMgbiBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IHsgU2VydmVySW5zZXJ0ZWRIVE1MQ29udGV4dCBhcyBhIH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiO1xuXG52YXIgbyA9IHtcbiAgXCImXCI6IFwiXFxcXHUwMDI2XCIsXG4gIFwiPlwiOiBcIlxcXFx1MDAzZVwiLFxuICBcIjxcIjogXCJcXFxcdTAwM2NcIixcbiAgXCJcXHUyMDI4XCI6IFwiXFxcXHUyMDI4XCIsXG4gIFwiXFx1MjAyOVwiOiBcIlxcXFx1MjAyOVwiXG59O1xuXG52YXIgaSA9IC9bJj48XFx1MjAyOFxcdTIwMjldL2c7XG5cbnZhciB1ID0gbi5jcmVhdGVDb250ZXh0KHZvaWQgMCk7XG5cbmZ1bmN0aW9uIHRyYW5zcG9ydERhdGFUb0pTKGUpIHtcbiAgcmV0dXJuIGAod2luZG93W1N5bWJvbC5mb3IoXCJ1cnFsX3RyYW5zcG9ydFwiKV0gPz89IFtdKS5wdXNoKCR7ZnVuY3Rpb24gaHRtbEVzY2FwZUpzb25TdHJpbmcoZSkge1xuICAgIHJldHVybiBlLnJlcGxhY2UoaSwgKGUgPT4gb1tlXSkpO1xuICB9KEpTT04uc3RyaW5naWZ5KGUpKX0pYDtcbn1cblxudmFyIERhdGFIeWRyYXRpb25Db250ZXh0UHJvdmlkZXIgPSAoe25vbmNlOiBlLCBjaGlsZHJlbjogcn0pID0+IHtcbiAgdmFyIHQgPSBuLnVzZVJlZigpO1xuICBpZiAoXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2Ygd2luZG93KSB7XG4gICAgaWYgKCF0LmN1cnJlbnQpIHtcbiAgICAgIHQuY3VycmVudCA9IGZ1bmN0aW9uIGJ1aWxkQ29udGV4dCh7bm9uY2U6IGV9KSB7XG4gICAgICAgIHZhciByID0ge1xuICAgICAgICAgIGlzSW5qZWN0aW5nOiAhMSxcbiAgICAgICAgICBvcGVyYXRpb25WYWx1ZXNCeUtleToge30sXG4gICAgICAgICAgUmVoeWRyYXRlU2NyaXB0KCkge1xuICAgICAgICAgICAgci5pc0luamVjdGluZyA9ICExO1xuICAgICAgICAgICAgaWYgKCFPYmplY3Qua2V5cyhyLm9wZXJhdGlvblZhbHVlc0J5S2V5KS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG4uY3JlYXRlRWxlbWVudChuLkZyYWdtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0ID0gdHJhbnNwb3J0RGF0YVRvSlMoe1xuICAgICAgICAgICAgICByZWh5ZHJhdGU6IHtcbiAgICAgICAgICAgICAgICAuLi5yLm9wZXJhdGlvblZhbHVlc0J5S2V5XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgci5vcGVyYXRpb25WYWx1ZXNCeUtleSA9IHt9O1xuICAgICAgICAgICAgcmV0dXJuIG4uY3JlYXRlRWxlbWVudChcInNjcmlwdFwiLCB7XG4gICAgICAgICAgICAgIGtleTogcysrLFxuICAgICAgICAgICAgICBub25jZTogZSxcbiAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtcbiAgICAgICAgICAgICAgICBfX2h0bWw6IHRcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcjtcbiAgICAgIH0oe1xuICAgICAgICBub25jZTogZVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBuLmNyZWF0ZUVsZW1lbnQodS5Qcm92aWRlciwge1xuICAgIHZhbHVlOiB0LmN1cnJlbnRcbiAgfSwgcik7XG59O1xuXG52YXIgcyA9IDA7XG5cbnZhciBkID0gbi5jcmVhdGVDb250ZXh0KHZvaWQgMCk7XG5cbmZ1bmN0aW9uIFVycWxQcm92aWRlcih7Y2hpbGRyZW46IHIsIHNzcjogdCwgY2xpZW50OiBhLCBub25jZTogb30pIHtcbiAgcmV0dXJuIG4uY3JlYXRlRWxlbWVudChlLCB7XG4gICAgdmFsdWU6IGFcbiAgfSwgbi5jcmVhdGVFbGVtZW50KGQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogdFxuICB9LCBuLmNyZWF0ZUVsZW1lbnQoRGF0YUh5ZHJhdGlvbkNvbnRleHRQcm92aWRlciwge1xuICAgIG5vbmNlOiBvXG4gIH0sIHIpKSk7XG59XG5cbnZhciBjID0gU3ltYm9sLmZvcihcInVycWxfdHJhbnNwb3J0XCIpO1xuXG5mdW5jdGlvbiB1c2VVcnFsVmFsdWUoZSkge1xuICB2YXIgciA9IG4udXNlQ29udGV4dChkKTtcbiAgdmFyIHQgPSBmdW5jdGlvbiB1c2VEYXRhSHlkcmF0aW9uQ29udGV4dCgpIHtcbiAgICB2YXIgZSA9IG4udXNlQ29udGV4dCh1KTtcbiAgICB2YXIgciA9IG4udXNlQ29udGV4dChhKTtcbiAgICBpZiAoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2Ygd2luZG93KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChyICYmIGUgJiYgIWUuaXNJbmplY3RpbmcpIHtcbiAgICAgIGUuaXNJbmplY3RpbmcgPSAhMDtcbiAgICAgIHIoKCgpID0+IG4uY3JlYXRlRWxlbWVudChlLlJlaHlkcmF0ZVNjcmlwdCwge30pKSk7XG4gICAgfVxuICAgIHJldHVybiBlO1xuICB9KCk7XG4gIGlmICghcikge1xuICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBcIlVycWxQcm92aWRlclwiIGNvbXBvbmVudCBhcyBhIHBhcmVudCBvciBkaWQgbm90IHBhc3MgaW4gYW4gXCJzc3JFeGNoYW5nZVwiIHRvIHRoZSBQcm92aWRlci4nKTtcbiAgfVxuICBpZiAoXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2Ygd2luZG93KSB7XG4gICAgdmFyIG8gPSByLmV4dHJhY3REYXRhKCk7XG4gICAgaWYgKHQgJiYgb1tlXSkge1xuICAgICAgdmFyIGkgPSBvW2VdO1xuICAgICAgdmFyIHMgPSB7XG4gICAgICAgIC4uLmksXG4gICAgICAgIGV4dGVuc2lvbnM6IGkuZXh0ZW5zaW9ucyA/IEpTT04ucGFyc2UoaS5leHRlbnNpb25zKSA6IGkuZXh0ZW5zaW9ucyxcbiAgICAgICAgZGF0YTogaS5kYXRhID8gSlNPTi5wYXJzZShpLmRhdGEpIDogaS5kYXRhLFxuICAgICAgICBlcnJvcjogaS5lcnJvclxuICAgICAgfTtcbiAgICAgIHQub3BlcmF0aW9uVmFsdWVzQnlLZXlbZV0gPSBzO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgbCA9ICh3aW5kb3dbY10gfHwgW10pLmZpbmQoKHIgPT4gciAmJiByLnJlaHlkcmF0ZSAmJiByLnJlaHlkcmF0ZVtlXSkpO1xuICAgIGlmIChsKSB7XG4gICAgICB2YXIgeSA9IGwucmVoeWRyYXRlICYmIGwucmVoeWRyYXRlW2VdO1xuICAgICAgaWYgKHkpIHtcbiAgICAgICAgZGVsZXRlIGwucmVoeWRyYXRlW2VdO1xuICAgICAgICByLnJlc3RvcmVEYXRhKHtcbiAgICAgICAgICBbZV06IHtcbiAgICAgICAgICAgIGV4dGVuc2lvbnM6IEpTT04uc3RyaW5naWZ5KHkuZXh0ZW5zaW9ucyksXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh5LmRhdGEpLFxuICAgICAgICAgICAgZXJyb3I6IHkuZXJyb3JcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBkZWxldGUgbC5yZWh5ZHJhdGVbZV07XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVzZVF1ZXJ5KGUpIHtcbiAgdmFyIG4gPSByKGUucXVlcnksIGUudmFyaWFibGVzIHx8IHt9KTtcbiAgdXNlVXJxbFZhbHVlKG4ua2V5KTtcbiAgdmFyIFthLCBvXSA9IHQoZSk7XG4gIHVzZVVycWxWYWx1ZShuLmtleSk7XG4gIHJldHVybiBbIGEsIG8gXTtcbn1cblxuZXhwb3J0IHsgZCBhcyBTU1JDb250ZXh0LCBVcnFsUHJvdmlkZXIsIHVzZVF1ZXJ5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cnFsLW5leHQubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@urql/next/dist/urql-next.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@urql/core/dist/urql-core-chunk.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@urql/core/dist/urql-core-chunk.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   C: () => (/* binding */ CombinedError),\n/* harmony export */   a: () => (/* binding */ makeFetchBody),\n/* harmony export */   b: () => (/* binding */ makeErrorResult),\n/* harmony export */   c: () => (/* binding */ mergeResultPatch),\n/* harmony export */   d: () => (/* binding */ makeFetchURL),\n/* harmony export */   e: () => (/* binding */ makeFetchOptions),\n/* harmony export */   f: () => (/* binding */ makeFetchSource),\n/* harmony export */   g: () => (/* binding */ getOperationType),\n/* harmony export */   h: () => (/* binding */ createRequest),\n/* harmony export */   i: () => (/* binding */ stringifyVariables),\n/* harmony export */   k: () => (/* binding */ keyDocument),\n/* harmony export */   m: () => (/* binding */ makeResult),\n/* harmony export */   s: () => (/* binding */ stringifyDocument)\n/* harmony export */ });\n/* harmony import */ var _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @0no-co/graphql.web */ \"(rsc)/./node_modules/@0no-co/graphql.web/dist/graphql.web.mjs\");\n/* harmony import */ var wonka__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! wonka */ \"(rsc)/./node_modules/wonka/dist/wonka.mjs\");\n\n\n\n\nvar rehydrateGraphQlError = r => {\n  if (r && \"string\" == typeof r.message && (r.extensions || \"GraphQLError\" === r.name)) {\n    return r;\n  } else if (\"object\" == typeof r && \"string\" == typeof r.message) {\n    return new _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.GraphQLError(r.message, r.nodes, r.source, r.positions, r.path, r, r.extensions || {});\n  } else {\n    return new _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.GraphQLError(r);\n  }\n};\n\nclass CombinedError extends Error {\n  constructor(e) {\n    var r = (e.graphQLErrors || []).map(rehydrateGraphQlError);\n    var t = ((e, r) => {\n      var t = \"\";\n      if (e) {\n        return `[Network] ${e.message}`;\n      }\n      if (r) {\n        for (var a = 0, n = r.length; a < n; a++) {\n          if (t) {\n            t += \"\\n\";\n          }\n          t += `[GraphQL] ${r[a].message}`;\n        }\n      }\n      return t;\n    })(e.networkError, r);\n    super(t);\n    this.name = \"CombinedError\";\n    this.message = t;\n    this.graphQLErrors = r;\n    this.networkError = e.networkError;\n    this.response = e.response;\n  }\n  toString() {\n    return this.message;\n  }\n}\n\nvar phash = (e, r) => {\n  var t = 0 | (r || 5381);\n  for (var a = 0, n = 0 | e.length; a < n; a++) {\n    t = (t << 5) + t + e.charCodeAt(a);\n  }\n  return t;\n};\n\nvar s = new Set;\n\nvar f = new WeakMap;\n\nvar stringify = (e, r) => {\n  if (null === e || s.has(e)) {\n    return \"null\";\n  } else if (\"object\" != typeof e) {\n    return JSON.stringify(e) || \"\";\n  } else if (e.toJSON) {\n    return stringify(e.toJSON(), r);\n  } else if (Array.isArray(e)) {\n    var t = \"[\";\n    for (var a = 0, n = e.length; a < n; a++) {\n      if (t.length > 1) {\n        t += \",\";\n      }\n      t += stringify(e[a], r) || \"null\";\n    }\n    return t += \"]\";\n  } else if (!r && (l !== NoopConstructor && e instanceof l || d !== NoopConstructor && e instanceof d)) {\n    return \"null\";\n  }\n  var o = Object.keys(e).sort();\n  if (!o.length && e.constructor && Object.getPrototypeOf(e).constructor !== Object.prototype.constructor) {\n    var i = f.get(e) || Math.random().toString(36).slice(2);\n    f.set(e, i);\n    return stringify({\n      __key: i\n    }, r);\n  }\n  s.add(e);\n  var c = \"{\";\n  for (var v = 0, p = o.length; v < p; v++) {\n    var u = stringify(e[o[v]], r);\n    if (u) {\n      if (c.length > 1) {\n        c += \",\";\n      }\n      c += stringify(o[v], r) + \":\" + u;\n    }\n  }\n  s.delete(e);\n  return c += \"}\";\n};\n\nvar extract = (e, r, t) => {\n  if (null == t || \"object\" != typeof t || t.toJSON || s.has(t)) {} else if (Array.isArray(t)) {\n    for (var a = 0, n = t.length; a < n; a++) {\n      extract(e, `${r}.${a}`, t[a]);\n    }\n  } else if (t instanceof l || t instanceof d) {\n    e.set(r, t);\n  } else {\n    s.add(t);\n    for (var o in t) {\n      extract(e, `${r}.${o}`, t[o]);\n    }\n  }\n};\n\nvar stringifyVariables = (e, r) => {\n  s.clear();\n  return stringify(e, r || !1);\n};\n\nclass NoopConstructor {}\n\nvar l = \"undefined\" != typeof File ? File : NoopConstructor;\n\nvar d = \"undefined\" != typeof Blob ? Blob : NoopConstructor;\n\nvar c = /(\"{3}[\\s\\S]*\"{3}|\"(?:\\\\.|[^\"])*\")/g;\n\nvar v = /(?:#[^\\n\\r]+)?(?:[\\r\\n]+|$)/g;\n\nvar replaceOutsideStrings = (e, r) => r % 2 == 0 ? e.replace(v, \"\\n\") : e;\n\nvar sanitizeDocument = e => e.split(c).map(replaceOutsideStrings).join(\"\").trim();\n\nvar p = new Map;\n\nvar u = new Map;\n\nvar stringifyDocument = e => {\n  var t;\n  if (\"string\" == typeof e) {\n    t = sanitizeDocument(e);\n  } else if (e.loc && u.get(e.__key) === e) {\n    t = e.loc.source.body;\n  } else {\n    t = p.get(e) || sanitizeDocument((0,_0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.print)(e));\n    p.set(e, t);\n  }\n  if (\"string\" != typeof e && !e.loc) {\n    e.loc = {\n      start: 0,\n      end: t.length,\n      source: {\n        body: t,\n        name: \"gql\",\n        locationOffset: {\n          line: 1,\n          column: 1\n        }\n      }\n    };\n  }\n  return t;\n};\n\nvar hashDocument = e => {\n  var r;\n  if (e.documentId) {\n    r = phash(e.documentId);\n  } else {\n    r = phash(stringifyDocument(e));\n    if (e.definitions) {\n      var t = getOperationName(e);\n      if (t) {\n        r = phash(`\\n# ${t}`, r);\n      }\n    }\n  }\n  return r;\n};\n\nvar keyDocument = e => {\n  var r;\n  var a;\n  if (\"string\" == typeof e) {\n    r = hashDocument(e);\n    a = u.get(r) || (0,_0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.parse)(e, {\n      noLocation: !0\n    });\n  } else {\n    r = e.__key || hashDocument(e);\n    a = u.get(r) || e;\n  }\n  if (!a.loc) {\n    stringifyDocument(a);\n  }\n  a.__key = r;\n  u.set(r, a);\n  return a;\n};\n\nvar createRequest = (e, r, t) => {\n  var a = r || {};\n  var n = keyDocument(e);\n  var o = stringifyVariables(a, !0);\n  var i = n.__key;\n  if (\"{}\" !== o) {\n    i = phash(o, i);\n  }\n  return {\n    key: i,\n    query: n,\n    variables: a,\n    extensions: t\n  };\n};\n\nvar getOperationName = e => {\n  for (var r = 0, t = e.definitions.length; r < t; r++) {\n    var n = e.definitions[r];\n    if (n.kind === _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.Kind.OPERATION_DEFINITION) {\n      return n.name ? n.name.value : void 0;\n    }\n  }\n};\n\nvar getOperationType = e => {\n  for (var r = 0, t = e.definitions.length; r < t; r++) {\n    var n = e.definitions[r];\n    if (n.kind === _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.Kind.OPERATION_DEFINITION) {\n      return n.operation;\n    }\n  }\n};\n\nvar makeResult = (e, r, t) => {\n  if (!(\"data\" in r || \"errors\" in r && Array.isArray(r.errors))) {\n    throw new Error(\"No Content\");\n  }\n  var a = \"subscription\" === e.kind;\n  return {\n    operation: e,\n    data: r.data,\n    error: Array.isArray(r.errors) ? new CombinedError({\n      graphQLErrors: r.errors,\n      response: t\n    }) : void 0,\n    extensions: r.extensions ? {\n      ...r.extensions\n    } : void 0,\n    hasNext: null == r.hasNext ? a : r.hasNext,\n    stale: !1\n  };\n};\n\nvar deepMerge = (e, r) => {\n  if (\"object\" == typeof e && null != e) {\n    if (Array.isArray(e)) {\n      e = [ ...e ];\n      for (var t = 0, a = r.length; t < a; t++) {\n        e[t] = deepMerge(e[t], r[t]);\n      }\n      return e;\n    }\n    if (!e.constructor || e.constructor === Object) {\n      e = {\n        ...e\n      };\n      for (var n in r) {\n        e[n] = deepMerge(e[n], r[n]);\n      }\n      return e;\n    }\n  }\n  return r;\n};\n\nvar mergeResultPatch = (e, r, t, a) => {\n  var n = e.error ? e.error.graphQLErrors : [];\n  var o = !!e.extensions || !!(r.payload || r).extensions;\n  var i = {\n    ...e.extensions,\n    ...(r.payload || r).extensions\n  };\n  var s = r.incremental;\n  if (\"path\" in r) {\n    s = [ r ];\n  }\n  var f = {\n    data: e.data\n  };\n  if (s) {\n    var _loop = function() {\n      var e = s[l];\n      if (Array.isArray(e.errors)) {\n        n.push(...e.errors);\n      }\n      if (e.extensions) {\n        Object.assign(i, e.extensions);\n        o = !0;\n      }\n      var r = \"data\";\n      var t = f;\n      var d = [];\n      if (e.path) {\n        d = e.path;\n      } else if (a) {\n        var c = a.find((r => r.id === e.id));\n        if (e.subPath) {\n          d = [ ...c.path, ...e.subPath ];\n        } else {\n          d = c.path;\n        }\n      }\n      for (var v = 0, p = d.length; v < p; r = d[v++]) {\n        t = t[r] = Array.isArray(t[r]) ? [ ...t[r] ] : {\n          ...t[r]\n        };\n      }\n      if (e.items) {\n        var u = +r >= 0 ? r : 0;\n        for (var y = 0, h = e.items.length; y < h; y++) {\n          t[u + y] = deepMerge(t[u + y], e.items[y]);\n        }\n      } else if (void 0 !== e.data) {\n        t[r] = deepMerge(t[r], e.data);\n      }\n    };\n    for (var l = 0, d = s.length; l < d; l++) {\n      _loop();\n    }\n  } else {\n    f.data = (r.payload || r).data || e.data;\n    n = r.errors || r.payload && r.payload.errors || n;\n  }\n  return {\n    operation: e.operation,\n    data: f.data,\n    error: n.length ? new CombinedError({\n      graphQLErrors: n,\n      response: t\n    }) : void 0,\n    extensions: o ? i : void 0,\n    hasNext: null != r.hasNext ? r.hasNext : e.hasNext,\n    stale: !1\n  };\n};\n\nvar makeErrorResult = (e, r, t) => ({\n  operation: e,\n  data: void 0,\n  error: new CombinedError({\n    networkError: r,\n    response: t\n  }),\n  extensions: void 0,\n  hasNext: !1,\n  stale: !1\n});\n\nfunction makeFetchBody(e) {\n  var r = {\n    query: void 0,\n    documentId: void 0,\n    operationName: getOperationName(e.query),\n    variables: e.variables || void 0,\n    extensions: e.extensions\n  };\n  if (\"documentId\" in e.query && e.query.documentId && (!e.query.definitions || !e.query.definitions.length)) {\n    r.documentId = e.query.documentId;\n  } else if (!e.extensions || !e.extensions.persistedQuery || e.extensions.persistedQuery.miss) {\n    r.query = stringifyDocument(e.query);\n  }\n  return r;\n}\n\nvar makeFetchURL = (e, r) => {\n  var t = \"query\" === e.kind && e.context.preferGetMethod;\n  if (!t || !r) {\n    return e.context.url;\n  }\n  var a = splitOutSearchParams(e.context.url);\n  for (var n in r) {\n    var o = r[n];\n    if (o) {\n      a[1].set(n, \"object\" == typeof o ? stringifyVariables(o) : o);\n    }\n  }\n  var i = a.join(\"?\");\n  if (i.length > 2047 && \"force\" !== t) {\n    e.context.preferGetMethod = !1;\n    return e.context.url;\n  }\n  return i;\n};\n\nvar splitOutSearchParams = e => {\n  var r = e.indexOf(\"?\");\n  return r > -1 ? [ e.slice(0, r), new URLSearchParams(e.slice(r + 1)) ] : [ e, new URLSearchParams ];\n};\n\nvar serializeBody = (e, r) => {\n  if (r && !(\"query\" === e.kind && !!e.context.preferGetMethod)) {\n    var t = stringifyVariables(r);\n    var a = (e => {\n      var r = new Map;\n      if (l !== NoopConstructor || d !== NoopConstructor) {\n        s.clear();\n        extract(r, \"variables\", e);\n      }\n      return r;\n    })(r.variables);\n    if (a.size) {\n      var n = new FormData;\n      n.append(\"operations\", t);\n      n.append(\"map\", stringifyVariables({\n        ...[ ...a.keys() ].map((e => [ e ]))\n      }));\n      var o = 0;\n      for (var i of a.values()) {\n        n.append(\"\" + o++, i);\n      }\n      return n;\n    }\n    return t;\n  }\n};\n\nvar makeFetchOptions = (e, r) => {\n  var t = {\n    accept: \"subscription\" === e.kind ? \"text/event-stream, multipart/mixed\" : \"application/graphql-response+json, application/graphql+json, application/json, text/event-stream, multipart/mixed\"\n  };\n  var a = (\"function\" == typeof e.context.fetchOptions ? e.context.fetchOptions() : e.context.fetchOptions) || {};\n  if (a.headers) {\n    if ((e => \"has\" in e && !Object.keys(e).length)(a.headers)) {\n      a.headers.forEach(((e, r) => {\n        t[r] = e;\n      }));\n    } else if (Array.isArray(a.headers)) {\n      a.headers.forEach(((e, r) => {\n        if (Array.isArray(e)) {\n          if (t[e[0]]) {\n            t[e[0]] = `${t[e[0]]},${e[1]}`;\n          } else {\n            t[e[0]] = e[1];\n          }\n        } else {\n          t[r] = e;\n        }\n      }));\n    } else {\n      for (var n in a.headers) {\n        t[n.toLowerCase()] = a.headers[n];\n      }\n    }\n  }\n  var o = serializeBody(e, r);\n  if (\"string\" == typeof o && !t[\"content-type\"]) {\n    t[\"content-type\"] = \"application/json\";\n  }\n  return {\n    ...a,\n    method: o ? \"POST\" : \"GET\",\n    body: o,\n    headers: t\n  };\n};\n\nvar y = \"undefined\" != typeof TextDecoder ? new TextDecoder : null;\n\nvar h = /boundary=\"?([^=\";]+)\"?/i;\n\nvar m = /data: ?([^\\n]+)/;\n\nvar toString = e => \"Buffer\" === e.constructor.name ? e.toString() : y.decode(e);\n\nasync function* streamBody(e) {\n  if (e.body[Symbol.asyncIterator]) {\n    for await (var r of e.body) {\n      yield toString(r);\n    }\n  } else {\n    var t = e.body.getReader();\n    var a;\n    try {\n      while (!(a = await t.read()).done) {\n        yield toString(a.value);\n      }\n    } finally {\n      t.cancel();\n    }\n  }\n}\n\nasync function* split(e, r) {\n  var t = \"\";\n  var a;\n  for await (var n of e) {\n    t += n;\n    while ((a = t.indexOf(r)) > -1) {\n      yield t.slice(0, a);\n      t = t.slice(a + r.length);\n    }\n  }\n}\n\nasync function* fetchOperation(e, r, t) {\n  var a = !0;\n  var n = null;\n  var o;\n  try {\n    yield await Promise.resolve();\n    var i = (o = await (e.context.fetch || fetch)(r, t)).headers.get(\"Content-Type\") || \"\";\n    var s;\n    if (/multipart\\/mixed/i.test(i)) {\n      s = async function* parseMultipartMixed(e, r) {\n        var t = e.match(h);\n        var a = \"--\" + (t ? t[1] : \"-\");\n        var n = !0;\n        var o;\n        for await (var i of split(streamBody(r), \"\\r\\n\" + a)) {\n          if (n) {\n            n = !1;\n            var s = i.indexOf(a);\n            if (s > -1) {\n              i = i.slice(s + a.length);\n            } else {\n              continue;\n            }\n          }\n          try {\n            yield o = JSON.parse(i.slice(i.indexOf(\"\\r\\n\\r\\n\") + 4));\n          } catch (e) {\n            if (!o) {\n              throw e;\n            }\n          }\n          if (o && !1 === o.hasNext) {\n            break;\n          }\n        }\n        if (o && !1 !== o.hasNext) {\n          yield {\n            hasNext: !1\n          };\n        }\n      }(i, o);\n    } else if (/text\\/event-stream/i.test(i)) {\n      s = async function* parseEventStream(e) {\n        var r;\n        for await (var t of split(streamBody(e), \"\\n\\n\")) {\n          var a = t.match(m);\n          if (a) {\n            var n = a[1];\n            try {\n              yield r = JSON.parse(n);\n            } catch (e) {\n              if (!r) {\n                throw e;\n              }\n            }\n            if (r && !1 === r.hasNext) {\n              break;\n            }\n          }\n        }\n        if (r && !1 !== r.hasNext) {\n          yield {\n            hasNext: !1\n          };\n        }\n      }(o);\n    } else if (!/text\\//i.test(i)) {\n      s = async function* parseJSON(e) {\n        yield JSON.parse(await e.text());\n      }(o);\n    } else {\n      s = async function* parseMaybeJSON(e) {\n        var r = await e.text();\n        try {\n          var t = JSON.parse(r);\n          if (true) {\n            console.warn('Found response with content-type \"text/plain\" but it had a valid \"application/json\" response.');\n          }\n          yield t;\n        } catch (e) {\n          throw new Error(r);\n        }\n      }(o);\n    }\n    var f;\n    for await (var l of s) {\n      if (l.pending && !n) {\n        f = l.pending;\n      } else if (l.pending) {\n        f = [ ...f, ...l.pending ];\n      }\n      n = n ? mergeResultPatch(n, l, o, f) : makeResult(e, l, o);\n      a = !1;\n      yield n;\n      a = !0;\n    }\n    if (!n) {\n      yield n = makeResult(e, {}, o);\n    }\n  } catch (r) {\n    if (!a) {\n      throw r;\n    }\n    yield makeErrorResult(e, o && (o.status < 200 || o.status >= 300) && o.statusText ? new Error(o.statusText) : r, o);\n  }\n}\n\nfunction makeFetchSource(e, r, t) {\n  var a;\n  if (\"undefined\" != typeof AbortController) {\n    t.signal = (a = new AbortController).signal;\n  }\n  return (0,wonka__WEBPACK_IMPORTED_MODULE_1__.onEnd)((() => {\n    if (a) {\n      a.abort();\n    }\n  }))((0,wonka__WEBPACK_IMPORTED_MODULE_1__.filter)((e => !!e))((0,wonka__WEBPACK_IMPORTED_MODULE_1__.fromAsyncIterable)(fetchOperation(e, r, t))));\n}\n\n\n//# sourceMappingURL=urql-core-chunk.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9kaXN0L3VycWwtY29yZS1jaHVuay5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTJGOztBQUVuQjs7QUFFeEU7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGVBQWUsNkRBQUMseUVBQXlFO0FBQ3pGLElBQUk7QUFDSixlQUFlLDZEQUFDO0FBQ2hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFVBQVU7QUFDdEM7QUFDQTtBQUNBLHNDQUFzQyxPQUFPO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixhQUFhO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQ0FBb0MsT0FBTztBQUMzQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxrQ0FBa0MsT0FBTztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLGdDQUFnQyxPQUFPO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjs7QUFFQTtBQUNBLG9FQUFvRTtBQUNwRSxrQ0FBa0MsT0FBTztBQUN6QyxvQkFBb0IsRUFBRSxHQUFHLEVBQUU7QUFDM0I7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLG9CQUFvQixFQUFFLEdBQUcsRUFBRTtBQUMzQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7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QSxnQ0FBZ0M7QUFDaEM7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDRDQUFDO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsR0FBRyxHQUFHLDZDQUFDLGFBQWEsd0RBQUM7QUFDckI7O0FBRThSO0FBQzlSIiwic291cmNlcyI6WyIvaG9tZS9yaWt1c2VuL3dvcmtzcGFjZS9uZXh0anMtbXN3LXJlcHJvZHVjdGlvbi9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9kaXN0L3VycWwtY29yZS1jaHVuay5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR3JhcGhRTEVycm9yIGFzIGUsIHByaW50IGFzIHIsIHBhcnNlIGFzIHQsIEtpbmQgYXMgYSB9IGZyb20gXCJAMG5vLWNvL2dyYXBocWwud2ViXCI7XG5cbmltcG9ydCB7IG9uRW5kIGFzIG4sIGZpbHRlciBhcyBvLCBmcm9tQXN5bmNJdGVyYWJsZSBhcyBpIH0gZnJvbSBcIndvbmthXCI7XG5cbnZhciByZWh5ZHJhdGVHcmFwaFFsRXJyb3IgPSByID0+IHtcbiAgaWYgKHIgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2Ygci5tZXNzYWdlICYmIChyLmV4dGVuc2lvbnMgfHwgXCJHcmFwaFFMRXJyb3JcIiA9PT0gci5uYW1lKSkge1xuICAgIHJldHVybiByO1xuICB9IGVsc2UgaWYgKFwib2JqZWN0XCIgPT0gdHlwZW9mIHIgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2Ygci5tZXNzYWdlKSB7XG4gICAgcmV0dXJuIG5ldyBlKHIubWVzc2FnZSwgci5ub2Rlcywgci5zb3VyY2UsIHIucG9zaXRpb25zLCByLnBhdGgsIHIsIHIuZXh0ZW5zaW9ucyB8fCB7fSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBlKHIpO1xuICB9XG59O1xuXG5jbGFzcyBDb21iaW5lZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgdmFyIHIgPSAoZS5ncmFwaFFMRXJyb3JzIHx8IFtdKS5tYXAocmVoeWRyYXRlR3JhcGhRbEVycm9yKTtcbiAgICB2YXIgdCA9ICgoZSwgcikgPT4ge1xuICAgICAgdmFyIHQgPSBcIlwiO1xuICAgICAgaWYgKGUpIHtcbiAgICAgICAgcmV0dXJuIGBbTmV0d29ya10gJHtlLm1lc3NhZ2V9YDtcbiAgICAgIH1cbiAgICAgIGlmIChyKSB7XG4gICAgICAgIGZvciAodmFyIGEgPSAwLCBuID0gci5sZW5ndGg7IGEgPCBuOyBhKyspIHtcbiAgICAgICAgICBpZiAodCkge1xuICAgICAgICAgICAgdCArPSBcIlxcblwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0ICs9IGBbR3JhcGhRTF0gJHtyW2FdLm1lc3NhZ2V9YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHQ7XG4gICAgfSkoZS5uZXR3b3JrRXJyb3IsIHIpO1xuICAgIHN1cGVyKHQpO1xuICAgIHRoaXMubmFtZSA9IFwiQ29tYmluZWRFcnJvclwiO1xuICAgIHRoaXMubWVzc2FnZSA9IHQ7XG4gICAgdGhpcy5ncmFwaFFMRXJyb3JzID0gcjtcbiAgICB0aGlzLm5ldHdvcmtFcnJvciA9IGUubmV0d29ya0Vycm9yO1xuICAgIHRoaXMucmVzcG9uc2UgPSBlLnJlc3BvbnNlO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1lc3NhZ2U7XG4gIH1cbn1cblxudmFyIHBoYXNoID0gKGUsIHIpID0+IHtcbiAgdmFyIHQgPSAwIHwgKHIgfHwgNTM4MSk7XG4gIGZvciAodmFyIGEgPSAwLCBuID0gMCB8IGUubGVuZ3RoOyBhIDwgbjsgYSsrKSB7XG4gICAgdCA9ICh0IDw8IDUpICsgdCArIGUuY2hhckNvZGVBdChhKTtcbiAgfVxuICByZXR1cm4gdDtcbn07XG5cbnZhciBzID0gbmV3IFNldDtcblxudmFyIGYgPSBuZXcgV2Vha01hcDtcblxudmFyIHN0cmluZ2lmeSA9IChlLCByKSA9PiB7XG4gIGlmIChudWxsID09PSBlIHx8IHMuaGFzKGUpKSB7XG4gICAgcmV0dXJuIFwibnVsbFwiO1xuICB9IGVsc2UgaWYgKFwib2JqZWN0XCIgIT0gdHlwZW9mIGUpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSkgfHwgXCJcIjtcbiAgfSBlbHNlIGlmIChlLnRvSlNPTikge1xuICAgIHJldHVybiBzdHJpbmdpZnkoZS50b0pTT04oKSwgcik7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShlKSkge1xuICAgIHZhciB0ID0gXCJbXCI7XG4gICAgZm9yICh2YXIgYSA9IDAsIG4gPSBlLmxlbmd0aDsgYSA8IG47IGErKykge1xuICAgICAgaWYgKHQubGVuZ3RoID4gMSkge1xuICAgICAgICB0ICs9IFwiLFwiO1xuICAgICAgfVxuICAgICAgdCArPSBzdHJpbmdpZnkoZVthXSwgcikgfHwgXCJudWxsXCI7XG4gICAgfVxuICAgIHJldHVybiB0ICs9IFwiXVwiO1xuICB9IGVsc2UgaWYgKCFyICYmIChsICE9PSBOb29wQ29uc3RydWN0b3IgJiYgZSBpbnN0YW5jZW9mIGwgfHwgZCAhPT0gTm9vcENvbnN0cnVjdG9yICYmIGUgaW5zdGFuY2VvZiBkKSkge1xuICAgIHJldHVybiBcIm51bGxcIjtcbiAgfVxuICB2YXIgbyA9IE9iamVjdC5rZXlzKGUpLnNvcnQoKTtcbiAgaWYgKCFvLmxlbmd0aCAmJiBlLmNvbnN0cnVjdG9yICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jb25zdHJ1Y3RvciAhPT0gT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcikge1xuICAgIHZhciBpID0gZi5nZXQoZSkgfHwgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMik7XG4gICAgZi5zZXQoZSwgaSk7XG4gICAgcmV0dXJuIHN0cmluZ2lmeSh7XG4gICAgICBfX2tleTogaVxuICAgIH0sIHIpO1xuICB9XG4gIHMuYWRkKGUpO1xuICB2YXIgYyA9IFwie1wiO1xuICBmb3IgKHZhciB2ID0gMCwgcCA9IG8ubGVuZ3RoOyB2IDwgcDsgdisrKSB7XG4gICAgdmFyIHUgPSBzdHJpbmdpZnkoZVtvW3ZdXSwgcik7XG4gICAgaWYgKHUpIHtcbiAgICAgIGlmIChjLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgYyArPSBcIixcIjtcbiAgICAgIH1cbiAgICAgIGMgKz0gc3RyaW5naWZ5KG9bdl0sIHIpICsgXCI6XCIgKyB1O1xuICAgIH1cbiAgfVxuICBzLmRlbGV0ZShlKTtcbiAgcmV0dXJuIGMgKz0gXCJ9XCI7XG59O1xuXG52YXIgZXh0cmFjdCA9IChlLCByLCB0KSA9PiB7XG4gIGlmIChudWxsID09IHQgfHwgXCJvYmplY3RcIiAhPSB0eXBlb2YgdCB8fCB0LnRvSlNPTiB8fCBzLmhhcyh0KSkge30gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0KSkge1xuICAgIGZvciAodmFyIGEgPSAwLCBuID0gdC5sZW5ndGg7IGEgPCBuOyBhKyspIHtcbiAgICAgIGV4dHJhY3QoZSwgYCR7cn0uJHthfWAsIHRbYV0pO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0IGluc3RhbmNlb2YgbCB8fCB0IGluc3RhbmNlb2YgZCkge1xuICAgIGUuc2V0KHIsIHQpO1xuICB9IGVsc2Uge1xuICAgIHMuYWRkKHQpO1xuICAgIGZvciAodmFyIG8gaW4gdCkge1xuICAgICAgZXh0cmFjdChlLCBgJHtyfS4ke299YCwgdFtvXSk7XG4gICAgfVxuICB9XG59O1xuXG52YXIgc3RyaW5naWZ5VmFyaWFibGVzID0gKGUsIHIpID0+IHtcbiAgcy5jbGVhcigpO1xuICByZXR1cm4gc3RyaW5naWZ5KGUsIHIgfHwgITEpO1xufTtcblxuY2xhc3MgTm9vcENvbnN0cnVjdG9yIHt9XG5cbnZhciBsID0gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgRmlsZSA/IEZpbGUgOiBOb29wQ29uc3RydWN0b3I7XG5cbnZhciBkID0gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgQmxvYiA/IEJsb2IgOiBOb29wQ29uc3RydWN0b3I7XG5cbnZhciBjID0gLyhcInszfVtcXHNcXFNdKlwiezN9fFwiKD86XFxcXC58W15cIl0pKlwiKS9nO1xuXG52YXIgdiA9IC8oPzojW15cXG5cXHJdKyk/KD86W1xcclxcbl0rfCQpL2c7XG5cbnZhciByZXBsYWNlT3V0c2lkZVN0cmluZ3MgPSAoZSwgcikgPT4gciAlIDIgPT0gMCA/IGUucmVwbGFjZSh2LCBcIlxcblwiKSA6IGU7XG5cbnZhciBzYW5pdGl6ZURvY3VtZW50ID0gZSA9PiBlLnNwbGl0KGMpLm1hcChyZXBsYWNlT3V0c2lkZVN0cmluZ3MpLmpvaW4oXCJcIikudHJpbSgpO1xuXG52YXIgcCA9IG5ldyBNYXA7XG5cbnZhciB1ID0gbmV3IE1hcDtcblxudmFyIHN0cmluZ2lmeURvY3VtZW50ID0gZSA9PiB7XG4gIHZhciB0O1xuICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSkge1xuICAgIHQgPSBzYW5pdGl6ZURvY3VtZW50KGUpO1xuICB9IGVsc2UgaWYgKGUubG9jICYmIHUuZ2V0KGUuX19rZXkpID09PSBlKSB7XG4gICAgdCA9IGUubG9jLnNvdXJjZS5ib2R5O1xuICB9IGVsc2Uge1xuICAgIHQgPSBwLmdldChlKSB8fCBzYW5pdGl6ZURvY3VtZW50KHIoZSkpO1xuICAgIHAuc2V0KGUsIHQpO1xuICB9XG4gIGlmIChcInN0cmluZ1wiICE9IHR5cGVvZiBlICYmICFlLmxvYykge1xuICAgIGUubG9jID0ge1xuICAgICAgc3RhcnQ6IDAsXG4gICAgICBlbmQ6IHQubGVuZ3RoLFxuICAgICAgc291cmNlOiB7XG4gICAgICAgIGJvZHk6IHQsXG4gICAgICAgIG5hbWU6IFwiZ3FsXCIsXG4gICAgICAgIGxvY2F0aW9uT2Zmc2V0OiB7XG4gICAgICAgICAgbGluZTogMSxcbiAgICAgICAgICBjb2x1bW46IDFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHQ7XG59O1xuXG52YXIgaGFzaERvY3VtZW50ID0gZSA9PiB7XG4gIHZhciByO1xuICBpZiAoZS5kb2N1bWVudElkKSB7XG4gICAgciA9IHBoYXNoKGUuZG9jdW1lbnRJZCk7XG4gIH0gZWxzZSB7XG4gICAgciA9IHBoYXNoKHN0cmluZ2lmeURvY3VtZW50KGUpKTtcbiAgICBpZiAoZS5kZWZpbml0aW9ucykge1xuICAgICAgdmFyIHQgPSBnZXRPcGVyYXRpb25OYW1lKGUpO1xuICAgICAgaWYgKHQpIHtcbiAgICAgICAgciA9IHBoYXNoKGBcXG4jICR7dH1gLCByKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHI7XG59O1xuXG52YXIga2V5RG9jdW1lbnQgPSBlID0+IHtcbiAgdmFyIHI7XG4gIHZhciBhO1xuICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSkge1xuICAgIHIgPSBoYXNoRG9jdW1lbnQoZSk7XG4gICAgYSA9IHUuZ2V0KHIpIHx8IHQoZSwge1xuICAgICAgbm9Mb2NhdGlvbjogITBcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByID0gZS5fX2tleSB8fCBoYXNoRG9jdW1lbnQoZSk7XG4gICAgYSA9IHUuZ2V0KHIpIHx8IGU7XG4gIH1cbiAgaWYgKCFhLmxvYykge1xuICAgIHN0cmluZ2lmeURvY3VtZW50KGEpO1xuICB9XG4gIGEuX19rZXkgPSByO1xuICB1LnNldChyLCBhKTtcbiAgcmV0dXJuIGE7XG59O1xuXG52YXIgY3JlYXRlUmVxdWVzdCA9IChlLCByLCB0KSA9PiB7XG4gIHZhciBhID0gciB8fCB7fTtcbiAgdmFyIG4gPSBrZXlEb2N1bWVudChlKTtcbiAgdmFyIG8gPSBzdHJpbmdpZnlWYXJpYWJsZXMoYSwgITApO1xuICB2YXIgaSA9IG4uX19rZXk7XG4gIGlmIChcInt9XCIgIT09IG8pIHtcbiAgICBpID0gcGhhc2gobywgaSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBrZXk6IGksXG4gICAgcXVlcnk6IG4sXG4gICAgdmFyaWFibGVzOiBhLFxuICAgIGV4dGVuc2lvbnM6IHRcbiAgfTtcbn07XG5cbnZhciBnZXRPcGVyYXRpb25OYW1lID0gZSA9PiB7XG4gIGZvciAodmFyIHIgPSAwLCB0ID0gZS5kZWZpbml0aW9ucy5sZW5ndGg7IHIgPCB0OyByKyspIHtcbiAgICB2YXIgbiA9IGUuZGVmaW5pdGlvbnNbcl07XG4gICAgaWYgKG4ua2luZCA9PT0gYS5PUEVSQVRJT05fREVGSU5JVElPTikge1xuICAgICAgcmV0dXJuIG4ubmFtZSA/IG4ubmFtZS52YWx1ZSA6IHZvaWQgMDtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBnZXRPcGVyYXRpb25UeXBlID0gZSA9PiB7XG4gIGZvciAodmFyIHIgPSAwLCB0ID0gZS5kZWZpbml0aW9ucy5sZW5ndGg7IHIgPCB0OyByKyspIHtcbiAgICB2YXIgbiA9IGUuZGVmaW5pdGlvbnNbcl07XG4gICAgaWYgKG4ua2luZCA9PT0gYS5PUEVSQVRJT05fREVGSU5JVElPTikge1xuICAgICAgcmV0dXJuIG4ub3BlcmF0aW9uO1xuICAgIH1cbiAgfVxufTtcblxudmFyIG1ha2VSZXN1bHQgPSAoZSwgciwgdCkgPT4ge1xuICBpZiAoIShcImRhdGFcIiBpbiByIHx8IFwiZXJyb3JzXCIgaW4gciAmJiBBcnJheS5pc0FycmF5KHIuZXJyb3JzKSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBDb250ZW50XCIpO1xuICB9XG4gIHZhciBhID0gXCJzdWJzY3JpcHRpb25cIiA9PT0gZS5raW5kO1xuICByZXR1cm4ge1xuICAgIG9wZXJhdGlvbjogZSxcbiAgICBkYXRhOiByLmRhdGEsXG4gICAgZXJyb3I6IEFycmF5LmlzQXJyYXkoci5lcnJvcnMpID8gbmV3IENvbWJpbmVkRXJyb3Ioe1xuICAgICAgZ3JhcGhRTEVycm9yczogci5lcnJvcnMsXG4gICAgICByZXNwb25zZTogdFxuICAgIH0pIDogdm9pZCAwLFxuICAgIGV4dGVuc2lvbnM6IHIuZXh0ZW5zaW9ucyA/IHtcbiAgICAgIC4uLnIuZXh0ZW5zaW9uc1xuICAgIH0gOiB2b2lkIDAsXG4gICAgaGFzTmV4dDogbnVsbCA9PSByLmhhc05leHQgPyBhIDogci5oYXNOZXh0LFxuICAgIHN0YWxlOiAhMVxuICB9O1xufTtcblxudmFyIGRlZXBNZXJnZSA9IChlLCByKSA9PiB7XG4gIGlmIChcIm9iamVjdFwiID09IHR5cGVvZiBlICYmIG51bGwgIT0gZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGUpKSB7XG4gICAgICBlID0gWyAuLi5lIF07XG4gICAgICBmb3IgKHZhciB0ID0gMCwgYSA9IHIubGVuZ3RoOyB0IDwgYTsgdCsrKSB7XG4gICAgICAgIGVbdF0gPSBkZWVwTWVyZ2UoZVt0XSwgclt0XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZTtcbiAgICB9XG4gICAgaWYgKCFlLmNvbnN0cnVjdG9yIHx8IGUuY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xuICAgICAgZSA9IHtcbiAgICAgICAgLi4uZVxuICAgICAgfTtcbiAgICAgIGZvciAodmFyIG4gaW4gcikge1xuICAgICAgICBlW25dID0gZGVlcE1lcmdlKGVbbl0sIHJbbl0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICB9XG4gIHJldHVybiByO1xufTtcblxudmFyIG1lcmdlUmVzdWx0UGF0Y2ggPSAoZSwgciwgdCwgYSkgPT4ge1xuICB2YXIgbiA9IGUuZXJyb3IgPyBlLmVycm9yLmdyYXBoUUxFcnJvcnMgOiBbXTtcbiAgdmFyIG8gPSAhIWUuZXh0ZW5zaW9ucyB8fCAhIShyLnBheWxvYWQgfHwgcikuZXh0ZW5zaW9ucztcbiAgdmFyIGkgPSB7XG4gICAgLi4uZS5leHRlbnNpb25zLFxuICAgIC4uLihyLnBheWxvYWQgfHwgcikuZXh0ZW5zaW9uc1xuICB9O1xuICB2YXIgcyA9IHIuaW5jcmVtZW50YWw7XG4gIGlmIChcInBhdGhcIiBpbiByKSB7XG4gICAgcyA9IFsgciBdO1xuICB9XG4gIHZhciBmID0ge1xuICAgIGRhdGE6IGUuZGF0YVxuICB9O1xuICBpZiAocykge1xuICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGUgPSBzW2xdO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZS5lcnJvcnMpKSB7XG4gICAgICAgIG4ucHVzaCguLi5lLmVycm9ycyk7XG4gICAgICB9XG4gICAgICBpZiAoZS5leHRlbnNpb25zKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oaSwgZS5leHRlbnNpb25zKTtcbiAgICAgICAgbyA9ICEwO1xuICAgICAgfVxuICAgICAgdmFyIHIgPSBcImRhdGFcIjtcbiAgICAgIHZhciB0ID0gZjtcbiAgICAgIHZhciBkID0gW107XG4gICAgICBpZiAoZS5wYXRoKSB7XG4gICAgICAgIGQgPSBlLnBhdGg7XG4gICAgICB9IGVsc2UgaWYgKGEpIHtcbiAgICAgICAgdmFyIGMgPSBhLmZpbmQoKHIgPT4gci5pZCA9PT0gZS5pZCkpO1xuICAgICAgICBpZiAoZS5zdWJQYXRoKSB7XG4gICAgICAgICAgZCA9IFsgLi4uYy5wYXRoLCAuLi5lLnN1YlBhdGggXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkID0gYy5wYXRoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKHZhciB2ID0gMCwgcCA9IGQubGVuZ3RoOyB2IDwgcDsgciA9IGRbdisrXSkge1xuICAgICAgICB0ID0gdFtyXSA9IEFycmF5LmlzQXJyYXkodFtyXSkgPyBbIC4uLnRbcl0gXSA6IHtcbiAgICAgICAgICAuLi50W3JdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAoZS5pdGVtcykge1xuICAgICAgICB2YXIgdSA9ICtyID49IDAgPyByIDogMDtcbiAgICAgICAgZm9yICh2YXIgeSA9IDAsIGggPSBlLml0ZW1zLmxlbmd0aDsgeSA8IGg7IHkrKykge1xuICAgICAgICAgIHRbdSArIHldID0gZGVlcE1lcmdlKHRbdSArIHldLCBlLml0ZW1zW3ldKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh2b2lkIDAgIT09IGUuZGF0YSkge1xuICAgICAgICB0W3JdID0gZGVlcE1lcmdlKHRbcl0sIGUuZGF0YSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBmb3IgKHZhciBsID0gMCwgZCA9IHMubGVuZ3RoOyBsIDwgZDsgbCsrKSB7XG4gICAgICBfbG9vcCgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmLmRhdGEgPSAoci5wYXlsb2FkIHx8IHIpLmRhdGEgfHwgZS5kYXRhO1xuICAgIG4gPSByLmVycm9ycyB8fCByLnBheWxvYWQgJiYgci5wYXlsb2FkLmVycm9ycyB8fCBuO1xuICB9XG4gIHJldHVybiB7XG4gICAgb3BlcmF0aW9uOiBlLm9wZXJhdGlvbixcbiAgICBkYXRhOiBmLmRhdGEsXG4gICAgZXJyb3I6IG4ubGVuZ3RoID8gbmV3IENvbWJpbmVkRXJyb3Ioe1xuICAgICAgZ3JhcGhRTEVycm9yczogbixcbiAgICAgIHJlc3BvbnNlOiB0XG4gICAgfSkgOiB2b2lkIDAsXG4gICAgZXh0ZW5zaW9uczogbyA/IGkgOiB2b2lkIDAsXG4gICAgaGFzTmV4dDogbnVsbCAhPSByLmhhc05leHQgPyByLmhhc05leHQgOiBlLmhhc05leHQsXG4gICAgc3RhbGU6ICExXG4gIH07XG59O1xuXG52YXIgbWFrZUVycm9yUmVzdWx0ID0gKGUsIHIsIHQpID0+ICh7XG4gIG9wZXJhdGlvbjogZSxcbiAgZGF0YTogdm9pZCAwLFxuICBlcnJvcjogbmV3IENvbWJpbmVkRXJyb3Ioe1xuICAgIG5ldHdvcmtFcnJvcjogcixcbiAgICByZXNwb25zZTogdFxuICB9KSxcbiAgZXh0ZW5zaW9uczogdm9pZCAwLFxuICBoYXNOZXh0OiAhMSxcbiAgc3RhbGU6ICExXG59KTtcblxuZnVuY3Rpb24gbWFrZUZldGNoQm9keShlKSB7XG4gIHZhciByID0ge1xuICAgIHF1ZXJ5OiB2b2lkIDAsXG4gICAgZG9jdW1lbnRJZDogdm9pZCAwLFxuICAgIG9wZXJhdGlvbk5hbWU6IGdldE9wZXJhdGlvbk5hbWUoZS5xdWVyeSksXG4gICAgdmFyaWFibGVzOiBlLnZhcmlhYmxlcyB8fCB2b2lkIDAsXG4gICAgZXh0ZW5zaW9uczogZS5leHRlbnNpb25zXG4gIH07XG4gIGlmIChcImRvY3VtZW50SWRcIiBpbiBlLnF1ZXJ5ICYmIGUucXVlcnkuZG9jdW1lbnRJZCAmJiAoIWUucXVlcnkuZGVmaW5pdGlvbnMgfHwgIWUucXVlcnkuZGVmaW5pdGlvbnMubGVuZ3RoKSkge1xuICAgIHIuZG9jdW1lbnRJZCA9IGUucXVlcnkuZG9jdW1lbnRJZDtcbiAgfSBlbHNlIGlmICghZS5leHRlbnNpb25zIHx8ICFlLmV4dGVuc2lvbnMucGVyc2lzdGVkUXVlcnkgfHwgZS5leHRlbnNpb25zLnBlcnNpc3RlZFF1ZXJ5Lm1pc3MpIHtcbiAgICByLnF1ZXJ5ID0gc3RyaW5naWZ5RG9jdW1lbnQoZS5xdWVyeSk7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG5cbnZhciBtYWtlRmV0Y2hVUkwgPSAoZSwgcikgPT4ge1xuICB2YXIgdCA9IFwicXVlcnlcIiA9PT0gZS5raW5kICYmIGUuY29udGV4dC5wcmVmZXJHZXRNZXRob2Q7XG4gIGlmICghdCB8fCAhcikge1xuICAgIHJldHVybiBlLmNvbnRleHQudXJsO1xuICB9XG4gIHZhciBhID0gc3BsaXRPdXRTZWFyY2hQYXJhbXMoZS5jb250ZXh0LnVybCk7XG4gIGZvciAodmFyIG4gaW4gcikge1xuICAgIHZhciBvID0gcltuXTtcbiAgICBpZiAobykge1xuICAgICAgYVsxXS5zZXQobiwgXCJvYmplY3RcIiA9PSB0eXBlb2YgbyA/IHN0cmluZ2lmeVZhcmlhYmxlcyhvKSA6IG8pO1xuICAgIH1cbiAgfVxuICB2YXIgaSA9IGEuam9pbihcIj9cIik7XG4gIGlmIChpLmxlbmd0aCA+IDIwNDcgJiYgXCJmb3JjZVwiICE9PSB0KSB7XG4gICAgZS5jb250ZXh0LnByZWZlckdldE1ldGhvZCA9ICExO1xuICAgIHJldHVybiBlLmNvbnRleHQudXJsO1xuICB9XG4gIHJldHVybiBpO1xufTtcblxudmFyIHNwbGl0T3V0U2VhcmNoUGFyYW1zID0gZSA9PiB7XG4gIHZhciByID0gZS5pbmRleE9mKFwiP1wiKTtcbiAgcmV0dXJuIHIgPiAtMSA/IFsgZS5zbGljZSgwLCByKSwgbmV3IFVSTFNlYXJjaFBhcmFtcyhlLnNsaWNlKHIgKyAxKSkgXSA6IFsgZSwgbmV3IFVSTFNlYXJjaFBhcmFtcyBdO1xufTtcblxudmFyIHNlcmlhbGl6ZUJvZHkgPSAoZSwgcikgPT4ge1xuICBpZiAociAmJiAhKFwicXVlcnlcIiA9PT0gZS5raW5kICYmICEhZS5jb250ZXh0LnByZWZlckdldE1ldGhvZCkpIHtcbiAgICB2YXIgdCA9IHN0cmluZ2lmeVZhcmlhYmxlcyhyKTtcbiAgICB2YXIgYSA9IChlID0+IHtcbiAgICAgIHZhciByID0gbmV3IE1hcDtcbiAgICAgIGlmIChsICE9PSBOb29wQ29uc3RydWN0b3IgfHwgZCAhPT0gTm9vcENvbnN0cnVjdG9yKSB7XG4gICAgICAgIHMuY2xlYXIoKTtcbiAgICAgICAgZXh0cmFjdChyLCBcInZhcmlhYmxlc1wiLCBlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByO1xuICAgIH0pKHIudmFyaWFibGVzKTtcbiAgICBpZiAoYS5zaXplKSB7XG4gICAgICB2YXIgbiA9IG5ldyBGb3JtRGF0YTtcbiAgICAgIG4uYXBwZW5kKFwib3BlcmF0aW9uc1wiLCB0KTtcbiAgICAgIG4uYXBwZW5kKFwibWFwXCIsIHN0cmluZ2lmeVZhcmlhYmxlcyh7XG4gICAgICAgIC4uLlsgLi4uYS5rZXlzKCkgXS5tYXAoKGUgPT4gWyBlIF0pKVxuICAgICAgfSkpO1xuICAgICAgdmFyIG8gPSAwO1xuICAgICAgZm9yICh2YXIgaSBvZiBhLnZhbHVlcygpKSB7XG4gICAgICAgIG4uYXBwZW5kKFwiXCIgKyBvKyssIGkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG47XG4gICAgfVxuICAgIHJldHVybiB0O1xuICB9XG59O1xuXG52YXIgbWFrZUZldGNoT3B0aW9ucyA9IChlLCByKSA9PiB7XG4gIHZhciB0ID0ge1xuICAgIGFjY2VwdDogXCJzdWJzY3JpcHRpb25cIiA9PT0gZS5raW5kID8gXCJ0ZXh0L2V2ZW50LXN0cmVhbSwgbXVsdGlwYXJ0L21peGVkXCIgOiBcImFwcGxpY2F0aW9uL2dyYXBocWwtcmVzcG9uc2UranNvbiwgYXBwbGljYXRpb24vZ3JhcGhxbCtqc29uLCBhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2V2ZW50LXN0cmVhbSwgbXVsdGlwYXJ0L21peGVkXCJcbiAgfTtcbiAgdmFyIGEgPSAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBlLmNvbnRleHQuZmV0Y2hPcHRpb25zID8gZS5jb250ZXh0LmZldGNoT3B0aW9ucygpIDogZS5jb250ZXh0LmZldGNoT3B0aW9ucykgfHwge307XG4gIGlmIChhLmhlYWRlcnMpIHtcbiAgICBpZiAoKGUgPT4gXCJoYXNcIiBpbiBlICYmICFPYmplY3Qua2V5cyhlKS5sZW5ndGgpKGEuaGVhZGVycykpIHtcbiAgICAgIGEuaGVhZGVycy5mb3JFYWNoKCgoZSwgcikgPT4ge1xuICAgICAgICB0W3JdID0gZTtcbiAgICAgIH0pKTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYS5oZWFkZXJzKSkge1xuICAgICAgYS5oZWFkZXJzLmZvckVhY2goKChlLCByKSA9PiB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGUpKSB7XG4gICAgICAgICAgaWYgKHRbZVswXV0pIHtcbiAgICAgICAgICAgIHRbZVswXV0gPSBgJHt0W2VbMF1dfSwke2VbMV19YDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdFtlWzBdXSA9IGVbMV07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRbcl0gPSBlO1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIG4gaW4gYS5oZWFkZXJzKSB7XG4gICAgICAgIHRbbi50b0xvd2VyQ2FzZSgpXSA9IGEuaGVhZGVyc1tuXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdmFyIG8gPSBzZXJpYWxpemVCb2R5KGUsIHIpO1xuICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgbyAmJiAhdFtcImNvbnRlbnQtdHlwZVwiXSkge1xuICAgIHRbXCJjb250ZW50LXR5cGVcIl0gPSBcImFwcGxpY2F0aW9uL2pzb25cIjtcbiAgfVxuICByZXR1cm4ge1xuICAgIC4uLmEsXG4gICAgbWV0aG9kOiBvID8gXCJQT1NUXCIgOiBcIkdFVFwiLFxuICAgIGJvZHk6IG8sXG4gICAgaGVhZGVyczogdFxuICB9O1xufTtcblxudmFyIHkgPSBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBUZXh0RGVjb2RlciA/IG5ldyBUZXh0RGVjb2RlciA6IG51bGw7XG5cbnZhciBoID0gL2JvdW5kYXJ5PVwiPyhbXj1cIjtdKylcIj8vaTtcblxudmFyIG0gPSAvZGF0YTogPyhbXlxcbl0rKS87XG5cbnZhciB0b1N0cmluZyA9IGUgPT4gXCJCdWZmZXJcIiA9PT0gZS5jb25zdHJ1Y3Rvci5uYW1lID8gZS50b1N0cmluZygpIDogeS5kZWNvZGUoZSk7XG5cbmFzeW5jIGZ1bmN0aW9uKiBzdHJlYW1Cb2R5KGUpIHtcbiAgaWYgKGUuYm9keVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0pIHtcbiAgICBmb3IgYXdhaXQgKHZhciByIG9mIGUuYm9keSkge1xuICAgICAgeWllbGQgdG9TdHJpbmcocik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciB0ID0gZS5ib2R5LmdldFJlYWRlcigpO1xuICAgIHZhciBhO1xuICAgIHRyeSB7XG4gICAgICB3aGlsZSAoIShhID0gYXdhaXQgdC5yZWFkKCkpLmRvbmUpIHtcbiAgICAgICAgeWllbGQgdG9TdHJpbmcoYS52YWx1ZSk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHQuY2FuY2VsKCk7XG4gICAgfVxuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uKiBzcGxpdChlLCByKSB7XG4gIHZhciB0ID0gXCJcIjtcbiAgdmFyIGE7XG4gIGZvciBhd2FpdCAodmFyIG4gb2YgZSkge1xuICAgIHQgKz0gbjtcbiAgICB3aGlsZSAoKGEgPSB0LmluZGV4T2YocikpID4gLTEpIHtcbiAgICAgIHlpZWxkIHQuc2xpY2UoMCwgYSk7XG4gICAgICB0ID0gdC5zbGljZShhICsgci5sZW5ndGgpO1xuICAgIH1cbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiogZmV0Y2hPcGVyYXRpb24oZSwgciwgdCkge1xuICB2YXIgYSA9ICEwO1xuICB2YXIgbiA9IG51bGw7XG4gIHZhciBvO1xuICB0cnkge1xuICAgIHlpZWxkIGF3YWl0IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIHZhciBpID0gKG8gPSBhd2FpdCAoZS5jb250ZXh0LmZldGNoIHx8IGZldGNoKShyLCB0KSkuaGVhZGVycy5nZXQoXCJDb250ZW50LVR5cGVcIikgfHwgXCJcIjtcbiAgICB2YXIgcztcbiAgICBpZiAoL211bHRpcGFydFxcL21peGVkL2kudGVzdChpKSkge1xuICAgICAgcyA9IGFzeW5jIGZ1bmN0aW9uKiBwYXJzZU11bHRpcGFydE1peGVkKGUsIHIpIHtcbiAgICAgICAgdmFyIHQgPSBlLm1hdGNoKGgpO1xuICAgICAgICB2YXIgYSA9IFwiLS1cIiArICh0ID8gdFsxXSA6IFwiLVwiKTtcbiAgICAgICAgdmFyIG4gPSAhMDtcbiAgICAgICAgdmFyIG87XG4gICAgICAgIGZvciBhd2FpdCAodmFyIGkgb2Ygc3BsaXQoc3RyZWFtQm9keShyKSwgXCJcXHJcXG5cIiArIGEpKSB7XG4gICAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICAgIG4gPSAhMTtcbiAgICAgICAgICAgIHZhciBzID0gaS5pbmRleE9mKGEpO1xuICAgICAgICAgICAgaWYgKHMgPiAtMSkge1xuICAgICAgICAgICAgICBpID0gaS5zbGljZShzICsgYS5sZW5ndGgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB5aWVsZCBvID0gSlNPTi5wYXJzZShpLnNsaWNlKGkuaW5kZXhPZihcIlxcclxcblxcclxcblwiKSArIDQpKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoIW8pIHtcbiAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG8gJiYgITEgPT09IG8uaGFzTmV4dCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvICYmICExICE9PSBvLmhhc05leHQpIHtcbiAgICAgICAgICB5aWVsZCB7XG4gICAgICAgICAgICBoYXNOZXh0OiAhMVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0oaSwgbyk7XG4gICAgfSBlbHNlIGlmICgvdGV4dFxcL2V2ZW50LXN0cmVhbS9pLnRlc3QoaSkpIHtcbiAgICAgIHMgPSBhc3luYyBmdW5jdGlvbiogcGFyc2VFdmVudFN0cmVhbShlKSB7XG4gICAgICAgIHZhciByO1xuICAgICAgICBmb3IgYXdhaXQgKHZhciB0IG9mIHNwbGl0KHN0cmVhbUJvZHkoZSksIFwiXFxuXFxuXCIpKSB7XG4gICAgICAgICAgdmFyIGEgPSB0Lm1hdGNoKG0pO1xuICAgICAgICAgIGlmIChhKSB7XG4gICAgICAgICAgICB2YXIgbiA9IGFbMV07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB5aWVsZCByID0gSlNPTi5wYXJzZShuKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgaWYgKCFyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHIgJiYgITEgPT09IHIuaGFzTmV4dCkge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHIgJiYgITEgIT09IHIuaGFzTmV4dCkge1xuICAgICAgICAgIHlpZWxkIHtcbiAgICAgICAgICAgIGhhc05leHQ6ICExXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfShvKTtcbiAgICB9IGVsc2UgaWYgKCEvdGV4dFxcLy9pLnRlc3QoaSkpIHtcbiAgICAgIHMgPSBhc3luYyBmdW5jdGlvbiogcGFyc2VKU09OKGUpIHtcbiAgICAgICAgeWllbGQgSlNPTi5wYXJzZShhd2FpdCBlLnRleHQoKSk7XG4gICAgICB9KG8pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzID0gYXN5bmMgZnVuY3Rpb24qIHBhcnNlTWF5YmVKU09OKGUpIHtcbiAgICAgICAgdmFyIHIgPSBhd2FpdCBlLnRleHQoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgdCA9IEpTT04ucGFyc2Uocik7XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdGb3VuZCByZXNwb25zZSB3aXRoIGNvbnRlbnQtdHlwZSBcInRleHQvcGxhaW5cIiBidXQgaXQgaGFkIGEgdmFsaWQgXCJhcHBsaWNhdGlvbi9qc29uXCIgcmVzcG9uc2UuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHlpZWxkIHQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3Iocik7XG4gICAgICAgIH1cbiAgICAgIH0obyk7XG4gICAgfVxuICAgIHZhciBmO1xuICAgIGZvciBhd2FpdCAodmFyIGwgb2Ygcykge1xuICAgICAgaWYgKGwucGVuZGluZyAmJiAhbikge1xuICAgICAgICBmID0gbC5wZW5kaW5nO1xuICAgICAgfSBlbHNlIGlmIChsLnBlbmRpbmcpIHtcbiAgICAgICAgZiA9IFsgLi4uZiwgLi4ubC5wZW5kaW5nIF07XG4gICAgICB9XG4gICAgICBuID0gbiA/IG1lcmdlUmVzdWx0UGF0Y2gobiwgbCwgbywgZikgOiBtYWtlUmVzdWx0KGUsIGwsIG8pO1xuICAgICAgYSA9ICExO1xuICAgICAgeWllbGQgbjtcbiAgICAgIGEgPSAhMDtcbiAgICB9XG4gICAgaWYgKCFuKSB7XG4gICAgICB5aWVsZCBuID0gbWFrZVJlc3VsdChlLCB7fSwgbyk7XG4gICAgfVxuICB9IGNhdGNoIChyKSB7XG4gICAgaWYgKCFhKSB7XG4gICAgICB0aHJvdyByO1xuICAgIH1cbiAgICB5aWVsZCBtYWtlRXJyb3JSZXN1bHQoZSwgbyAmJiAoby5zdGF0dXMgPCAyMDAgfHwgby5zdGF0dXMgPj0gMzAwKSAmJiBvLnN0YXR1c1RleHQgPyBuZXcgRXJyb3Ioby5zdGF0dXNUZXh0KSA6IHIsIG8pO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1ha2VGZXRjaFNvdXJjZShlLCByLCB0KSB7XG4gIHZhciBhO1xuICBpZiAoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgQWJvcnRDb250cm9sbGVyKSB7XG4gICAgdC5zaWduYWwgPSAoYSA9IG5ldyBBYm9ydENvbnRyb2xsZXIpLnNpZ25hbDtcbiAgfVxuICByZXR1cm4gbigoKCkgPT4ge1xuICAgIGlmIChhKSB7XG4gICAgICBhLmFib3J0KCk7XG4gICAgfVxuICB9KSkobygoZSA9PiAhIWUpKShpKGZldGNoT3BlcmF0aW9uKGUsIHIsIHQpKSkpO1xufVxuXG5leHBvcnQgeyBDb21iaW5lZEVycm9yIGFzIEMsIG1ha2VGZXRjaEJvZHkgYXMgYSwgbWFrZUVycm9yUmVzdWx0IGFzIGIsIG1lcmdlUmVzdWx0UGF0Y2ggYXMgYywgbWFrZUZldGNoVVJMIGFzIGQsIG1ha2VGZXRjaE9wdGlvbnMgYXMgZSwgbWFrZUZldGNoU291cmNlIGFzIGYsIGdldE9wZXJhdGlvblR5cGUgYXMgZywgY3JlYXRlUmVxdWVzdCBhcyBoLCBzdHJpbmdpZnlWYXJpYWJsZXMgYXMgaSwga2V5RG9jdW1lbnQgYXMgaywgbWFrZVJlc3VsdCBhcyBtLCBzdHJpbmdpZnlEb2N1bWVudCBhcyBzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cnFsLWNvcmUtY2h1bmsubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@urql/core/dist/urql-core-chunk.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@urql/core/dist/urql-core.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@urql/core/dist/urql-core.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Client: () => (/* binding */ C),\n/* harmony export */   CombinedError: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.C),\n/* harmony export */   cacheExchange: () => (/* binding */ cacheExchange),\n/* harmony export */   composeExchanges: () => (/* binding */ composeExchanges),\n/* harmony export */   createClient: () => (/* binding */ Q),\n/* harmony export */   createRequest: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.h),\n/* harmony export */   debugExchange: () => (/* binding */ debugExchange),\n/* harmony export */   errorExchange: () => (/* binding */ mapExchange),\n/* harmony export */   fetchExchange: () => (/* binding */ fetchExchange),\n/* harmony export */   formatDocument: () => (/* binding */ formatDocument),\n/* harmony export */   gql: () => (/* binding */ gql),\n/* harmony export */   makeErrorResult: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.b),\n/* harmony export */   makeOperation: () => (/* binding */ makeOperation),\n/* harmony export */   makeResult: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.m),\n/* harmony export */   mapExchange: () => (/* binding */ mapExchange),\n/* harmony export */   mergeResultPatch: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.c),\n/* harmony export */   ssrExchange: () => (/* binding */ ssrExchange),\n/* harmony export */   stringifyDocument: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.s),\n/* harmony export */   stringifyVariables: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.i),\n/* harmony export */   subscriptionExchange: () => (/* binding */ subscriptionExchange)\n/* harmony export */ });\n/* harmony import */ var _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @0no-co/graphql.web */ \"(rsc)/./node_modules/@0no-co/graphql.web/dist/graphql.web.mjs\");\n/* harmony import */ var _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./urql-core-chunk.mjs */ \"(rsc)/./node_modules/@urql/core/dist/urql-core-chunk.mjs\");\n/* harmony import */ var wonka__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! wonka */ \"(rsc)/./node_modules/wonka/dist/wonka.mjs\");\n\n\n\n\n\n\n\n\nvar collectTypes = (e, r) => {\n  if (Array.isArray(e)) {\n    for (var t = 0, n = e.length; t < n; t++) {\n      collectTypes(e[t], r);\n    }\n  } else if (\"object\" == typeof e && null !== e) {\n    for (var a in e) {\n      if (\"__typename\" === a && \"string\" == typeof e[a]) {\n        r.add(e[a]);\n      } else {\n        collectTypes(e[a], r);\n      }\n    }\n  }\n  return r;\n};\n\nvar formatNode = r => {\n  if (\"definitions\" in r) {\n    var t = [];\n    for (var n = 0, a = r.definitions.length; n < a; n++) {\n      var i = formatNode(r.definitions[n]);\n      t.push(i);\n    }\n    return {\n      ...r,\n      definitions: t\n    };\n  }\n  if (\"directives\" in r && r.directives && r.directives.length) {\n    var o = [];\n    var s = {};\n    for (var c = 0, u = r.directives.length; c < u; c++) {\n      var p = r.directives[c];\n      var d = p.name.value;\n      if (\"_\" !== d[0]) {\n        o.push(p);\n      } else {\n        d = d.slice(1);\n      }\n      s[d] = p;\n    }\n    r = {\n      ...r,\n      directives: o,\n      _directives: s\n    };\n  }\n  if (\"selectionSet\" in r) {\n    var l = [];\n    var v = r.kind === _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.OPERATION_DEFINITION;\n    if (r.selectionSet) {\n      for (var f = 0, h = r.selectionSet.selections.length; f < h; f++) {\n        var k = r.selectionSet.selections[f];\n        v = v || k.kind === _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.FIELD && \"__typename\" === k.name.value && !k.alias;\n        var y = formatNode(k);\n        l.push(y);\n      }\n      if (!v) {\n        l.push({\n          kind: _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.FIELD,\n          name: {\n            kind: _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.NAME,\n            value: \"__typename\"\n          },\n          _generated: !0\n        });\n      }\n      return {\n        ...r,\n        selectionSet: {\n          ...r.selectionSet,\n          selections: l\n        }\n      };\n    }\n  }\n  return r;\n};\n\nvar I = new Map;\n\nvar formatDocument = e => {\n  var t = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(e);\n  var n = I.get(t.__key);\n  if (!n) {\n    I.set(t.__key, n = formatNode(t));\n    Object.defineProperty(n, \"__key\", {\n      value: t.__key,\n      enumerable: !1\n    });\n  }\n  return n;\n};\n\nfunction withPromise(e) {\n  var source$ = r => e(r);\n  source$.toPromise = () => (0,wonka__WEBPACK_IMPORTED_MODULE_2__.toPromise)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.take)(1)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => !e.stale && !e.hasNext))(source$)));\n  source$.then = (e, r) => source$.toPromise().then(e, r);\n  source$.subscribe = e => (0,wonka__WEBPACK_IMPORTED_MODULE_2__.subscribe)(e)(source$);\n  return source$;\n}\n\nfunction makeOperation(e, r, t) {\n  return {\n    ...r,\n    kind: e,\n    context: r.context ? {\n      ...r.context,\n      ...t\n    } : t || r.context\n  };\n}\n\nvar addMetadata = (e, r) => makeOperation(e.kind, e, {\n  meta: {\n    ...e.context.meta,\n    ...r\n  }\n});\n\nvar noop = () => {};\n\nfunction gql(n) {\n  var a = new Map;\n  var i = [];\n  var o = [];\n  var s = Array.isArray(n) ? n[0] : n || \"\";\n  for (var c = 1; c < arguments.length; c++) {\n    var u = arguments[c];\n    if (u && u.definitions) {\n      o.push(u);\n    } else {\n      s += u;\n    }\n    s += arguments[0][c];\n  }\n  o.unshift((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(s));\n  for (var p = 0; p < o.length; p++) {\n    for (var d = 0; d < o[p].definitions.length; d++) {\n      var l = o[p].definitions[d];\n      if (l.kind === _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.FRAGMENT_DEFINITION) {\n        var v = l.name.value;\n        var f = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.s)(l);\n        if (!a.has(v)) {\n          a.set(v, f);\n          i.push(l);\n        } else if ( true && a.get(v) !== f) {\n          console.warn(\"[WARNING: Duplicate Fragment] A fragment with name `\" + v + \"` already exists in this document.\\nWhile fragment names may not be unique across your source, each name must be unique per document.\");\n        }\n      } else {\n        i.push(l);\n      }\n    }\n  }\n  return (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.k)({\n    kind: _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.DOCUMENT,\n    definitions: i\n  });\n}\n\nvar shouldSkip = ({kind: e}) => \"mutation\" !== e && \"query\" !== e;\n\nvar mapTypeNames = e => {\n  var r = formatDocument(e.query);\n  if (r !== e.query) {\n    var t = makeOperation(e.kind, e);\n    t.query = r;\n    return t;\n  } else {\n    return e;\n  }\n};\n\nvar cacheExchange = ({forward: e, client: r, dispatchDebug: t}) => {\n  var a = new Map;\n  var i = new Map;\n  var isOperationCached = e => \"query\" === e.kind && \"network-only\" !== e.context.requestPolicy && (\"cache-only\" === e.context.requestPolicy || a.has(e.key));\n  return o => {\n    var s = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)((e => {\n      var i = a.get(e.key);\n       true && t({\n        operation: e,\n        ...i ? {\n          type: \"cacheHit\",\n          message: \"The result was successfully retried from the cache\"\n        } : {\n          type: \"cacheMiss\",\n          message: \"The result could not be retrieved from the cache\"\n        },\n        source: \"cacheExchange\"\n      });\n      var o = i || (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.m)(e, {\n        data: null\n      });\n      o = {\n        ...o,\n        operation: addMetadata(e, {\n          cacheOutcome: i ? \"hit\" : \"miss\"\n        })\n      };\n      if (\"cache-and-network\" === e.context.requestPolicy) {\n        o.stale = !0;\n        reexecuteOperation(r, e);\n      }\n      return o;\n    }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => !shouldSkip(e) && isOperationCached(e)))(o));\n    var c = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)((e => {\n      var {operation: n} = e;\n      if (!n) {\n        return;\n      }\n      var o = n.context.additionalTypenames || [];\n      if (\"subscription\" !== e.operation.kind) {\n        o = (e => [ ...collectTypes(e, new Set) ])(e.data).concat(o);\n      }\n      if (\"mutation\" === e.operation.kind || \"subscription\" === e.operation.kind) {\n        var s = new Set;\n         true && t({\n          type: \"cacheInvalidation\",\n          message: `The following typenames have been invalidated: ${o}`,\n          operation: n,\n          data: {\n            typenames: o,\n            response: e\n          },\n          source: \"cacheExchange\"\n        });\n        for (var c = 0; c < o.length; c++) {\n          var u = o[c];\n          var p = i.get(u);\n          if (!p) {\n            i.set(u, p = new Set);\n          }\n          for (var d of p.values()) {\n            s.add(d);\n          }\n          p.clear();\n        }\n        for (var l of s.values()) {\n          if (a.has(l)) {\n            n = a.get(l).operation;\n            a.delete(l);\n            reexecuteOperation(r, n);\n          }\n        }\n      } else if (\"query\" === n.kind && e.data) {\n        a.set(n.key, e);\n        for (var v = 0; v < o.length; v++) {\n          var f = o[v];\n          var h = i.get(f);\n          if (!h) {\n            i.set(f, h = new Set);\n          }\n          h.add(n.key);\n        }\n      }\n    }))(e((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"query\" !== e.kind || \"cache-only\" !== e.context.requestPolicy))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)((e => addMetadata(e, {\n      cacheOutcome: \"miss\"\n    })))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ (0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)(mapTypeNames)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => !shouldSkip(e) && !isOperationCached(e)))(o)), (0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => shouldSkip(e)))(o) ])))));\n    return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ s, c ]);\n  };\n};\n\nvar reexecuteOperation = (e, r) => e.reexecuteOperation(makeOperation(r.kind, r, {\n  requestPolicy: \"network-only\"\n}));\n\nvar T = new Set;\n\nvar ssrExchange = (e = {}) => {\n  var r = !!e.staleWhileRevalidate;\n  var t = !!e.includeExtensions;\n  var n = {};\n  var i = [];\n  var invalidate = e => {\n    i.push(e.operation.key);\n    if (1 === i.length) {\n      Promise.resolve().then((() => {\n        var e;\n        while (e = i.shift()) {\n          n[e] = null;\n        }\n      }));\n    }\n  };\n  var ssr = ({client: i, forward: o}) => s => {\n    var c = e && \"boolean\" == typeof e.isClient ? !!e.isClient : !i.suspense;\n    var u = o((0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)(mapTypeNames)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" === e.kind || !n[e.key] || !!n[e.key].hasNext || \"network-only\" === e.context.requestPolicy))(s)));\n    var p = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)((e => {\n      var o = ((e, r, t) => ({\n        operation: e,\n        data: r.data ? JSON.parse(r.data) : void 0,\n        extensions: t && r.extensions ? JSON.parse(r.extensions) : void 0,\n        error: r.error ? new _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.C({\n          networkError: r.error.networkError ? new Error(r.error.networkError) : void 0,\n          graphQLErrors: r.error.graphQLErrors\n        }) : void 0,\n        stale: !1,\n        hasNext: !!r.hasNext\n      }))(e, n[e.key], t);\n      if (r && !T.has(e.key)) {\n        o.stale = !0;\n        T.add(e.key);\n        reexecuteOperation(i, e);\n      }\n      return {\n        ...o,\n        operation: addMetadata(e, {\n          cacheOutcome: \"hit\"\n        })\n      };\n    }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" !== e.kind && !!n[e.key] && \"network-only\" !== e.context.requestPolicy))(s));\n    if (!c) {\n      u = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)((e => {\n        var {operation: r} = e;\n        if (\"mutation\" !== r.kind) {\n          var a = ((e, r) => {\n            var t = {\n              hasNext: e.hasNext\n            };\n            if (void 0 !== e.data) {\n              t.data = JSON.stringify(e.data);\n            }\n            if (r && void 0 !== e.extensions) {\n              t.extensions = JSON.stringify(e.extensions);\n            }\n            if (e.error) {\n              t.error = {\n                graphQLErrors: e.error.graphQLErrors.map((e => {\n                  if (!e.path && !e.extensions) {\n                    return e.message;\n                  }\n                  return {\n                    message: e.message,\n                    path: e.path,\n                    extensions: e.extensions\n                  };\n                }))\n              };\n              if (e.error.networkError) {\n                t.error.networkError = \"\" + e.error.networkError;\n              }\n            }\n            return t;\n          })(e, t);\n          n[r.key] = a;\n        }\n      }))(u);\n    } else {\n      p = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)(invalidate)(p);\n    }\n    return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ u, p ]);\n  };\n  ssr.restoreData = e => {\n    for (var r in e) {\n      if (null !== n[r]) {\n        n[r] = e[r];\n      }\n    }\n  };\n  ssr.extractData = () => {\n    var e = {};\n    for (var r in n) {\n      if (null != n[r]) {\n        e[r] = n[r];\n      }\n    }\n    return e;\n  };\n  if (e && e.initialState) {\n    ssr.restoreData(e.initialState);\n  }\n  return ssr;\n};\n\nvar subscriptionExchange = ({forwardSubscription: e, enableAllOperations: r, isSubscriptionOperation: t}) => ({client: a, forward: i}) => {\n  var u = t || (e => \"subscription\" === e.kind || !!r && (\"query\" === e.kind || \"mutation\" === e.kind));\n  return r => {\n    var t = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.mergeMap)((t => {\n      var {key: i} = t;\n      var u = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" === e.kind && e.key === i))(r);\n      return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.takeUntil)(u)((r => {\n        var t = e((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(r), r);\n        return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.make)((e => {\n          var i = !1;\n          var o;\n          var u;\n          function nextResult(t) {\n            e.next(u = u ? (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.c)(u, t) : (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.m)(r, t));\n          }\n          Promise.resolve().then((() => {\n            if (i) {\n              return;\n            }\n            o = t.subscribe({\n              next: nextResult,\n              error(t) {\n                if (Array.isArray(t)) {\n                  nextResult({\n                    errors: t\n                  });\n                } else {\n                  e.next((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(r, t));\n                }\n                e.complete();\n              },\n              complete() {\n                if (!i) {\n                  i = !0;\n                  if (\"subscription\" === r.kind) {\n                    a.reexecuteOperation(makeOperation(\"teardown\", r, r.context));\n                  }\n                  if (u && u.hasNext) {\n                    nextResult({\n                      hasNext: !1\n                    });\n                  }\n                  e.complete();\n                }\n              }\n            });\n          }));\n          return () => {\n            i = !0;\n            if (o) {\n              o.unsubscribe();\n            }\n          };\n        }));\n      })(t));\n    }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" !== e.kind && u(e)))(r));\n    var p = i((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" === e.kind || !u(e)))(r));\n    return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ t, p ]);\n  };\n};\n\nvar debugExchange = ({forward: e}) => {\n  if (false) {} else {\n    return r => (0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)((e => console.log(\"[Exchange debug]: Completed operation: \", e)))(e((0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)((e => console.log(\"[Exchange debug]: Incoming operation: \", e)))(r)));\n  }\n};\n\nvar fetchExchange = ({forward: e, dispatchDebug: r}) => t => {\n  var n = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.mergeMap)((e => {\n    var n = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(e);\n    var a = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.d)(e, n);\n    var i = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.e)(e, n);\n     true && r({\n      type: \"fetchRequest\",\n      message: \"A fetch request is being executed.\",\n      operation: e,\n      data: {\n        url: a,\n        fetchOptions: i\n      },\n      source: \"fetchExchange\"\n    });\n    var s = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.takeUntil)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((r => \"teardown\" === r.kind && r.key === e.key))(t))((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.f)(e, a, i));\n    if (true) {\n      return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.onPush)((t => {\n        var n = !t.data ? t.error : void 0;\n         true && r({\n          type: n ? \"fetchError\" : \"fetchSuccess\",\n          message: `A ${n ? \"failed\" : \"successful\"} fetch response has been returned.`,\n          operation: e,\n          data: {\n            url: a,\n            fetchOptions: i,\n            value: n || t\n          },\n          source: \"fetchExchange\"\n        });\n      }))(s);\n    }\n    return s;\n  }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" !== e.kind && (\"subscription\" !== e.kind || !!e.context.fetchSubscriptions)))(t));\n  var a = e((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" === e.kind || \"subscription\" === e.kind && !e.context.fetchSubscriptions))(t));\n  return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ n, a ]);\n};\n\nvar composeExchanges = e => ({client: r, forward: t, dispatchDebug: n}) => e.reduceRight(((e, t) => {\n  var a = !1;\n  return t({\n    client: r,\n    forward(r) {\n      if (true) {\n        if (a) {\n          throw new Error(\"forward() must only be called once in each Exchange.\");\n        }\n        a = !0;\n      }\n      return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.share)(e((0,wonka__WEBPACK_IMPORTED_MODULE_2__.share)(r)));\n    },\n    dispatchDebug(e) {\n       true && n({\n        timestamp: Date.now(),\n        source: t.name,\n        ...e\n      });\n    }\n  });\n}), t);\n\nvar mapExchange = ({onOperation: e, onResult: r, onError: t}) => ({forward: n}) => a => (0,wonka__WEBPACK_IMPORTED_MODULE_2__.mergeMap)((e => {\n  if (t && e.error) {\n    t(e.error, e.operation);\n  }\n  var n = r && r(e) || e;\n  return \"then\" in n ? (0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromPromise)(n) : (0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromValue)(n);\n}))(n((0,wonka__WEBPACK_IMPORTED_MODULE_2__.mergeMap)((r => {\n  var t = e && e(r) || r;\n  return \"then\" in t ? (0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromPromise)(t) : (0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromValue)(t);\n}))(a)));\n\nvar fallbackExchange = ({dispatchDebug: e}) => r => {\n  if (true) {\n    r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)((r => {\n      if (\"teardown\" !== r.kind && \"production\" !== \"development\") {\n        var t = `No exchange has handled operations of kind \"${r.kind}\". Check whether you've added an exchange responsible for these operations.`;\n         true && e({\n          type: \"fallbackCatch\",\n          message: t,\n          operation: r,\n          source: \"fallbackExchange\"\n        });\n        console.warn(t);\n      }\n    }))(r);\n  }\n  return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => !1))(r);\n};\n\nvar C = function Client(e) {\n  if ( true && !e.url) {\n    throw new Error(\"You are creating an urql-client without a url.\");\n  }\n  var r = 0;\n  var t = new Map;\n  var n = new Map;\n  var a = new Set;\n  var i = [];\n  var o = {\n    url: e.url,\n    fetchSubscriptions: e.fetchSubscriptions,\n    fetchOptions: e.fetchOptions,\n    fetch: e.fetch,\n    preferGetMethod: e.preferGetMethod,\n    requestPolicy: e.requestPolicy || \"cache-first\"\n  };\n  var s = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.makeSubject)();\n  function nextOperation(e) {\n    if (\"mutation\" === e.kind || \"teardown\" === e.kind || !a.has(e.key)) {\n      if (\"teardown\" === e.kind) {\n        a.delete(e.key);\n      } else if (\"mutation\" !== e.kind) {\n        a.add(e.key);\n      }\n      s.next(e);\n    }\n  }\n  var c = !1;\n  function dispatchOperation(e) {\n    if (e) {\n      nextOperation(e);\n    }\n    if (!c) {\n      c = !0;\n      while (c && (e = i.shift())) {\n        nextOperation(e);\n      }\n      c = !1;\n    }\n  }\n  var makeResultSource = e => {\n    var r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.takeUntil)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((r => \"teardown\" === r.kind && r.key === e.key))(s.source))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((r => r.operation.kind === e.kind && r.operation.key === e.key && (!r.operation.context._instance || r.operation.context._instance === e.context._instance)))(E));\n    if (\"query\" !== e.kind) {\n      r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.takeWhile)((e => !!e.hasNext), !0)(r);\n    } else {\n      r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.switchMap)((r => {\n        var t = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromValue)(r);\n        return r.stale || r.hasNext ? t : (0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ t, (0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)((() => {\n          r.stale = !0;\n          return r;\n        }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.take)(1)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((r => r.key === e.key))(s.source))) ]);\n      }))(r);\n    }\n    if (\"mutation\" !== e.kind) {\n      r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.onEnd)((() => {\n        a.delete(e.key);\n        t.delete(e.key);\n        n.delete(e.key);\n        c = !1;\n        for (var r = i.length - 1; r >= 0; r--) {\n          if (i[r].key === e.key) {\n            i.splice(r, 1);\n          }\n        }\n        nextOperation(makeOperation(\"teardown\", e, e.context));\n      }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.onPush)((r => {\n        if (r.stale) {\n          if (!r.hasNext) {\n            a.delete(e.key);\n          } else {\n            for (var n = 0; n < i.length; n++) {\n              var o = i[n];\n              if (o.key === r.operation.key) {\n                a.delete(o.key);\n                break;\n              }\n            }\n          }\n        } else if (!r.hasNext) {\n          a.delete(e.key);\n        }\n        t.set(e.key, r);\n      }))(r));\n    } else {\n      r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.onStart)((() => {\n        nextOperation(e);\n      }))(r);\n    }\n    return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.share)(r);\n  };\n  var u = this instanceof Client ? this : Object.create(Client.prototype);\n  var p = Object.assign(u, {\n    suspense: !!e.suspense,\n    operations$: s.source,\n    reexecuteOperation(e) {\n      if (\"teardown\" === e.kind) {\n        dispatchOperation(e);\n      } else if (\"mutation\" === e.kind) {\n        i.push(e);\n        Promise.resolve().then(dispatchOperation);\n      } else if (n.has(e.key)) {\n        var r = !1;\n        for (var t = 0; t < i.length; t++) {\n          if (i[t].key === e.key) {\n            i[t] = e;\n            r = !0;\n          }\n        }\n        if (!(r || a.has(e.key) && \"network-only\" !== e.context.requestPolicy)) {\n          i.push(e);\n          Promise.resolve().then(dispatchOperation);\n        } else {\n          a.delete(e.key);\n          Promise.resolve().then(dispatchOperation);\n        }\n      }\n    },\n    createRequestOperation(e, t, n) {\n      if (!n) {\n        n = {};\n      }\n      var a;\n      if ( true && \"teardown\" !== e && (a = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(t.query)) !== e) {\n        throw new Error(`Expected operation of type \"${e}\" but found \"${a}\"`);\n      }\n      return makeOperation(e, t, {\n        _instance: \"mutation\" === e ? r = r + 1 | 0 : void 0,\n        ...o,\n        ...n,\n        requestPolicy: n.requestPolicy || o.requestPolicy,\n        suspense: n.suspense || !1 !== n.suspense && p.suspense\n      });\n    },\n    executeRequestOperation(e) {\n      if (\"mutation\" === e.kind) {\n        return withPromise(makeResultSource(e));\n      }\n      return withPromise((0,wonka__WEBPACK_IMPORTED_MODULE_2__.lazy)((() => {\n        var r = n.get(e.key);\n        if (!r) {\n          n.set(e.key, r = makeResultSource(e));\n        }\n        r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.onStart)((() => {\n          dispatchOperation(e);\n        }))(r);\n        var a = t.get(e.key);\n        if (\"query\" === e.kind && a && (a.stale || a.hasNext)) {\n          return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.switchMap)(wonka__WEBPACK_IMPORTED_MODULE_2__.fromValue)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ r, (0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((r => r === t.get(e.key)))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromValue)(a)) ]));\n        } else {\n          return r;\n        }\n      })));\n    },\n    executeQuery(e, r) {\n      var t = p.createRequestOperation(\"query\", e, r);\n      return p.executeRequestOperation(t);\n    },\n    executeSubscription(e, r) {\n      var t = p.createRequestOperation(\"subscription\", e, r);\n      return p.executeRequestOperation(t);\n    },\n    executeMutation(e, r) {\n      var t = p.createRequestOperation(\"mutation\", e, r);\n      return p.executeRequestOperation(t);\n    },\n    readQuery(e, r, t) {\n      var n = null;\n      (0,wonka__WEBPACK_IMPORTED_MODULE_2__.subscribe)((e => {\n        n = e;\n      }))(p.query(e, r, t)).unsubscribe();\n      return n;\n    },\n    query: (e, r, t) => p.executeQuery((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(e, r), t),\n    subscription: (e, r, t) => p.executeSubscription((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(e, r), t),\n    mutation: (e, r, t) => p.executeMutation((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(e, r), t)\n  });\n  var d = noop;\n  if (true) {\n    var {next: f, source: x} = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.makeSubject)();\n    p.subscribeToDebugTarget = e => (0,wonka__WEBPACK_IMPORTED_MODULE_2__.subscribe)(e)(x);\n    d = f;\n  }\n  var w = composeExchanges(e.exchanges);\n  var E = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.share)(w({\n    client: p,\n    dispatchDebug: d,\n    forward: fallbackExchange({\n      dispatchDebug: d\n    })\n  })(s.source));\n  (0,wonka__WEBPACK_IMPORTED_MODULE_2__.publish)(E);\n  return p;\n};\n\nvar Q = C;\n\n\n//# sourceMappingURL=urql-core.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9kaXN0L3VycWwtY29yZS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0Q7O0FBRWtGOztBQUVsRTs7QUFFeVA7O0FBRXpUO0FBQ0E7QUFDQSxrQ0FBa0MsT0FBTztBQUN6QztBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsOENBQThDLE9BQU87QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxPQUFPO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixxREFBQztBQUN4QjtBQUNBLDREQUE0RCxPQUFPO0FBQ25FO0FBQ0EsNEJBQTRCLHFEQUFDO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscURBQUM7QUFDakI7QUFDQSxrQkFBa0IscURBQUM7QUFDbkI7QUFDQSxXQUFXO0FBQ1g7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsVUFBVSx1REFBQztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRCQUE0QixnREFBQyxDQUFDLDJDQUFDLElBQUksNkNBQUM7QUFDcEM7QUFDQSwyQkFBMkIsZ0RBQUM7QUFDNUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7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QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDhDQUFDO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGlCQUFpQixnREFBQyxDQUFDLDRDQUFDLEVBQUUsNENBQUMsTUFBTSw2Q0FBQyw0QkFBNEIsZ0RBQUM7QUFDM0QsVUFBVTtBQUNWO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxNQUFNLGdEQUFDO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0wsdUNBQXVDLHVEQUFDO0FBQ3hDLHFEQUFxRCx1REFBQztBQUN0RCw2Q0FBNkMsdURBQUM7QUFDOUMsR0FBRztBQUNIO0FBQ0EsTUFBTSxJQUFxQztBQUMzQyxTQUFTLG9CQUFvQixFQUFFLGtEQUFDO0FBQ2hDLG9DQUFvQyxnREFBQztBQUNyQztBQUNBO0FBQ0E7QUFDQSxVQUFVLDRDQUFDO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILEVBQUUsOENBQUM7QUFDSDtBQUNBOztBQUVBOztBQUV5VjtBQUN6ViIsInNvdXJjZXMiOlsiL2hvbWUvcmlrdXNlbi93b3Jrc3BhY2UvbmV4dGpzLW1zdy1yZXByb2R1Y3Rpb24vbm9kZV9tb2R1bGVzL0B1cnFsL2NvcmUvZGlzdC91cnFsLWNvcmUubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEtpbmQgYXMgZSB9IGZyb20gXCJAMG5vLWNvL2dyYXBocWwud2ViXCI7XG5cbmltcG9ydCB7IGsgYXMgciwgcyBhcyB0LCBtIGFzIG4sIEMgYXMgYSwgYSBhcyBvLCBiIGFzIHMsIGMsIGQgYXMgdSwgZSBhcyBwLCBmIGFzIGQsIGcgYXMgbCwgaCBhcyB2IH0gZnJvbSBcIi4vdXJxbC1jb3JlLWNodW5rLm1qc1wiO1xuXG5leHBvcnQgeyBpIGFzIHN0cmluZ2lmeVZhcmlhYmxlcyB9IGZyb20gXCIuL3VycWwtY29yZS1jaHVuay5tanNcIjtcblxuaW1wb3J0IHsgdG9Qcm9taXNlIGFzIGYsIHRha2UgYXMgaCwgZmlsdGVyIGFzIGssIHN1YnNjcmliZSBhcyB5LCBtYXAgYXMgbSwgdGFwIGFzIHgsIG1lcmdlIGFzIGcsIG1lcmdlTWFwIGFzIHcsIHRha2VVbnRpbCBhcyBPLCBtYWtlIGFzIEUsIG9uUHVzaCBhcyBiLCBzaGFyZSBhcyBOLCBmcm9tUHJvbWlzZSBhcyBxLCBmcm9tVmFsdWUgYXMgXywgbWFrZVN1YmplY3QgYXMgRCwgbGF6eSBhcyBTLCBvblN0YXJ0IGFzIFAsIHN3aXRjaE1hcCBhcyBSLCBwdWJsaXNoIGFzIFYsIHRha2VXaGlsZSBhcyBBLCBvbkVuZCBhcyBNIH0gZnJvbSBcIndvbmthXCI7XG5cbnZhciBjb2xsZWN0VHlwZXMgPSAoZSwgcikgPT4ge1xuICBpZiAoQXJyYXkuaXNBcnJheShlKSkge1xuICAgIGZvciAodmFyIHQgPSAwLCBuID0gZS5sZW5ndGg7IHQgPCBuOyB0KyspIHtcbiAgICAgIGNvbGxlY3RUeXBlcyhlW3RdLCByKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoXCJvYmplY3RcIiA9PSB0eXBlb2YgZSAmJiBudWxsICE9PSBlKSB7XG4gICAgZm9yICh2YXIgYSBpbiBlKSB7XG4gICAgICBpZiAoXCJfX3R5cGVuYW1lXCIgPT09IGEgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2YgZVthXSkge1xuICAgICAgICByLmFkZChlW2FdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbGxlY3RUeXBlcyhlW2FdLCByKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHI7XG59O1xuXG52YXIgZm9ybWF0Tm9kZSA9IHIgPT4ge1xuICBpZiAoXCJkZWZpbml0aW9uc1wiIGluIHIpIHtcbiAgICB2YXIgdCA9IFtdO1xuICAgIGZvciAodmFyIG4gPSAwLCBhID0gci5kZWZpbml0aW9ucy5sZW5ndGg7IG4gPCBhOyBuKyspIHtcbiAgICAgIHZhciBpID0gZm9ybWF0Tm9kZShyLmRlZmluaXRpb25zW25dKTtcbiAgICAgIHQucHVzaChpKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnIsXG4gICAgICBkZWZpbml0aW9uczogdFxuICAgIH07XG4gIH1cbiAgaWYgKFwiZGlyZWN0aXZlc1wiIGluIHIgJiYgci5kaXJlY3RpdmVzICYmIHIuZGlyZWN0aXZlcy5sZW5ndGgpIHtcbiAgICB2YXIgbyA9IFtdO1xuICAgIHZhciBzID0ge307XG4gICAgZm9yICh2YXIgYyA9IDAsIHUgPSByLmRpcmVjdGl2ZXMubGVuZ3RoOyBjIDwgdTsgYysrKSB7XG4gICAgICB2YXIgcCA9IHIuZGlyZWN0aXZlc1tjXTtcbiAgICAgIHZhciBkID0gcC5uYW1lLnZhbHVlO1xuICAgICAgaWYgKFwiX1wiICE9PSBkWzBdKSB7XG4gICAgICAgIG8ucHVzaChwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGQgPSBkLnNsaWNlKDEpO1xuICAgICAgfVxuICAgICAgc1tkXSA9IHA7XG4gICAgfVxuICAgIHIgPSB7XG4gICAgICAuLi5yLFxuICAgICAgZGlyZWN0aXZlczogbyxcbiAgICAgIF9kaXJlY3RpdmVzOiBzXG4gICAgfTtcbiAgfVxuICBpZiAoXCJzZWxlY3Rpb25TZXRcIiBpbiByKSB7XG4gICAgdmFyIGwgPSBbXTtcbiAgICB2YXIgdiA9IHIua2luZCA9PT0gZS5PUEVSQVRJT05fREVGSU5JVElPTjtcbiAgICBpZiAoci5zZWxlY3Rpb25TZXQpIHtcbiAgICAgIGZvciAodmFyIGYgPSAwLCBoID0gci5zZWxlY3Rpb25TZXQuc2VsZWN0aW9ucy5sZW5ndGg7IGYgPCBoOyBmKyspIHtcbiAgICAgICAgdmFyIGsgPSByLnNlbGVjdGlvblNldC5zZWxlY3Rpb25zW2ZdO1xuICAgICAgICB2ID0gdiB8fCBrLmtpbmQgPT09IGUuRklFTEQgJiYgXCJfX3R5cGVuYW1lXCIgPT09IGsubmFtZS52YWx1ZSAmJiAhay5hbGlhcztcbiAgICAgICAgdmFyIHkgPSBmb3JtYXROb2RlKGspO1xuICAgICAgICBsLnB1c2goeSk7XG4gICAgICB9XG4gICAgICBpZiAoIXYpIHtcbiAgICAgICAgbC5wdXNoKHtcbiAgICAgICAgICBraW5kOiBlLkZJRUxELFxuICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgIGtpbmQ6IGUuTkFNRSxcbiAgICAgICAgICAgIHZhbHVlOiBcIl9fdHlwZW5hbWVcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgX2dlbmVyYXRlZDogITBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5yLFxuICAgICAgICBzZWxlY3Rpb25TZXQ6IHtcbiAgICAgICAgICAuLi5yLnNlbGVjdGlvblNldCxcbiAgICAgICAgICBzZWxlY3Rpb25zOiBsXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9XG4gIHJldHVybiByO1xufTtcblxudmFyIEkgPSBuZXcgTWFwO1xuXG52YXIgZm9ybWF0RG9jdW1lbnQgPSBlID0+IHtcbiAgdmFyIHQgPSByKGUpO1xuICB2YXIgbiA9IEkuZ2V0KHQuX19rZXkpO1xuICBpZiAoIW4pIHtcbiAgICBJLnNldCh0Ll9fa2V5LCBuID0gZm9ybWF0Tm9kZSh0KSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIFwiX19rZXlcIiwge1xuICAgICAgdmFsdWU6IHQuX19rZXksXG4gICAgICBlbnVtZXJhYmxlOiAhMVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBuO1xufTtcblxuZnVuY3Rpb24gd2l0aFByb21pc2UoZSkge1xuICB2YXIgc291cmNlJCA9IHIgPT4gZShyKTtcbiAgc291cmNlJC50b1Byb21pc2UgPSAoKSA9PiBmKGgoMSkoaygoZSA9PiAhZS5zdGFsZSAmJiAhZS5oYXNOZXh0KSkoc291cmNlJCkpKTtcbiAgc291cmNlJC50aGVuID0gKGUsIHIpID0+IHNvdXJjZSQudG9Qcm9taXNlKCkudGhlbihlLCByKTtcbiAgc291cmNlJC5zdWJzY3JpYmUgPSBlID0+IHkoZSkoc291cmNlJCk7XG4gIHJldHVybiBzb3VyY2UkO1xufVxuXG5mdW5jdGlvbiBtYWtlT3BlcmF0aW9uKGUsIHIsIHQpIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5yLFxuICAgIGtpbmQ6IGUsXG4gICAgY29udGV4dDogci5jb250ZXh0ID8ge1xuICAgICAgLi4uci5jb250ZXh0LFxuICAgICAgLi4udFxuICAgIH0gOiB0IHx8IHIuY29udGV4dFxuICB9O1xufVxuXG52YXIgYWRkTWV0YWRhdGEgPSAoZSwgcikgPT4gbWFrZU9wZXJhdGlvbihlLmtpbmQsIGUsIHtcbiAgbWV0YToge1xuICAgIC4uLmUuY29udGV4dC5tZXRhLFxuICAgIC4uLnJcbiAgfVxufSk7XG5cbnZhciBub29wID0gKCkgPT4ge307XG5cbmZ1bmN0aW9uIGdxbChuKSB7XG4gIHZhciBhID0gbmV3IE1hcDtcbiAgdmFyIGkgPSBbXTtcbiAgdmFyIG8gPSBbXTtcbiAgdmFyIHMgPSBBcnJheS5pc0FycmF5KG4pID8gblswXSA6IG4gfHwgXCJcIjtcbiAgZm9yICh2YXIgYyA9IDE7IGMgPCBhcmd1bWVudHMubGVuZ3RoOyBjKyspIHtcbiAgICB2YXIgdSA9IGFyZ3VtZW50c1tjXTtcbiAgICBpZiAodSAmJiB1LmRlZmluaXRpb25zKSB7XG4gICAgICBvLnB1c2godSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMgKz0gdTtcbiAgICB9XG4gICAgcyArPSBhcmd1bWVudHNbMF1bY107XG4gIH1cbiAgby51bnNoaWZ0KHIocykpO1xuICBmb3IgKHZhciBwID0gMDsgcCA8IG8ubGVuZ3RoOyBwKyspIHtcbiAgICBmb3IgKHZhciBkID0gMDsgZCA8IG9bcF0uZGVmaW5pdGlvbnMubGVuZ3RoOyBkKyspIHtcbiAgICAgIHZhciBsID0gb1twXS5kZWZpbml0aW9uc1tkXTtcbiAgICAgIGlmIChsLmtpbmQgPT09IGUuRlJBR01FTlRfREVGSU5JVElPTikge1xuICAgICAgICB2YXIgdiA9IGwubmFtZS52YWx1ZTtcbiAgICAgICAgdmFyIGYgPSB0KGwpO1xuICAgICAgICBpZiAoIWEuaGFzKHYpKSB7XG4gICAgICAgICAgYS5zZXQodiwgZik7XG4gICAgICAgICAgaS5wdXNoKGwpO1xuICAgICAgICB9IGVsc2UgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJiBhLmdldCh2KSAhPT0gZikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIltXQVJOSU5HOiBEdXBsaWNhdGUgRnJhZ21lbnRdIEEgZnJhZ21lbnQgd2l0aCBuYW1lIGBcIiArIHYgKyBcImAgYWxyZWFkeSBleGlzdHMgaW4gdGhpcyBkb2N1bWVudC5cXG5XaGlsZSBmcmFnbWVudCBuYW1lcyBtYXkgbm90IGJlIHVuaXF1ZSBhY3Jvc3MgeW91ciBzb3VyY2UsIGVhY2ggbmFtZSBtdXN0IGJlIHVuaXF1ZSBwZXIgZG9jdW1lbnQuXCIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpLnB1c2gobCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByKHtcbiAgICBraW5kOiBlLkRPQ1VNRU5ULFxuICAgIGRlZmluaXRpb25zOiBpXG4gIH0pO1xufVxuXG52YXIgc2hvdWxkU2tpcCA9ICh7a2luZDogZX0pID0+IFwibXV0YXRpb25cIiAhPT0gZSAmJiBcInF1ZXJ5XCIgIT09IGU7XG5cbnZhciBtYXBUeXBlTmFtZXMgPSBlID0+IHtcbiAgdmFyIHIgPSBmb3JtYXREb2N1bWVudChlLnF1ZXJ5KTtcbiAgaWYgKHIgIT09IGUucXVlcnkpIHtcbiAgICB2YXIgdCA9IG1ha2VPcGVyYXRpb24oZS5raW5kLCBlKTtcbiAgICB0LnF1ZXJ5ID0gcjtcbiAgICByZXR1cm4gdDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZTtcbiAgfVxufTtcblxudmFyIGNhY2hlRXhjaGFuZ2UgPSAoe2ZvcndhcmQ6IGUsIGNsaWVudDogciwgZGlzcGF0Y2hEZWJ1ZzogdH0pID0+IHtcbiAgdmFyIGEgPSBuZXcgTWFwO1xuICB2YXIgaSA9IG5ldyBNYXA7XG4gIHZhciBpc09wZXJhdGlvbkNhY2hlZCA9IGUgPT4gXCJxdWVyeVwiID09PSBlLmtpbmQgJiYgXCJuZXR3b3JrLW9ubHlcIiAhPT0gZS5jb250ZXh0LnJlcXVlc3RQb2xpY3kgJiYgKFwiY2FjaGUtb25seVwiID09PSBlLmNvbnRleHQucmVxdWVzdFBvbGljeSB8fCBhLmhhcyhlLmtleSkpO1xuICByZXR1cm4gbyA9PiB7XG4gICAgdmFyIHMgPSBtKChlID0+IHtcbiAgICAgIHZhciBpID0gYS5nZXQoZS5rZXkpO1xuICAgICAgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmIHQoe1xuICAgICAgICBvcGVyYXRpb246IGUsXG4gICAgICAgIC4uLmkgPyB7XG4gICAgICAgICAgdHlwZTogXCJjYWNoZUhpdFwiLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiVGhlIHJlc3VsdCB3YXMgc3VjY2Vzc2Z1bGx5IHJldHJpZWQgZnJvbSB0aGUgY2FjaGVcIlxuICAgICAgICB9IDoge1xuICAgICAgICAgIHR5cGU6IFwiY2FjaGVNaXNzXCIsXG4gICAgICAgICAgbWVzc2FnZTogXCJUaGUgcmVzdWx0IGNvdWxkIG5vdCBiZSByZXRyaWV2ZWQgZnJvbSB0aGUgY2FjaGVcIlxuICAgICAgICB9LFxuICAgICAgICBzb3VyY2U6IFwiY2FjaGVFeGNoYW5nZVwiXG4gICAgICB9KTtcbiAgICAgIHZhciBvID0gaSB8fCBuKGUsIHtcbiAgICAgICAgZGF0YTogbnVsbFxuICAgICAgfSk7XG4gICAgICBvID0ge1xuICAgICAgICAuLi5vLFxuICAgICAgICBvcGVyYXRpb246IGFkZE1ldGFkYXRhKGUsIHtcbiAgICAgICAgICBjYWNoZU91dGNvbWU6IGkgPyBcImhpdFwiIDogXCJtaXNzXCJcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgICBpZiAoXCJjYWNoZS1hbmQtbmV0d29ya1wiID09PSBlLmNvbnRleHQucmVxdWVzdFBvbGljeSkge1xuICAgICAgICBvLnN0YWxlID0gITA7XG4gICAgICAgIHJlZXhlY3V0ZU9wZXJhdGlvbihyLCBlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvO1xuICAgIH0pKShrKChlID0+ICFzaG91bGRTa2lwKGUpICYmIGlzT3BlcmF0aW9uQ2FjaGVkKGUpKSkobykpO1xuICAgIHZhciBjID0geCgoZSA9PiB7XG4gICAgICB2YXIge29wZXJhdGlvbjogbn0gPSBlO1xuICAgICAgaWYgKCFuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBvID0gbi5jb250ZXh0LmFkZGl0aW9uYWxUeXBlbmFtZXMgfHwgW107XG4gICAgICBpZiAoXCJzdWJzY3JpcHRpb25cIiAhPT0gZS5vcGVyYXRpb24ua2luZCkge1xuICAgICAgICBvID0gKGUgPT4gWyAuLi5jb2xsZWN0VHlwZXMoZSwgbmV3IFNldCkgXSkoZS5kYXRhKS5jb25jYXQobyk7XG4gICAgICB9XG4gICAgICBpZiAoXCJtdXRhdGlvblwiID09PSBlLm9wZXJhdGlvbi5raW5kIHx8IFwic3Vic2NyaXB0aW9uXCIgPT09IGUub3BlcmF0aW9uLmtpbmQpIHtcbiAgICAgICAgdmFyIHMgPSBuZXcgU2V0O1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgdCh7XG4gICAgICAgICAgdHlwZTogXCJjYWNoZUludmFsaWRhdGlvblwiLFxuICAgICAgICAgIG1lc3NhZ2U6IGBUaGUgZm9sbG93aW5nIHR5cGVuYW1lcyBoYXZlIGJlZW4gaW52YWxpZGF0ZWQ6ICR7b31gLFxuICAgICAgICAgIG9wZXJhdGlvbjogbixcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0eXBlbmFtZXM6IG8sXG4gICAgICAgICAgICByZXNwb25zZTogZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgc291cmNlOiBcImNhY2hlRXhjaGFuZ2VcIlxuICAgICAgICB9KTtcbiAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBvLmxlbmd0aDsgYysrKSB7XG4gICAgICAgICAgdmFyIHUgPSBvW2NdO1xuICAgICAgICAgIHZhciBwID0gaS5nZXQodSk7XG4gICAgICAgICAgaWYgKCFwKSB7XG4gICAgICAgICAgICBpLnNldCh1LCBwID0gbmV3IFNldCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAodmFyIGQgb2YgcC52YWx1ZXMoKSkge1xuICAgICAgICAgICAgcy5hZGQoZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHAuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBsIG9mIHMudmFsdWVzKCkpIHtcbiAgICAgICAgICBpZiAoYS5oYXMobCkpIHtcbiAgICAgICAgICAgIG4gPSBhLmdldChsKS5vcGVyYXRpb247XG4gICAgICAgICAgICBhLmRlbGV0ZShsKTtcbiAgICAgICAgICAgIHJlZXhlY3V0ZU9wZXJhdGlvbihyLCBuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoXCJxdWVyeVwiID09PSBuLmtpbmQgJiYgZS5kYXRhKSB7XG4gICAgICAgIGEuc2V0KG4ua2V5LCBlKTtcbiAgICAgICAgZm9yICh2YXIgdiA9IDA7IHYgPCBvLmxlbmd0aDsgdisrKSB7XG4gICAgICAgICAgdmFyIGYgPSBvW3ZdO1xuICAgICAgICAgIHZhciBoID0gaS5nZXQoZik7XG4gICAgICAgICAgaWYgKCFoKSB7XG4gICAgICAgICAgICBpLnNldChmLCBoID0gbmV3IFNldCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGguYWRkKG4ua2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pKShlKGsoKGUgPT4gXCJxdWVyeVwiICE9PSBlLmtpbmQgfHwgXCJjYWNoZS1vbmx5XCIgIT09IGUuY29udGV4dC5yZXF1ZXN0UG9saWN5KSkobSgoZSA9PiBhZGRNZXRhZGF0YShlLCB7XG4gICAgICBjYWNoZU91dGNvbWU6IFwibWlzc1wiXG4gICAgfSkpKShnKFsgbShtYXBUeXBlTmFtZXMpKGsoKGUgPT4gIXNob3VsZFNraXAoZSkgJiYgIWlzT3BlcmF0aW9uQ2FjaGVkKGUpKSkobykpLCBrKChlID0+IHNob3VsZFNraXAoZSkpKShvKSBdKSkpKSk7XG4gICAgcmV0dXJuIGcoWyBzLCBjIF0pO1xuICB9O1xufTtcblxudmFyIHJlZXhlY3V0ZU9wZXJhdGlvbiA9IChlLCByKSA9PiBlLnJlZXhlY3V0ZU9wZXJhdGlvbihtYWtlT3BlcmF0aW9uKHIua2luZCwgciwge1xuICByZXF1ZXN0UG9saWN5OiBcIm5ldHdvcmstb25seVwiXG59KSk7XG5cbnZhciBUID0gbmV3IFNldDtcblxudmFyIHNzckV4Y2hhbmdlID0gKGUgPSB7fSkgPT4ge1xuICB2YXIgciA9ICEhZS5zdGFsZVdoaWxlUmV2YWxpZGF0ZTtcbiAgdmFyIHQgPSAhIWUuaW5jbHVkZUV4dGVuc2lvbnM7XG4gIHZhciBuID0ge307XG4gIHZhciBpID0gW107XG4gIHZhciBpbnZhbGlkYXRlID0gZSA9PiB7XG4gICAgaS5wdXNoKGUub3BlcmF0aW9uLmtleSk7XG4gICAgaWYgKDEgPT09IGkubGVuZ3RoKSB7XG4gICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgoKSA9PiB7XG4gICAgICAgIHZhciBlO1xuICAgICAgICB3aGlsZSAoZSA9IGkuc2hpZnQoKSkge1xuICAgICAgICAgIG5bZV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xuICB2YXIgc3NyID0gKHtjbGllbnQ6IGksIGZvcndhcmQ6IG99KSA9PiBzID0+IHtcbiAgICB2YXIgYyA9IGUgJiYgXCJib29sZWFuXCIgPT0gdHlwZW9mIGUuaXNDbGllbnQgPyAhIWUuaXNDbGllbnQgOiAhaS5zdXNwZW5zZTtcbiAgICB2YXIgdSA9IG8obShtYXBUeXBlTmFtZXMpKGsoKGUgPT4gXCJ0ZWFyZG93blwiID09PSBlLmtpbmQgfHwgIW5bZS5rZXldIHx8ICEhbltlLmtleV0uaGFzTmV4dCB8fCBcIm5ldHdvcmstb25seVwiID09PSBlLmNvbnRleHQucmVxdWVzdFBvbGljeSkpKHMpKSk7XG4gICAgdmFyIHAgPSBtKChlID0+IHtcbiAgICAgIHZhciBvID0gKChlLCByLCB0KSA9PiAoe1xuICAgICAgICBvcGVyYXRpb246IGUsXG4gICAgICAgIGRhdGE6IHIuZGF0YSA/IEpTT04ucGFyc2Uoci5kYXRhKSA6IHZvaWQgMCxcbiAgICAgICAgZXh0ZW5zaW9uczogdCAmJiByLmV4dGVuc2lvbnMgPyBKU09OLnBhcnNlKHIuZXh0ZW5zaW9ucykgOiB2b2lkIDAsXG4gICAgICAgIGVycm9yOiByLmVycm9yID8gbmV3IGEoe1xuICAgICAgICAgIG5ldHdvcmtFcnJvcjogci5lcnJvci5uZXR3b3JrRXJyb3IgPyBuZXcgRXJyb3Ioci5lcnJvci5uZXR3b3JrRXJyb3IpIDogdm9pZCAwLFxuICAgICAgICAgIGdyYXBoUUxFcnJvcnM6IHIuZXJyb3IuZ3JhcGhRTEVycm9yc1xuICAgICAgICB9KSA6IHZvaWQgMCxcbiAgICAgICAgc3RhbGU6ICExLFxuICAgICAgICBoYXNOZXh0OiAhIXIuaGFzTmV4dFxuICAgICAgfSkpKGUsIG5bZS5rZXldLCB0KTtcbiAgICAgIGlmIChyICYmICFULmhhcyhlLmtleSkpIHtcbiAgICAgICAgby5zdGFsZSA9ICEwO1xuICAgICAgICBULmFkZChlLmtleSk7XG4gICAgICAgIHJlZXhlY3V0ZU9wZXJhdGlvbihpLCBlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLm8sXG4gICAgICAgIG9wZXJhdGlvbjogYWRkTWV0YWRhdGEoZSwge1xuICAgICAgICAgIGNhY2hlT3V0Y29tZTogXCJoaXRcIlxuICAgICAgICB9KVxuICAgICAgfTtcbiAgICB9KSkoaygoZSA9PiBcInRlYXJkb3duXCIgIT09IGUua2luZCAmJiAhIW5bZS5rZXldICYmIFwibmV0d29yay1vbmx5XCIgIT09IGUuY29udGV4dC5yZXF1ZXN0UG9saWN5KSkocykpO1xuICAgIGlmICghYykge1xuICAgICAgdSA9IHgoKGUgPT4ge1xuICAgICAgICB2YXIge29wZXJhdGlvbjogcn0gPSBlO1xuICAgICAgICBpZiAoXCJtdXRhdGlvblwiICE9PSByLmtpbmQpIHtcbiAgICAgICAgICB2YXIgYSA9ICgoZSwgcikgPT4ge1xuICAgICAgICAgICAgdmFyIHQgPSB7XG4gICAgICAgICAgICAgIGhhc05leHQ6IGUuaGFzTmV4dFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IGUuZGF0YSkge1xuICAgICAgICAgICAgICB0LmRhdGEgPSBKU09OLnN0cmluZ2lmeShlLmRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHIgJiYgdm9pZCAwICE9PSBlLmV4dGVuc2lvbnMpIHtcbiAgICAgICAgICAgICAgdC5leHRlbnNpb25zID0gSlNPTi5zdHJpbmdpZnkoZS5leHRlbnNpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlLmVycm9yKSB7XG4gICAgICAgICAgICAgIHQuZXJyb3IgPSB7XG4gICAgICAgICAgICAgICAgZ3JhcGhRTEVycm9yczogZS5lcnJvci5ncmFwaFFMRXJyb3JzLm1hcCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoIWUucGF0aCAmJiAhZS5leHRlbnNpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGUucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uczogZS5leHRlbnNpb25zXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBpZiAoZS5lcnJvci5uZXR3b3JrRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0LmVycm9yLm5ldHdvcmtFcnJvciA9IFwiXCIgKyBlLmVycm9yLm5ldHdvcmtFcnJvcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgfSkoZSwgdCk7XG4gICAgICAgICAgbltyLmtleV0gPSBhO1xuICAgICAgICB9XG4gICAgICB9KSkodSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHAgPSB4KGludmFsaWRhdGUpKHApO1xuICAgIH1cbiAgICByZXR1cm4gZyhbIHUsIHAgXSk7XG4gIH07XG4gIHNzci5yZXN0b3JlRGF0YSA9IGUgPT4ge1xuICAgIGZvciAodmFyIHIgaW4gZSkge1xuICAgICAgaWYgKG51bGwgIT09IG5bcl0pIHtcbiAgICAgICAgbltyXSA9IGVbcl07XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBzc3IuZXh0cmFjdERhdGEgPSAoKSA9PiB7XG4gICAgdmFyIGUgPSB7fTtcbiAgICBmb3IgKHZhciByIGluIG4pIHtcbiAgICAgIGlmIChudWxsICE9IG5bcl0pIHtcbiAgICAgICAgZVtyXSA9IG5bcl07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlO1xuICB9O1xuICBpZiAoZSAmJiBlLmluaXRpYWxTdGF0ZSkge1xuICAgIHNzci5yZXN0b3JlRGF0YShlLmluaXRpYWxTdGF0ZSk7XG4gIH1cbiAgcmV0dXJuIHNzcjtcbn07XG5cbnZhciBzdWJzY3JpcHRpb25FeGNoYW5nZSA9ICh7Zm9yd2FyZFN1YnNjcmlwdGlvbjogZSwgZW5hYmxlQWxsT3BlcmF0aW9uczogciwgaXNTdWJzY3JpcHRpb25PcGVyYXRpb246IHR9KSA9PiAoe2NsaWVudDogYSwgZm9yd2FyZDogaX0pID0+IHtcbiAgdmFyIHUgPSB0IHx8IChlID0+IFwic3Vic2NyaXB0aW9uXCIgPT09IGUua2luZCB8fCAhIXIgJiYgKFwicXVlcnlcIiA9PT0gZS5raW5kIHx8IFwibXV0YXRpb25cIiA9PT0gZS5raW5kKSk7XG4gIHJldHVybiByID0+IHtcbiAgICB2YXIgdCA9IHcoKHQgPT4ge1xuICAgICAgdmFyIHtrZXk6IGl9ID0gdDtcbiAgICAgIHZhciB1ID0gaygoZSA9PiBcInRlYXJkb3duXCIgPT09IGUua2luZCAmJiBlLmtleSA9PT0gaSkpKHIpO1xuICAgICAgcmV0dXJuIE8odSkoKHIgPT4ge1xuICAgICAgICB2YXIgdCA9IGUobyhyKSwgcik7XG4gICAgICAgIHJldHVybiBFKChlID0+IHtcbiAgICAgICAgICB2YXIgaSA9ICExO1xuICAgICAgICAgIHZhciBvO1xuICAgICAgICAgIHZhciB1O1xuICAgICAgICAgIGZ1bmN0aW9uIG5leHRSZXN1bHQodCkge1xuICAgICAgICAgICAgZS5uZXh0KHUgPSB1ID8gYyh1LCB0KSA6IG4ociwgdCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaSkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvID0gdC5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICBuZXh0OiBuZXh0UmVzdWx0LFxuICAgICAgICAgICAgICBlcnJvcih0KSB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodCkpIHtcbiAgICAgICAgICAgICAgICAgIG5leHRSZXN1bHQoe1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnM6IHRcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBlLm5leHQocyhyLCB0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGUuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY29tcGxldGUoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpKSB7XG4gICAgICAgICAgICAgICAgICBpID0gITA7XG4gICAgICAgICAgICAgICAgICBpZiAoXCJzdWJzY3JpcHRpb25cIiA9PT0gci5raW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGEucmVleGVjdXRlT3BlcmF0aW9uKG1ha2VPcGVyYXRpb24oXCJ0ZWFyZG93blwiLCByLCByLmNvbnRleHQpKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmICh1ICYmIHUuaGFzTmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0UmVzdWx0KHtcbiAgICAgICAgICAgICAgICAgICAgICBoYXNOZXh0OiAhMVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGUuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgaSA9ICEwO1xuICAgICAgICAgICAgaWYgKG8pIHtcbiAgICAgICAgICAgICAgby51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH0pKTtcbiAgICAgIH0pKHQpKTtcbiAgICB9KSkoaygoZSA9PiBcInRlYXJkb3duXCIgIT09IGUua2luZCAmJiB1KGUpKSkocikpO1xuICAgIHZhciBwID0gaShrKChlID0+IFwidGVhcmRvd25cIiA9PT0gZS5raW5kIHx8ICF1KGUpKSkocikpO1xuICAgIHJldHVybiBnKFsgdCwgcCBdKTtcbiAgfTtcbn07XG5cbnZhciBkZWJ1Z0V4Y2hhbmdlID0gKHtmb3J3YXJkOiBlfSkgPT4ge1xuICBpZiAoXCJwcm9kdWN0aW9uXCIgPT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgcmV0dXJuIHIgPT4gZShyKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gciA9PiB4KChlID0+IGNvbnNvbGUubG9nKFwiW0V4Y2hhbmdlIGRlYnVnXTogQ29tcGxldGVkIG9wZXJhdGlvbjogXCIsIGUpKSkoZSh4KChlID0+IGNvbnNvbGUubG9nKFwiW0V4Y2hhbmdlIGRlYnVnXTogSW5jb21pbmcgb3BlcmF0aW9uOiBcIiwgZSkpKShyKSkpO1xuICB9XG59O1xuXG52YXIgZmV0Y2hFeGNoYW5nZSA9ICh7Zm9yd2FyZDogZSwgZGlzcGF0Y2hEZWJ1Zzogcn0pID0+IHQgPT4ge1xuICB2YXIgbiA9IHcoKGUgPT4ge1xuICAgIHZhciBuID0gbyhlKTtcbiAgICB2YXIgYSA9IHUoZSwgbik7XG4gICAgdmFyIGkgPSBwKGUsIG4pO1xuICAgIFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJiByKHtcbiAgICAgIHR5cGU6IFwiZmV0Y2hSZXF1ZXN0XCIsXG4gICAgICBtZXNzYWdlOiBcIkEgZmV0Y2ggcmVxdWVzdCBpcyBiZWluZyBleGVjdXRlZC5cIixcbiAgICAgIG9wZXJhdGlvbjogZSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXJsOiBhLFxuICAgICAgICBmZXRjaE9wdGlvbnM6IGlcbiAgICAgIH0sXG4gICAgICBzb3VyY2U6IFwiZmV0Y2hFeGNoYW5nZVwiXG4gICAgfSk7XG4gICAgdmFyIHMgPSBPKGsoKHIgPT4gXCJ0ZWFyZG93blwiID09PSByLmtpbmQgJiYgci5rZXkgPT09IGUua2V5KSkodCkpKGQoZSwgYSwgaSkpO1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgIHJldHVybiBiKCh0ID0+IHtcbiAgICAgICAgdmFyIG4gPSAhdC5kYXRhID8gdC5lcnJvciA6IHZvaWQgMDtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmIHIoe1xuICAgICAgICAgIHR5cGU6IG4gPyBcImZldGNoRXJyb3JcIiA6IFwiZmV0Y2hTdWNjZXNzXCIsXG4gICAgICAgICAgbWVzc2FnZTogYEEgJHtuID8gXCJmYWlsZWRcIiA6IFwic3VjY2Vzc2Z1bFwifSBmZXRjaCByZXNwb25zZSBoYXMgYmVlbiByZXR1cm5lZC5gLFxuICAgICAgICAgIG9wZXJhdGlvbjogZSxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB1cmw6IGEsXG4gICAgICAgICAgICBmZXRjaE9wdGlvbnM6IGksXG4gICAgICAgICAgICB2YWx1ZTogbiB8fCB0XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzb3VyY2U6IFwiZmV0Y2hFeGNoYW5nZVwiXG4gICAgICAgIH0pO1xuICAgICAgfSkpKHMpO1xuICAgIH1cbiAgICByZXR1cm4gcztcbiAgfSkpKGsoKGUgPT4gXCJ0ZWFyZG93blwiICE9PSBlLmtpbmQgJiYgKFwic3Vic2NyaXB0aW9uXCIgIT09IGUua2luZCB8fCAhIWUuY29udGV4dC5mZXRjaFN1YnNjcmlwdGlvbnMpKSkodCkpO1xuICB2YXIgYSA9IGUoaygoZSA9PiBcInRlYXJkb3duXCIgPT09IGUua2luZCB8fCBcInN1YnNjcmlwdGlvblwiID09PSBlLmtpbmQgJiYgIWUuY29udGV4dC5mZXRjaFN1YnNjcmlwdGlvbnMpKSh0KSk7XG4gIHJldHVybiBnKFsgbiwgYSBdKTtcbn07XG5cbnZhciBjb21wb3NlRXhjaGFuZ2VzID0gZSA9PiAoe2NsaWVudDogciwgZm9yd2FyZDogdCwgZGlzcGF0Y2hEZWJ1Zzogbn0pID0+IGUucmVkdWNlUmlnaHQoKChlLCB0KSA9PiB7XG4gIHZhciBhID0gITE7XG4gIHJldHVybiB0KHtcbiAgICBjbGllbnQ6IHIsXG4gICAgZm9yd2FyZChyKSB7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAgIGlmIChhKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZm9yd2FyZCgpIG11c3Qgb25seSBiZSBjYWxsZWQgb25jZSBpbiBlYWNoIEV4Y2hhbmdlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBhID0gITA7XG4gICAgICB9XG4gICAgICByZXR1cm4gTihlKE4ocikpKTtcbiAgICB9LFxuICAgIGRpc3BhdGNoRGVidWcoZSkge1xuICAgICAgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmIG4oe1xuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIHNvdXJjZTogdC5uYW1lLFxuICAgICAgICAuLi5lXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufSksIHQpO1xuXG52YXIgbWFwRXhjaGFuZ2UgPSAoe29uT3BlcmF0aW9uOiBlLCBvblJlc3VsdDogciwgb25FcnJvcjogdH0pID0+ICh7Zm9yd2FyZDogbn0pID0+IGEgPT4gdygoZSA9PiB7XG4gIGlmICh0ICYmIGUuZXJyb3IpIHtcbiAgICB0KGUuZXJyb3IsIGUub3BlcmF0aW9uKTtcbiAgfVxuICB2YXIgbiA9IHIgJiYgcihlKSB8fCBlO1xuICByZXR1cm4gXCJ0aGVuXCIgaW4gbiA/IHEobikgOiBfKG4pO1xufSkpKG4odygociA9PiB7XG4gIHZhciB0ID0gZSAmJiBlKHIpIHx8IHI7XG4gIHJldHVybiBcInRoZW5cIiBpbiB0ID8gcSh0KSA6IF8odCk7XG59KSkoYSkpKTtcblxudmFyIGZhbGxiYWNrRXhjaGFuZ2UgPSAoe2Rpc3BhdGNoRGVidWc6IGV9KSA9PiByID0+IHtcbiAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgIHIgPSB4KChyID0+IHtcbiAgICAgIGlmIChcInRlYXJkb3duXCIgIT09IHIua2luZCAmJiBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgICAgdmFyIHQgPSBgTm8gZXhjaGFuZ2UgaGFzIGhhbmRsZWQgb3BlcmF0aW9ucyBvZiBraW5kIFwiJHtyLmtpbmR9XCIuIENoZWNrIHdoZXRoZXIgeW91J3ZlIGFkZGVkIGFuIGV4Y2hhbmdlIHJlc3BvbnNpYmxlIGZvciB0aGVzZSBvcGVyYXRpb25zLmA7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJiBlKHtcbiAgICAgICAgICB0eXBlOiBcImZhbGxiYWNrQ2F0Y2hcIixcbiAgICAgICAgICBtZXNzYWdlOiB0LFxuICAgICAgICAgIG9wZXJhdGlvbjogcixcbiAgICAgICAgICBzb3VyY2U6IFwiZmFsbGJhY2tFeGNoYW5nZVwiXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLndhcm4odCk7XG4gICAgICB9XG4gICAgfSkpKHIpO1xuICB9XG4gIHJldHVybiBrKChlID0+ICExKSkocik7XG59O1xuXG52YXIgQyA9IGZ1bmN0aW9uIENsaWVudChlKSB7XG4gIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgIWUudXJsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IGFyZSBjcmVhdGluZyBhbiB1cnFsLWNsaWVudCB3aXRob3V0IGEgdXJsLlwiKTtcbiAgfVxuICB2YXIgciA9IDA7XG4gIHZhciB0ID0gbmV3IE1hcDtcbiAgdmFyIG4gPSBuZXcgTWFwO1xuICB2YXIgYSA9IG5ldyBTZXQ7XG4gIHZhciBpID0gW107XG4gIHZhciBvID0ge1xuICAgIHVybDogZS51cmwsXG4gICAgZmV0Y2hTdWJzY3JpcHRpb25zOiBlLmZldGNoU3Vic2NyaXB0aW9ucyxcbiAgICBmZXRjaE9wdGlvbnM6IGUuZmV0Y2hPcHRpb25zLFxuICAgIGZldGNoOiBlLmZldGNoLFxuICAgIHByZWZlckdldE1ldGhvZDogZS5wcmVmZXJHZXRNZXRob2QsXG4gICAgcmVxdWVzdFBvbGljeTogZS5yZXF1ZXN0UG9saWN5IHx8IFwiY2FjaGUtZmlyc3RcIlxuICB9O1xuICB2YXIgcyA9IEQoKTtcbiAgZnVuY3Rpb24gbmV4dE9wZXJhdGlvbihlKSB7XG4gICAgaWYgKFwibXV0YXRpb25cIiA9PT0gZS5raW5kIHx8IFwidGVhcmRvd25cIiA9PT0gZS5raW5kIHx8ICFhLmhhcyhlLmtleSkpIHtcbiAgICAgIGlmIChcInRlYXJkb3duXCIgPT09IGUua2luZCkge1xuICAgICAgICBhLmRlbGV0ZShlLmtleSk7XG4gICAgICB9IGVsc2UgaWYgKFwibXV0YXRpb25cIiAhPT0gZS5raW5kKSB7XG4gICAgICAgIGEuYWRkKGUua2V5KTtcbiAgICAgIH1cbiAgICAgIHMubmV4dChlKTtcbiAgICB9XG4gIH1cbiAgdmFyIGMgPSAhMTtcbiAgZnVuY3Rpb24gZGlzcGF0Y2hPcGVyYXRpb24oZSkge1xuICAgIGlmIChlKSB7XG4gICAgICBuZXh0T3BlcmF0aW9uKGUpO1xuICAgIH1cbiAgICBpZiAoIWMpIHtcbiAgICAgIGMgPSAhMDtcbiAgICAgIHdoaWxlIChjICYmIChlID0gaS5zaGlmdCgpKSkge1xuICAgICAgICBuZXh0T3BlcmF0aW9uKGUpO1xuICAgICAgfVxuICAgICAgYyA9ICExO1xuICAgIH1cbiAgfVxuICB2YXIgbWFrZVJlc3VsdFNvdXJjZSA9IGUgPT4ge1xuICAgIHZhciByID0gTyhrKChyID0+IFwidGVhcmRvd25cIiA9PT0gci5raW5kICYmIHIua2V5ID09PSBlLmtleSkpKHMuc291cmNlKSkoaygociA9PiByLm9wZXJhdGlvbi5raW5kID09PSBlLmtpbmQgJiYgci5vcGVyYXRpb24ua2V5ID09PSBlLmtleSAmJiAoIXIub3BlcmF0aW9uLmNvbnRleHQuX2luc3RhbmNlIHx8IHIub3BlcmF0aW9uLmNvbnRleHQuX2luc3RhbmNlID09PSBlLmNvbnRleHQuX2luc3RhbmNlKSkpKEUpKTtcbiAgICBpZiAoXCJxdWVyeVwiICE9PSBlLmtpbmQpIHtcbiAgICAgIHIgPSBBKChlID0+ICEhZS5oYXNOZXh0KSwgITApKHIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByID0gUigociA9PiB7XG4gICAgICAgIHZhciB0ID0gXyhyKTtcbiAgICAgICAgcmV0dXJuIHIuc3RhbGUgfHwgci5oYXNOZXh0ID8gdCA6IGcoWyB0LCBtKCgoKSA9PiB7XG4gICAgICAgICAgci5zdGFsZSA9ICEwO1xuICAgICAgICAgIHJldHVybiByO1xuICAgICAgICB9KSkoaCgxKShrKChyID0+IHIua2V5ID09PSBlLmtleSkpKHMuc291cmNlKSkpIF0pO1xuICAgICAgfSkpKHIpO1xuICAgIH1cbiAgICBpZiAoXCJtdXRhdGlvblwiICE9PSBlLmtpbmQpIHtcbiAgICAgIHIgPSBNKCgoKSA9PiB7XG4gICAgICAgIGEuZGVsZXRlKGUua2V5KTtcbiAgICAgICAgdC5kZWxldGUoZS5rZXkpO1xuICAgICAgICBuLmRlbGV0ZShlLmtleSk7XG4gICAgICAgIGMgPSAhMTtcbiAgICAgICAgZm9yICh2YXIgciA9IGkubGVuZ3RoIC0gMTsgciA+PSAwOyByLS0pIHtcbiAgICAgICAgICBpZiAoaVtyXS5rZXkgPT09IGUua2V5KSB7XG4gICAgICAgICAgICBpLnNwbGljZShyLCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbmV4dE9wZXJhdGlvbihtYWtlT3BlcmF0aW9uKFwidGVhcmRvd25cIiwgZSwgZS5jb250ZXh0KSk7XG4gICAgICB9KSkoYigociA9PiB7XG4gICAgICAgIGlmIChyLnN0YWxlKSB7XG4gICAgICAgICAgaWYgKCFyLmhhc05leHQpIHtcbiAgICAgICAgICAgIGEuZGVsZXRlKGUua2V5KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBpLmxlbmd0aDsgbisrKSB7XG4gICAgICAgICAgICAgIHZhciBvID0gaVtuXTtcbiAgICAgICAgICAgICAgaWYgKG8ua2V5ID09PSByLm9wZXJhdGlvbi5rZXkpIHtcbiAgICAgICAgICAgICAgICBhLmRlbGV0ZShvLmtleSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIXIuaGFzTmV4dCkge1xuICAgICAgICAgIGEuZGVsZXRlKGUua2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0LnNldChlLmtleSwgcik7XG4gICAgICB9KSkocikpO1xuICAgIH0gZWxzZSB7XG4gICAgICByID0gUCgoKCkgPT4ge1xuICAgICAgICBuZXh0T3BlcmF0aW9uKGUpO1xuICAgICAgfSkpKHIpO1xuICAgIH1cbiAgICByZXR1cm4gTihyKTtcbiAgfTtcbiAgdmFyIHUgPSB0aGlzIGluc3RhbmNlb2YgQ2xpZW50ID8gdGhpcyA6IE9iamVjdC5jcmVhdGUoQ2xpZW50LnByb3RvdHlwZSk7XG4gIHZhciBwID0gT2JqZWN0LmFzc2lnbih1LCB7XG4gICAgc3VzcGVuc2U6ICEhZS5zdXNwZW5zZSxcbiAgICBvcGVyYXRpb25zJDogcy5zb3VyY2UsXG4gICAgcmVleGVjdXRlT3BlcmF0aW9uKGUpIHtcbiAgICAgIGlmIChcInRlYXJkb3duXCIgPT09IGUua2luZCkge1xuICAgICAgICBkaXNwYXRjaE9wZXJhdGlvbihlKTtcbiAgICAgIH0gZWxzZSBpZiAoXCJtdXRhdGlvblwiID09PSBlLmtpbmQpIHtcbiAgICAgICAgaS5wdXNoKGUpO1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKGRpc3BhdGNoT3BlcmF0aW9uKTtcbiAgICAgIH0gZWxzZSBpZiAobi5oYXMoZS5rZXkpKSB7XG4gICAgICAgIHZhciByID0gITE7XG4gICAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgaS5sZW5ndGg7IHQrKykge1xuICAgICAgICAgIGlmIChpW3RdLmtleSA9PT0gZS5rZXkpIHtcbiAgICAgICAgICAgIGlbdF0gPSBlO1xuICAgICAgICAgICAgciA9ICEwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIShyIHx8IGEuaGFzKGUua2V5KSAmJiBcIm5ldHdvcmstb25seVwiICE9PSBlLmNvbnRleHQucmVxdWVzdFBvbGljeSkpIHtcbiAgICAgICAgICBpLnB1c2goZSk7XG4gICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihkaXNwYXRjaE9wZXJhdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYS5kZWxldGUoZS5rZXkpO1xuICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZGlzcGF0Y2hPcGVyYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBjcmVhdGVSZXF1ZXN0T3BlcmF0aW9uKGUsIHQsIG4pIHtcbiAgICAgIGlmICghbikge1xuICAgICAgICBuID0ge307XG4gICAgICB9XG4gICAgICB2YXIgYTtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgXCJ0ZWFyZG93blwiICE9PSBlICYmIChhID0gbCh0LnF1ZXJ5KSkgIT09IGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBvcGVyYXRpb24gb2YgdHlwZSBcIiR7ZX1cIiBidXQgZm91bmQgXCIke2F9XCJgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlT3BlcmF0aW9uKGUsIHQsIHtcbiAgICAgICAgX2luc3RhbmNlOiBcIm11dGF0aW9uXCIgPT09IGUgPyByID0gciArIDEgfCAwIDogdm9pZCAwLFxuICAgICAgICAuLi5vLFxuICAgICAgICAuLi5uLFxuICAgICAgICByZXF1ZXN0UG9saWN5OiBuLnJlcXVlc3RQb2xpY3kgfHwgby5yZXF1ZXN0UG9saWN5LFxuICAgICAgICBzdXNwZW5zZTogbi5zdXNwZW5zZSB8fCAhMSAhPT0gbi5zdXNwZW5zZSAmJiBwLnN1c3BlbnNlXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGV4ZWN1dGVSZXF1ZXN0T3BlcmF0aW9uKGUpIHtcbiAgICAgIGlmIChcIm11dGF0aW9uXCIgPT09IGUua2luZCkge1xuICAgICAgICByZXR1cm4gd2l0aFByb21pc2UobWFrZVJlc3VsdFNvdXJjZShlKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd2l0aFByb21pc2UoUygoKCkgPT4ge1xuICAgICAgICB2YXIgciA9IG4uZ2V0KGUua2V5KTtcbiAgICAgICAgaWYgKCFyKSB7XG4gICAgICAgICAgbi5zZXQoZS5rZXksIHIgPSBtYWtlUmVzdWx0U291cmNlKGUpKTtcbiAgICAgICAgfVxuICAgICAgICByID0gUCgoKCkgPT4ge1xuICAgICAgICAgIGRpc3BhdGNoT3BlcmF0aW9uKGUpO1xuICAgICAgICB9KSkocik7XG4gICAgICAgIHZhciBhID0gdC5nZXQoZS5rZXkpO1xuICAgICAgICBpZiAoXCJxdWVyeVwiID09PSBlLmtpbmQgJiYgYSAmJiAoYS5zdGFsZSB8fCBhLmhhc05leHQpKSB7XG4gICAgICAgICAgcmV0dXJuIFIoXykoZyhbIHIsIGsoKHIgPT4gciA9PT0gdC5nZXQoZS5rZXkpKSkoXyhhKSkgXSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiByO1xuICAgICAgICB9XG4gICAgICB9KSkpO1xuICAgIH0sXG4gICAgZXhlY3V0ZVF1ZXJ5KGUsIHIpIHtcbiAgICAgIHZhciB0ID0gcC5jcmVhdGVSZXF1ZXN0T3BlcmF0aW9uKFwicXVlcnlcIiwgZSwgcik7XG4gICAgICByZXR1cm4gcC5leGVjdXRlUmVxdWVzdE9wZXJhdGlvbih0KTtcbiAgICB9LFxuICAgIGV4ZWN1dGVTdWJzY3JpcHRpb24oZSwgcikge1xuICAgICAgdmFyIHQgPSBwLmNyZWF0ZVJlcXVlc3RPcGVyYXRpb24oXCJzdWJzY3JpcHRpb25cIiwgZSwgcik7XG4gICAgICByZXR1cm4gcC5leGVjdXRlUmVxdWVzdE9wZXJhdGlvbih0KTtcbiAgICB9LFxuICAgIGV4ZWN1dGVNdXRhdGlvbihlLCByKSB7XG4gICAgICB2YXIgdCA9IHAuY3JlYXRlUmVxdWVzdE9wZXJhdGlvbihcIm11dGF0aW9uXCIsIGUsIHIpO1xuICAgICAgcmV0dXJuIHAuZXhlY3V0ZVJlcXVlc3RPcGVyYXRpb24odCk7XG4gICAgfSxcbiAgICByZWFkUXVlcnkoZSwgciwgdCkge1xuICAgICAgdmFyIG4gPSBudWxsO1xuICAgICAgeSgoZSA9PiB7XG4gICAgICAgIG4gPSBlO1xuICAgICAgfSkpKHAucXVlcnkoZSwgciwgdCkpLnVuc3Vic2NyaWJlKCk7XG4gICAgICByZXR1cm4gbjtcbiAgICB9LFxuICAgIHF1ZXJ5OiAoZSwgciwgdCkgPT4gcC5leGVjdXRlUXVlcnkodihlLCByKSwgdCksXG4gICAgc3Vic2NyaXB0aW9uOiAoZSwgciwgdCkgPT4gcC5leGVjdXRlU3Vic2NyaXB0aW9uKHYoZSwgciksIHQpLFxuICAgIG11dGF0aW9uOiAoZSwgciwgdCkgPT4gcC5leGVjdXRlTXV0YXRpb24odihlLCByKSwgdClcbiAgfSk7XG4gIHZhciBkID0gbm9vcDtcbiAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgIHZhciB7bmV4dDogZiwgc291cmNlOiB4fSA9IEQoKTtcbiAgICBwLnN1YnNjcmliZVRvRGVidWdUYXJnZXQgPSBlID0+IHkoZSkoeCk7XG4gICAgZCA9IGY7XG4gIH1cbiAgdmFyIHcgPSBjb21wb3NlRXhjaGFuZ2VzKGUuZXhjaGFuZ2VzKTtcbiAgdmFyIEUgPSBOKHcoe1xuICAgIGNsaWVudDogcCxcbiAgICBkaXNwYXRjaERlYnVnOiBkLFxuICAgIGZvcndhcmQ6IGZhbGxiYWNrRXhjaGFuZ2Uoe1xuICAgICAgZGlzcGF0Y2hEZWJ1ZzogZFxuICAgIH0pXG4gIH0pKHMuc291cmNlKSk7XG4gIFYoRSk7XG4gIHJldHVybiBwO1xufTtcblxudmFyIFEgPSBDO1xuXG5leHBvcnQgeyBDIGFzIENsaWVudCwgYSBhcyBDb21iaW5lZEVycm9yLCBjYWNoZUV4Y2hhbmdlLCBjb21wb3NlRXhjaGFuZ2VzLCBRIGFzIGNyZWF0ZUNsaWVudCwgdiBhcyBjcmVhdGVSZXF1ZXN0LCBkZWJ1Z0V4Y2hhbmdlLCBtYXBFeGNoYW5nZSBhcyBlcnJvckV4Y2hhbmdlLCBmZXRjaEV4Y2hhbmdlLCBmb3JtYXREb2N1bWVudCwgZ3FsLCBzIGFzIG1ha2VFcnJvclJlc3VsdCwgbWFrZU9wZXJhdGlvbiwgbiBhcyBtYWtlUmVzdWx0LCBtYXBFeGNoYW5nZSwgYyBhcyBtZXJnZVJlc3VsdFBhdGNoLCBzc3JFeGNoYW5nZSwgdCBhcyBzdHJpbmdpZnlEb2N1bWVudCwgc3Vic2NyaXB0aW9uRXhjaGFuZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVycWwtY29yZS5tanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@urql/core/dist/urql-core.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@urql/next/dist/urql-next-rsc.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@urql/next/dist/urql-next-rsc.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerUrql: () => (/* binding */ registerUrql)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react.js\");\n\n\nfunction registerUrql(e) {\n  return {\n    getClient: react__WEBPACK_IMPORTED_MODULE_0__.cache(e)\n  };\n}\n\n\n//# sourceMappingURL=urql-next-rsc.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHVycWwvbmV4dC9kaXN0L3VycWwtbmV4dC1yc2MubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTJCOztBQUUzQjtBQUNBO0FBQ0EsZUFBZSx3Q0FBTztBQUN0QjtBQUNBOztBQUV3QjtBQUN4QiIsInNvdXJjZXMiOlsiL2hvbWUvcmlrdXNlbi93b3Jrc3BhY2UvbmV4dGpzLW1zdy1yZXByb2R1Y3Rpb24vbm9kZV9tb2R1bGVzL0B1cnFsL25leHQvZGlzdC91cnFsLW5leHQtcnNjLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyByIGZyb20gXCJyZWFjdFwiO1xuXG5mdW5jdGlvbiByZWdpc3RlclVycWwoZSkge1xuICByZXR1cm4ge1xuICAgIGdldENsaWVudDogci5jYWNoZShlKVxuICB9O1xufVxuXG5leHBvcnQgeyByZWdpc3RlclVycWwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVycWwtbmV4dC1yc2MubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@urql/next/dist/urql-next-rsc.mjs\n");

/***/ })

};
;